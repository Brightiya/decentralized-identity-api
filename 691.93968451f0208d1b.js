"use strict";(self.webpackChunkangular_src=self.webpackChunkangular_src||[]).push([[691],{19691:(U,g,r)=>{r.r(g),r.d(g,{ProfileOverviewComponent:()=>B});var e=r(64292),c=r(19351),l=r(68598),f=r(20091),m=r(5320),v=r(58497),u=r(56093),P=r(83667),x=r(24536),s=r(91764),p=r(17199),b=r(61016),O=r(84787),k=r(93501),h=r(63636),C=r(96792),E=r(77694);function M(n,i){if(1&n&&(e.j41(0,"mat-option",8),e.EFF(1),e.nI1(2,"titlecase"),e.k0s()),2&n){const t=i.$implicit;e.Y8G("value",t),e.R7$(),e.SpI(" ",e.bMT(2,2,t)," ")}}function F(n,i){if(1&n&&(e.qex(0),e.j41(1,"div",9),e.nrm(2,"mat-spinner",10),e.j41(3,"div",11)(4,"h3"),e.EFF(5,"Loading profile data..."),e.k0s(),e.j41(6,"p",12),e.EFF(7),e.nI1(8,"titlecase"),e.k0s()()(),e.bVm()),2&n){const t=e.XpG();e.R7$(7),e.SpI("Fetching information for ",e.bMT(8,1,t.selectedContext()),"")}}function w(n,i){if(1&n&&(e.j41(0,"span",28),e.EFF(1),e.k0s()),2&n){const t=e.XpG().ngIf;e.R7$(),e.SpI(" (",t.code,") ")}}function I(n,i){if(1&n&&(e.j41(0,"div",24)(1,"div",25),e.EFF(2,"Gender"),e.k0s(),e.j41(3,"div",26),e.EFF(4),e.DNE(5,w,2,1,"span",27),e.k0s()()),2&n){const t=i.ngIf;e.R7$(4),e.SpI(" ",t.label," "),e.R7$(),e.Y8G("ngIf",t.code)}}function R(n,i){if(1&n&&(e.j41(0,"div",24)(1,"div",25),e.EFF(2,"Pronouns"),e.k0s(),e.j41(3,"div",26),e.EFF(4),e.k0s()()),2&n){const t=e.XpG().$implicit;e.R7$(4),e.JRh(t.attributes.pronouns)}}function D(n,i){if(1&n&&(e.j41(0,"div",29)(1,"div",25),e.EFF(2,"About me"),e.k0s(),e.j41(3,"div",30),e.EFF(4),e.k0s()()),2&n){const t=e.XpG().$implicit;e.R7$(4),e.SpI(" ",t.attributes.bio," ")}}function j(n,i){if(1&n&&(e.j41(0,"a",34)(1,"mat-icon",35),e.nI1(2,"titlecase"),e.EFF(3),e.k0s(),e.EFF(4),e.nI1(5,"titlecase"),e.k0s()),2&n){const t=i.$implicit,o=e.XpG(4);e.Y8G("href",t.url,e.B4B),e.R7$(),e.Mz_("matTooltip","",e.bMT(2,5,t.platform)," profile"),e.R7$(2),e.JRh(o.getIcon(t.platform)),e.R7$(),e.SpI(" ",e.bMT(5,7,t.platform)," ")}}function T(n,i){if(1&n&&(e.j41(0,"div",31)(1,"div",25),e.EFF(2,"Online Presence"),e.k0s(),e.j41(3,"div",32),e.DNE(4,j,6,9,"a",33),e.k0s()()),2&n){const t=e.XpG().$implicit,o=e.XpG(2);e.R7$(4),e.Y8G("ngForOf",o.getLinks(t))}}function G(n,i){1&n&&(e.j41(0,"div",36)(1,"mat-icon",37),e.EFF(2,"info_outline"),e.k0s(),e.j41(3,"h3"),e.EFF(4,"No personal information yet"),e.k0s(),e.j41(5,"p",12),e.EFF(6," This context doesn't contain any personal details at the moment. "),e.k0s()())}function $(n,i){if(1&n&&(e.j41(0,"div",38)(1,"mat-icon"),e.EFF(2,"info_outline"),e.k0s(),e.j41(3,"span"),e.EFF(4),e.k0s()()),2&n){const t=e.XpG().$implicit;e.R7$(4),e.JRh(t.note)}}function y(n,i){if(1&n){const t=e.RV6();e.qex(0),e.j41(1,"mat-card",14)(2,"mat-card-header")(3,"mat-icon",15),e.EFF(4,"person"),e.k0s(),e.j41(5,"mat-card-title"),e.EFF(6,"Personal Information"),e.k0s(),e.j41(7,"mat-card-subtitle"),e.EFF(8),e.nI1(9,"titlecase"),e.k0s()(),e.j41(10,"mat-card-content")(11,"div",16),e.DNE(12,I,6,2,"div",17)(13,R,5,1,"div",17)(14,D,5,1,"div",18)(15,T,5,1,"div",19)(16,G,7,0,"div",20),e.k0s()()(),e.DNE(17,$,5,1,"div",21),e.j41(18,"div",22)(19,"button",23),e.bIt("click",function(){e.eBV(t);const a=e.XpG(2);return e.Njj(a.loadProfile())}),e.j41(20,"mat-icon"),e.EFF(21,"refresh"),e.k0s(),e.EFF(22," Refresh Data "),e.k0s()(),e.bVm()}if(2&n){const t=i.$implicit,o=e.XpG(2);e.R7$(8),e.SpI("Context: ",e.bMT(9,7,t.context),""),e.R7$(4),e.Y8G("ngIf",null==t.attributes?null:t.attributes.gender),e.R7$(),e.Y8G("ngIf",null==t.attributes?null:t.attributes.pronouns),e.R7$(),e.Y8G("ngIf",null==t.attributes?null:t.attributes.bio),e.R7$(),e.Y8G("ngIf",o.hasLinks(t)),e.R7$(),e.Y8G("ngIf",!o.hasPersonalData(t)),e.R7$(),e.Y8G("ngIf",t.note)}}function L(n,i){if(1&n){const t=e.RV6();e.qex(0),e.j41(1,"mat-card",39)(2,"mat-card-content",40)(3,"mat-icon",41),e.EFF(4,"error_outline"),e.k0s(),e.j41(5,"h3"),e.EFF(6,"Failed to load profile"),e.k0s(),e.j41(7,"p",12),e.EFF(8),e.k0s(),e.j41(9,"button",42),e.bIt("click",function(){e.eBV(t);const a=e.XpG(2);return e.Njj(a.loadProfile())}),e.EFF(10," Try Again "),e.k0s()()(),e.bVm()}if(2&n){const t=e.XpG(2);e.R7$(8),e.JRh(t.error())}}function A(n,i){if(1&n&&e.DNE(0,y,23,9,"ng-container",13)(1,L,11,1,"ng-container",13),2&n){const t=e.XpG();e.Y8G("ngIf",t.profile()),e.R7$(),e.Y8G("ngIf",t.error())}}let B=(()=>{class n{apiService=(0,e.WQX)(h.G);wallet=(0,e.WQX)(C.F);themeService=(0,e.WQX)(k.F);loading=(0,e.vPA)(!0);error=(0,e.vPA)(null);profile=(0,e.vPA)(null);darkMode=this.themeService.darkMode;selectedContext=(0,e.vPA)("profile");allowedContexts=["profile","identity","medical","professional","compliance"];ngOnInit(){this.loadProfile()}loadProfile(){this.loading.set(!0),this.error.set(null),this.wallet.address$.pipe((0,b.n)(t=>t?this.apiService.getProfile(t,this.selectedContext()):(this.error.set("No wallet connected"),this.loading.set(!1),(0,O.of)(null)))).subscribe({next:t=>{t&&this.profile.set(t),this.loading.set(!1)},error:t=>{console.error("Profile fetch error:",t),this.error.set("Failed to load profile. Please try again later."),this.loading.set(!1)}})}hasPersonalData(t){const o=t.attributes||{};return!!(o.gender?.label||o.pronouns||o.bio||this.hasLinks(t))}hasLinks(t){return!!(t.online_links&&Object.keys(t.online_links).length>0)}getLinks(t){return t.online_links?Object.entries(t.online_links).map(([o,a])=>({platform:o,url:a})):[]}getIcon(t){const o={twitter:"twitter",x:"twitter",linkedin:"linkedin",github:"code",website:"language",instagram:"photo_camera",mastodon:"language",facebook:"facebook",youtube:"play_circle",discord:"group",telegram:"send",default:"link"};return o[t.toLowerCase()]||o.default||"link"}static \u0275fac=function(o){return new(o||n)};static \u0275cmp=e.VBU({type:n,selectors:[["app-profile-overview"]],standalone:!0,features:[e.aNF],decls:16,vars:6,consts:[["content",""],[1,"overview-container"],[1,"page-header"],[1,"subtitle"],["appearance","outline",1,"context-selector","glass-select"],["panelClass","context-dropdown",3,"ngModelChange","selectionChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[3,"value"],[1,"loading-state"],["diameter","56"],[1,"state-message"],[1,"muted"],[4,"ngIf"],["appearance","outlined",1,"profile-card","glass-card"],["mat-card-avatar","",1,"avatar-icon"],[1,"profile-grid"],["class","profile-item",4,"ngIf"],["class","profile-item bio-item",4,"ngIf"],["class","profile-item links-item",4,"ngIf"],["class","empty-personal",4,"ngIf"],["class","backend-note glass-note",4,"ngIf"],[1,"refresh-area"],["mat-stroked-button","",3,"click"],[1,"profile-item"],[1,"label"],[1,"value"],["class","gender-code",4,"ngIf"],[1,"gender-code"],[1,"profile-item","bio-item"],[1,"value","bio-content"],[1,"profile-item","links-item"],[1,"value","links-grid"],["target","_blank","rel","noopener noreferrer","class","link-chip external-link",3,"href",4,"ngFor","ngForOf"],["target","_blank","rel","noopener noreferrer",1,"link-chip","external-link",3,"href"],[1,"link-icon",3,"matTooltip"],[1,"empty-personal"],[1,"empty-icon"],[1,"backend-note","glass-note"],[1,"error-card","glass-card"],[1,"error-content"],["color","warn"],["mat-raised-button","","color","primary",3,"click"]],template:function(o,a){if(1&o){const _=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"h1"),e.EFF(3,"User Profile Overview"),e.k0s(),e.j41(4,"p",3),e.EFF(5,"Your current personal information across contexts"),e.k0s()(),e.j41(6,"mat-form-field",4)(7,"mat-label"),e.EFF(8,"Viewing Context"),e.k0s(),e.j41(9,"mat-select",5),e.mxI("ngModelChange",function(d){return e.eBV(_),e.DH7(a.selectedContext,d)||(a.selectedContext=d),e.Njj(d)}),e.bIt("selectionChange",function(){return e.eBV(_),e.Njj(a.loadProfile())}),e.DNE(10,M,3,4,"mat-option",6),e.k0s(),e.j41(11,"mat-hint"),e.EFF(12,"Switch to view different attribute sets"),e.k0s()(),e.DNE(13,F,9,3,"ng-container",7)(14,A,2,2,"ng-template",null,0,e.C5r),e.k0s()}if(2&o){const _=e.sdS(15);e.AVh("dark",a.darkMode()),e.R7$(9),e.R50("ngModel",a.selectedContext),e.R7$(),e.Y8G("ngForOf",a.allowedContexts),e.R7$(3),e.Y8G("ngIf",a.loading())("ngIfElse",_)}},dependencies:[c.MD,c.Sq,c.bT,c.PV,p.YN,p.BC,p.vS,l.Hu,l.RN,l.QG,l.m2,l.MM,l.Lc,l.dh,f.m_,f.An,m.Hl,m.$z,v.D6,v.LG,u.uc,u.oV,P.w,x.Ve,s.rl,s.nJ,s.MV,x.VO,E.wT,s.RG],styles:["[_nghost-%COMP%]{display:block}.overview-container[_ngcontent-%COMP%]{padding:clamp(24px,4vw,48px) clamp(16px,5vw,64px);max-width:900px;margin:0 auto;transition:background .5s ease}.overview-container.dark[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#0f0f1a,#0a0a14);color:#e2e8f0}.page-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:clamp(32px,6vw,56px)}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:clamp(2.2rem,5.5vw,3.4rem);font-weight:800;background:linear-gradient(135deg,#6366f1,#a78bfa);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin:0 0 8px}.subtitle[_ngcontent-%COMP%]{font-size:1.1rem;color:#94a3b8;font-weight:400}.context-selector[_ngcontent-%COMP%]{width:100%;max-width:340px;margin:0 auto 40px;display:block}.glass-select[_ngcontent-%COMP%]{background:var(--card-bg, rgba(255, 255, 255, .75));-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border-radius:16px;border:1px solid var(--card-border, rgba(226, 232, 240, .4))}  .context-dropdown{border-radius:16px!important}.profile-card[_ngcontent-%COMP%]{border-radius:24px;background:var(--card-bg, rgba(255, 255, 255, .78));-webkit-backdrop-filter:blur(16px) saturate(180%);backdrop-filter:blur(16px) saturate(180%);border:1px solid var(--card-border, rgba(226, 232, 240, .4));overflow:hidden;margin-bottom:32px}.overview-container.dark[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]{background:#1e293b7a;border-color:#64748b4d}.avatar-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6366f1,#a78bfa);color:#fff;border-radius:12px}.profile-grid[_ngcontent-%COMP%]{display:grid;gap:24px;padding:8px 0}.profile-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:160px 1fr;gap:16px;align-items:start;padding:12px 0}.label[_ngcontent-%COMP%]{font-weight:600;color:var(--text-secondary);font-size:.95rem;text-transform:uppercase;letter-spacing:.4px}.value[_ngcontent-%COMP%]{line-height:1.6;color:var(--text-primary);font-size:1rem}.gender-code[_ngcontent-%COMP%]{font-size:.85rem;opacity:.65;margin-left:8px;color:#64748b}.bio-content[_ngcontent-%COMP%]{white-space:pre-wrap;word-break:break-word;line-height:1.7}.links-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:12px}.link-chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:8px 16px;background:var(--chip-bg, rgba(99, 102, 241, .08));border-radius:999px;color:#6366f1;text-decoration:none;font-weight:500;transition:all .25s ease}.external-link[_ngcontent-%COMP%]{cursor:pointer;text-decoration:none}.external-link[_ngcontent-%COMP%]:hover, .external-link[_ngcontent-%COMP%]:focus{text-decoration:underline;background:#6366f11f}.overview-container.dark[_ngcontent-%COMP%]   .link-chip[_ngcontent-%COMP%]{background:#6366f12e;color:#a5b4fc}.link-chip[_ngcontent-%COMP%]:hover{background:var(--chip-hover, rgba(99, 102, 241, .18));transform:translateY(-1px)}.link-icon[_ngcontent-%COMP%]{font-size:20px;height:20px;width:20px}.empty-personal[_ngcontent-%COMP%]{text-align:center;padding:64px 32px;color:#94a3b8}.empty-icon[_ngcontent-%COMP%]{font-size:56px;height:56px;width:56px;margin-bottom:16px;opacity:.7}.backend-note.glass-note[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:16px 20px;background:var(--notice-bg, rgba(99, 102, 241, .08));border-radius:16px;margin:24px 0;font-size:.95rem;color:#4f46e5}.overview-container.dark[_ngcontent-%COMP%]   .glass-note[_ngcontent-%COMP%]{background:#6366f126;color:#a5b4fc}.refresh-area[_ngcontent-%COMP%]{text-align:center;margin-top:32px}.error-card[_ngcontent-%COMP%]{border-radius:20px;text-align:center;padding:48px 32px}.error-content[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;height:48px;width:48px;margin-bottom:16px}@media (max-width: 720px){.profile-item[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:8px}}@media (max-width: 480px){.context-selector[_ngcontent-%COMP%]{max-width:100%}}"]})}return n})()}}]);