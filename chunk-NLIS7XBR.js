import{a as Q,b as pe,c as se,d as me}from"./chunk-AWI5URK4.js";import{a as U,b as W,c as $,d as j,e as q,h as F}from"./chunk-B7IZRLQF.js";import{Ca as J,Da as K,Ea as X,Fa as Z,Ga as ee,Ha as te,Ja as ie,Ka as ne,La as ae,Ma as oe,Na as re,Pa as ce,Qa as le,Ra as de,_ as G,aa as Y,ba as H}from"./chunk-HIHSMICJ.js";import{$a as r,Bc as R,Db as e,Eb as t,F as w,Fb as m,Gb as S,Hb as T,Jb as h,Mb as v,Ob as g,Qc as V,Sc as B,Wb as E,Wc as L,Xb as i,Xc as N,Yb as M,Zb as y,_b as I,ec as D,ia as s,jc as p,kc as C,lc as z,mb as _,mc as P,na as k,nc as A,sb as u,ub as l,wa as f,wb as O,xa as b}from"./chunk-ZQA5UT6E.js";function ge(a,x){if(a&1){let n=h();S(0),e(1,"div",17)(2,"div",18)(3,"div",19),i(4,"Wallet Address"),t(),e(5,"div",20)(6,"code",21),i(7),p(8,"slice"),p(9,"slice"),t(),e(10,"button",22),v("click",function(){let c=f(n).ngIf,d=g();return b(d.copyAddress(c))}),e(11,"mat-icon",23),i(12),t()()()(),e(13,"div",18)(14,"div",19),i(15,"Decentralized ID"),t(),e(16,"div",20)(17,"code",21),i(18),p(19,"slice"),t(),e(20,"button",24),v("click",function(){let c=f(n).ngIf,d=g();return b(d.copyDid(c))}),e(21,"mat-icon",23),i(22),t()()()(),e(23,"div",25)(24,"div",19),i(25,"Connection Status"),t(),e(26,"div",26)(27,"mat-icon",27),i(28,"verified"),t(),i(29," Active & Verified "),t()()(),T()}if(a&2){let n=x.ngIf,o=g();r(7),I("",P(8,7,n,0,8),"\u2026",z(9,11,n,-6),""),r(3),l("matTooltipPosition","above"),r(2),M(o.copied()?"check_circle":"content_copy"),r(6),y("did:ethr:",P(19,14,n,0,8),"\u2026"),r(2),l("matTooltipPosition","above"),r(2),M(o.copiedDid()?"check_circle":"content_copy")}}function xe(a,x){a&1&&(e(0,"div",28)(1,"mat-icon",29),i(2,"wallet"),t(),e(3,"h3"),i(4,"No wallet connected"),t(),e(5,"p",30),i(6," Connect your wallet to access and manage your decentralized identity. "),t()())}function ue(a,x){a&1&&m(0,"mat-tab",38)}function fe(a,x){a&1&&m(0,"mat-tab",39)}function be(a,x){if(a&1){let n=h();e(0,"mat-card",31)(1,"mat-tab-group",32),v("selectedTabChange",function(c){f(n);let d=g();return b(d.onTabChange(c))}),m(2,"mat-tab",33),u(3,ue,1,0,"mat-tab",34)(4,fe,1,0,"mat-tab",35),t(),e(5,"div",36)(6,"div",37),m(7,"router-outlet"),t()()()}if(a&2){let n=g();r(),l("selectedIndex",n.activeTabIndex()),r(2),l("ngIf",n.isUserRole()),r(),l("ngIf",n.isUserRole())}}var Ue=(()=>{class a{wallet=s(J);themeService=s(Z);router=s(j);route=s(W);darkMode=this.themeService.darkMode;copied=_(!1);copiedDid=_(!1);activeTabIndex=_(0);subscription;auth=s(Q);isUserRole=R(()=>this.auth.role()==="USER");ngOnInit(){this.subscription=this.router.events.pipe(w(n=>n instanceof U)).subscribe(()=>{this.updateActiveTab()}),this.updateActiveTab()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}updateActiveTab(){let n=this.router.url;n.includes("/profile/edit")?this.activeTabIndex.set(1):n.includes("/profile/privacy")?this.activeTabIndex.set(2):this.activeTabIndex.set(0)}onTabChange(n){let o=n.index;this.activeTabIndex.set(o);let c=o===0?["."]:o===1?["edit"]:["privacy"];this.router.navigate(c,{relativeTo:this.route})}copyAddress(n){navigator.clipboard.writeText(n),this.copied.set(!0),setTimeout(()=>this.copied.set(!1),2e3)}copyDid(n){let o=`did:ethr:${n}`;navigator.clipboard.writeText(o),this.copiedDid.set(!0),setTimeout(()=>this.copiedDid.set(!1),2e3)}static \u0275fac=function(o){return new(o||a)};static \u0275cmp=k({type:a,selectors:[["app-profile"]],standalone:!0,features:[D],decls:55,vars:12,consts:[["noWallet",""],[1,"profile-container"],[1,"profile-hero"],[1,"hero-content"],[1,"hero-subtitle"],[1,"profile-grid"],["appearance","outlined",1,"identity-card","glass-card","elevated"],["mat-card-avatar","",1,"avatar-icon"],[4,"ngIf","ngIfElse"],["class","content-card glass-card elevated","appearance","outlined",4,"ngIf"],["appearance","outlined",1,"quick-actions","glass-card","elevated"],["mat-card-avatar","",1,"header-icon"],[1,"actions-grid"],["mat-stroked-button","","color","primary","routerLink","/credentials",1,"action-btn"],["mat-stroked-button","","color","primary","routerLink","/contexts",1,"action-btn"],["mat-stroked-button","","color","primary","routerLink","/disclosures",1,"action-btn"],["mat-stroked-button","","color","warn","routerLink","/gdpr",1,"action-btn"],[1,"identity-details"],[1,"detail-item"],[1,"label"],[1,"value-row"],[1,"mono"],["mat-icon-button","","size","small","matTooltip","Copy address",3,"click","matTooltipPosition"],["size","small"],["mat-icon-button","","size","small","matTooltip","Copy DID",3,"click","matTooltipPosition"],[1,"detail-item","status-item"],[1,"status","success"],["inline",""],[1,"empty-identity"],[1,"empty-icon"],[1,"muted"],["appearance","outlined",1,"content-card","glass-card","elevated"],["mat-stretch-tabs","","animationDuration","0ms",1,"profile-tabs",3,"selectedTabChange","selectedIndex"],["label","Overview"],["label","Edit Profile",4,"ngIf"],["label","Privacy & Consents",4,"ngIf"],[1,"tab-content-wrapper"],[1,"tab-content-inner"],["label","Edit Profile"],["label","Privacy & Consents"]],template:function(o,c){if(o&1&&(e(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1"),i(4,"My Identity Profile"),t(),e(5,"p",4),i(6," Manage your decentralized identity \u2022 personal data \u2022 privacy controls"),m(7,"br"),e(8,"small"),i(9,"(Data is linked to your wallet address \u2014 same for all roles)"),t()()()(),e(10,"div",5)(11,"mat-card",6)(12,"mat-card-header")(13,"mat-icon",7),i(14,"account_circle"),t(),e(15,"mat-card-title"),i(16,"Connected Identity"),t(),e(17,"mat-card-subtitle"),i(18),p(19,"async"),t()(),e(20,"mat-card-content"),u(21,ge,30,18,"ng-container",8),p(22,"async"),u(23,xe,7,0,"ng-template",null,0,A),t()(),u(25,be,8,3,"mat-card",9),p(26,"async"),e(27,"mat-card",10)(28,"mat-card-header")(29,"mat-icon",11),i(30,"auto_awesome"),t(),e(31,"mat-card-title"),i(32,"Quick Actions"),t()(),e(33,"mat-card-content")(34,"div",12)(35,"a",13)(36,"mat-icon"),i(37,"badge"),t(),e(38,"span"),i(39,"Issue Credential"),t()(),e(40,"a",14)(41,"mat-icon"),i(42,"layers"),t(),e(43,"span"),i(44,"Manage Contexts"),t()(),e(45,"a",15)(46,"mat-icon"),i(47,"share"),t(),e(48,"span"),i(49,"View Disclosures"),t()(),e(50,"a",16)(51,"mat-icon"),i(52,"policy"),t(),e(53,"span"),i(54,"GDPR Erasure"),t()()()()()()()),o&2){let d=E(24);O("dark",c.darkMode()),r(18),y(" ",C(19,6,c.wallet.address$)?"Active \u2022 Verified":"Not connected"," "),r(3),l("ngIf",C(22,8,c.wallet.address$))("ngIfElse",d),r(4),l("ngIf",C(26,10,c.wallet.address$))}},dependencies:[N,V,B,L,F,$,q,me,pe,se,de,ne,le,oe,ce,re,ae,X,K,H,G,Y,te,ee,ie],styles:["[_nghost-%COMP%]{display:block;min-height:100vh}.profile-container[_ngcontent-%COMP%]{padding:clamp(24px,4vw,40px) clamp(16px,5vw,48px) 100px;max-width:1280px;margin:0 auto;transition:background .5s ease,color .5s ease}.profile-container.dark[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#0f0f1a,#0a0a14);color:#e2e8f0}.profile-hero[_ngcontent-%COMP%]{text-align:center;margin-bottom:clamp(40px,6vw,72px);padding:0 16px}.hero-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:clamp(2.5rem,6vw,4rem);font-weight:800;background:linear-gradient(135deg,#6366f1,#a78bfa 40%,#c084fc);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin:0 0 12px;letter-spacing:-1px}.hero-subtitle[_ngcontent-%COMP%]{font-size:clamp(1rem,2.2vw,1.25rem);color:var(--text-secondary, #94a3b8);max-width:680px;margin:0 auto;font-weight:400}.profile-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 2fr;gap:32px;align-items:start}@media (max-width: 1024px){.profile-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.glass-card[_ngcontent-%COMP%]{background:var(--card-bg, rgba(255, 255, 255, .75));-webkit-backdrop-filter:blur(16px) saturate(180%);backdrop-filter:blur(16px) saturate(180%);border:1px solid var(--card-border, rgba(226, 232, 240, .5));border-radius:24px;overflow:hidden;transition:all .35s cubic-bezier(.4,0,.2,1)}.profile-container.dark[_ngcontent-%COMP%]   .glass-card[_ngcontent-%COMP%]{background:#1e293b73;border-color:#64748b4d;-webkit-backdrop-filter:blur(20px) saturate(160%);backdrop-filter:blur(20px) saturate(160%)}.glass-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 20px 40px #0000001f}.profile-container.dark[_ngcontent-%COMP%]   .glass-card[_ngcontent-%COMP%]:hover{box-shadow:0 24px 48px #00000073}.identity-card[_ngcontent-%COMP%]{position:relative}.avatar-icon[_ngcontent-%COMP%]{font-size:48px;width:64px;height:64px;background:linear-gradient(135deg,#6366f1,#a78bfa);color:#fff;border-radius:16px}.identity-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;padding:12px 0}.detail-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.label[_ngcontent-%COMP%]{font-size:.85rem;font-weight:600;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.5px}.value-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex-wrap:wrap}code.mono[_ngcontent-%COMP%]{font-family:JetBrains Mono,Courier New,monospace;background:var(--code-bg, rgba(226, 232, 240, .5));padding:6px 10px;border-radius:8px;font-size:.95rem;color:#1d4ed8;letter-spacing:.5px}.profile-container.dark[_ngcontent-%COMP%]   code.mono[_ngcontent-%COMP%]{background:#1e293bb3;color:#c7d2fe}.status-item[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;background:#22c55e26;color:#166534;padding:8px 14px;border-radius:999px;font-weight:600;font-size:.9rem}.profile-container.dark[_ngcontent-%COMP%]   .status-item[_ngcontent-%COMP%]   .status.success[_ngcontent-%COMP%]{background:#22c55e40;color:#86efac}.empty-identity[_ngcontent-%COMP%]{text-align:center;padding:64px 24px;color:var(--text-secondary)}.empty-icon[_ngcontent-%COMP%]{font-size:72px;width:96px;height:96px;color:#94a3b8;margin-bottom:16px}.empty-identity[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:12px 0 8px;color:var(--text-primary)}.profile-tabs[_ngcontent-%COMP%]{border-bottom:1px solid var(--divider, rgba(226, 232, 240, .5))}.profile-container.dark[_ngcontent-%COMP%]   .profile-tabs[_ngcontent-%COMP%]{border-bottom-color:#64748b4d}  .mat-mdc-tab-label{min-width:120px;padding:0 24px;font-weight:600;font-size:.95rem;opacity:.7;transition:all .3s ease}  .mat-mdc-tab-label.mat-mdc-tab-active{opacity:1;color:#6366f1}.tab-content-wrapper[_ngcontent-%COMP%]{padding:32px;min-height:360px}.quick-actions[_ngcontent-%COMP%]{margin-top:8px}.actions-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px;padding:16px 0}.action-btn[_ngcontent-%COMP%]{height:64px;justify-content:flex-start;gap:16px;padding:0 20px;font-weight:500;border-radius:16px;transition:all .3s ease}.action-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 24px #6366f126}@media (max-width: 960px){.profile-grid[_ngcontent-%COMP%]{gap:24px}.tab-content-wrapper[_ngcontent-%COMP%]{padding:24px}}@media (max-width: 600px){.profile-hero[_ngcontent-%COMP%]{margin-bottom:48px}.actions-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.action-btn[_ngcontent-%COMP%]{height:56px}}"]})}return a})();export{Ue as ProfileComponent};
