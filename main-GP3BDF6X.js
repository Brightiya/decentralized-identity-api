import{a as Ht,b as Zn,c as ei,d as ti}from"./chunk-I74XVGU3.js";import{a as ze,b as Ne}from"./chunk-ZAHT5FYM.js";import{a as Pi,b as Ro,c as Fo,d as un,e as Vt,f as Ao,g as Vo,h as hn}from"./chunk-CLO377HG.js";import{a as Ae,b as Xn,c as Qe,e as xn,g as ua,h as Ve,i as Be,j as Wt,k as Ut}from"./chunk-4NO64Y5E.js";import{a as sa,b as la,d as da,e as ma,f as pa}from"./chunk-HKZT3IUQ.js";import{a as Jn,b as bn}from"./chunk-VZV63IRL.js";import{a as Bt,b as De,c as Nn,d as ft,f as Ce,g as Ln,h as Bo,i as Te,j as jn,k as zo,l as No,m as Lo,n as jo,o as gn,q as Ho,r as we,s as Hn,t as Le}from"./chunk-4WEAWE7W.js";import{A as $o,Aa as vt,B as Yo,C as Ko,Ca as ce,Da as fe,E as wt,Ea as _e,Fa as be,G as Jo,Ga as Fe,H as jt,Ha as ye,I as Q,Ia as ke,Ja as Me,Ka as $e,La as Ye,Ma as Ke,N as yt,Na as vn,O as Un,Oa as ha,P as Xo,Pa as Je,Qa as rt,R as Zo,Ra as Xe,S as ea,T as ta,U as bt,V as na,W as ia,X as Zt,Y as Gn,Z as he,_ as oa,aa as Re,ba as ge,d as Mi,da as qn,e as Oo,f as So,g as Io,h as Eo,i as Do,ia as Qn,j as To,ja as aa,k as Nt,ka as In,la as $n,m as Uo,ma as ra,na as Ei,o as Go,oa as fn,p as Lt,pa as _n,q as Xt,qa as en,r as Oi,ra as ca,sa as Yn,v as Si,va as xt,w as Wn,x as qo,y as Qo,ya as Kn,z as Ii,za as at}from"./chunk-DII3CBS7.js";import{$ as mo,$a as s,$b as yo,A as co,Aa as Ie,Ac as Bn,Ba as Dt,Bc as Rt,C as cn,Cc as Po,Db as a,E as ct,Ea as W,Eb as o,F as xe,Fa as Y,Fb as y,Ga as An,Gb as L,Hb as j,Hc as nt,Ib as Ge,J as so,Jb as k,Ka as sn,Kb as Vn,L as He,La as Tt,Lb as vo,M as ki,Mb as b,N as Sn,Nb as Co,O as lo,Ob as p,Oc as zn,Pb as X,Pc as Ft,Qb as B,Qc as ue,Rb as wo,Sb as K,Sc as mn,Tb as Oe,Tc as At,Ub as F,Uc as pn,Vb as A,Vc as it,Wb as q,Wc as ot,X as Ct,Xb as r,Xc as ne,Y as Kt,Yb as S,Z as le,Zb as M,Zc as gt,_b as Ee,a as rn,aa as po,ab as u,ac as Z,b as Rn,ba as st,bb as fo,bc as ee,ca as mt,cb as Ue,cc as te,da as de,db as _o,dc as G,dd as Jt,ec as D,ed as lt,f as T,fa as ae,fb as bo,fc as ko,fd as Wo,g as Yt,ha as uo,hb as xo,hd as qe,ia as C,ib as pe,ic as Mo,id as zt,jc as I,jd as _t,kb as ut,kc as z,l as Pe,lc as We,m as Fn,ma as w,mb as P,mc as tt,n as yi,na as E,nb as J,nc as Se,oa as me,ob as se,p as ao,pa as V,q as St,qa as ho,ra as go,s as ro,sb as h,tb as re,u as It,ub as m,v as On,va as pt,vb as ln,vc as U,wa as f,wb as O,wc as dn,xa as _,xb as ht,ya as et,za as Et,zb as ve,zc as R}from"./chunk-ZQA5UT6E.js";var vr="@",Cr=(()=>{class i{constructor(e,t,n,c,d){this.doc=e,this.delegate=t,this.zone=n,this.animationType=c,this.moduleImpl=d,this._rendererFactoryPromise=null,this.scheduler=C(_o,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-RESL3VMB.js")).catch(t=>{throw new po(5300,!1)}).then(({\u0275createEngine:t,\u0275AnimationRendererFactory:n})=>{this._engine=t(this.animationType,this.doc,this.scheduler);let c=new n(this.delegate,this._engine,this.zone);return this.delegate=c,c})}createRenderer(e,t){let n=this.delegate.createRenderer(e,t);if(n.\u0275type===0)return n;typeof n.throwOnSyntheticProps=="boolean"&&(n.throwOnSyntheticProps=!1);let c=new Di(n);return t?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(d=>{let g=d.createRenderer(e,t);c.use(g)}).catch(d=>{c.use(n)}),c}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(t){fo()}}static{this.\u0275prov=mt({token:i,factory:i.\u0275fac})}}return i})(),Di=class{constructor(l){this.delegate=l,this.replay=[],this.\u0275type=1}use(l){if(this.delegate=l,this.replay!==null){for(let e of this.replay)e(l);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(l,e){return this.delegate.createElement(l,e)}createComment(l){return this.delegate.createComment(l)}createText(l){return this.delegate.createText(l)}get destroyNode(){return this.delegate.destroyNode}appendChild(l,e){this.delegate.appendChild(l,e)}insertBefore(l,e,t,n){this.delegate.insertBefore(l,e,t,n)}removeChild(l,e,t){this.delegate.removeChild(l,e,t)}selectRootElement(l,e){return this.delegate.selectRootElement(l,e)}parentNode(l){return this.delegate.parentNode(l)}nextSibling(l){return this.delegate.nextSibling(l)}setAttribute(l,e,t,n){this.delegate.setAttribute(l,e,t,n)}removeAttribute(l,e,t){this.delegate.removeAttribute(l,e,t)}addClass(l,e){this.delegate.addClass(l,e)}removeClass(l,e){this.delegate.removeClass(l,e)}setStyle(l,e,t,n){this.delegate.setStyle(l,e,t,n)}removeStyle(l,e,t){this.delegate.removeStyle(l,e,t)}setProperty(l,e,t){this.shouldReplay(e)&&this.replay.push(n=>n.setProperty(l,e,t)),this.delegate.setProperty(l,e,t)}setValue(l,e){this.delegate.setValue(l,e)}listen(l,e,t){return this.shouldReplay(e)&&this.replay.push(n=>n.listen(l,e,t)),this.delegate.listen(l,e,t)}shouldReplay(l){return this.replay!==null&&l.startsWith(vr)}};function ga(i="animations"){return xo("NgAsyncAnimations"),ho([{provide:bo,useFactory:(l,e,t)=>new Cr(l,e,t,i),deps:[nt,Io,pe]},{provide:Tt,useValue:i==="noop"?"NoopAnimations":"BrowserAnimations"}])}var fa=(i,l)=>{let t=C(Ht).getAuthHeader();if(t.Authorization){let n=i.clone({setHeaders:t});return l(n)}return l(i)};var wr=["*",[["mat-toolbar-row"]]],yr=["*","mat-toolbar-row"],kr=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275dir=V({type:i,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}}return i})(),_a=(()=>{class i{constructor(e,t,n){this._elementRef=e,this._platform=t,this._document=n}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static{this.\u0275fac=function(t){return new(t||i)(u(W),u(Nt),u(nt))}}static{this.\u0275cmp=E({type:i,selectors:[["mat-toolbar"]],contentQueries:function(t,n,c){if(t&1&&K(c,kr,5),t&2){let d;F(d=A())&&(n._toolbarRows=d)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(t,n){t&2&&(ht(n.color?"mat-"+n.color:""),O("mat-toolbar-multiple-rows",n._toolbarRows.length>0)("mat-toolbar-single-row",n._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[D],ngContentSelectors:yr,decls:2,vars:0,template:function(t,n){t&1&&(X(wr),B(0),B(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}}return i})();var ba=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=me({type:i})}static{this.\u0275inj=de({imports:[Q,Q]})}}return i})();var oi=["*"],Pr=["content"],Or=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Sr=["mat-drawer","mat-drawer-content","*"];function Ir(i,l){if(i&1){let e=k();a(0,"div",1),b("click",function(){f(e);let n=p();return _(n._onBackdropClicked())}),o()}if(i&2){let e=p();O("mat-drawer-shown",e._isShowingBackdrop())}}function Er(i,l){i&1&&(a(0,"mat-drawer-content"),B(1,2),o())}var Dr=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],Tr=["mat-sidenav","mat-sidenav-content","*"];function Rr(i,l){if(i&1){let e=k();a(0,"div",1),b("click",function(){f(e);let n=p();return _(n._onBackdropClicked())}),o()}if(i&2){let e=p();O("mat-drawer-shown",e._isShowingBackdrop())}}function Fr(i,l){i&1&&(a(0,"mat-sidenav-content"),B(1,2),o())}var Ar='.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color);box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}',va={transformDrawer:Jt("transform",[zt("open, open-instant",qe({transform:"none",visibility:"visible"})),zt("void",qe({"box-shadow":"none",visibility:"hidden"})),_t("void => open-instant",lt("0ms")),_t("void <=> open, open-instant => void",lt("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])};var Vr=new ae("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:Br}),Ai=new ae("MAT_DRAWER_CONTAINER");function Br(){return!1}var ni=(()=>{class i extends fn{constructor(e,t,n,c,d){super(n,c,d),this._changeDetectorRef=e,this._container=t}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}static{this.\u0275fac=function(t){return new(t||i)(u(U),u(st(()=>wa)),u(W),u(Ei),u(pe))}}static{this.\u0275cmp=E({type:i,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,n){t&2&&ln("margin-left",n._container._contentMargins.left,"px")("margin-right",n._container._contentMargins.right,"px")},standalone:!0,features:[G([{provide:fn,useExisting:i}]),J,D],ngContentSelectors:oi,decls:1,vars:0,template:function(t,n){t&1&&(X(),B(0))},encapsulation:2,changeDetection:0})}}return i})(),Ca=(()=>{class i{get position(){return this._position}set position(e){e=e==="end"?"end":"start",e!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Xt(e)}get autoFocus(){let e=this._autoFocus;return e??(this.mode==="side"?"dialog":"first-tabbable")}set autoFocus(e){(e==="true"||e==="false"||e==null)&&(e=Xt(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(Xt(e))}constructor(e,t,n,c,d,g,x,N){this._elementRef=e,this._focusTrapFactory=t,this._focusMonitor=n,this._platform=c,this._ngZone=d,this._interactivityChecker=g,this._doc=x,this._container=N,this._focusTrap=null,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Pe,this._animationEnd=new Pe,this._animationState="void",this.openedChange=new Y(!0),this._openedStream=this.openedChange.pipe(xe(v=>v),On(()=>{})),this.openedStart=this._animationStarted.pipe(xe(v=>v.fromState!==v.toState&&v.toState.indexOf("open")===0),ki(void 0)),this._closedStream=this.openedChange.pipe(xe(v=>!v),On(()=>{})),this.closedStart=this._animationStarted.pipe(xe(v=>v.fromState!==v.toState&&v.toState==="void"),ki(void 0)),this._destroyed=new Pe,this.onPositionChanged=new Y,this._modeChanged=new Pe,this.openedChange.subscribe(v=>{v?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{cn(this._elementRef.nativeElement,"keydown").pipe(xe(v=>v.keyCode===27&&!this.disableClose&&!Lt(v)),le(this._destroyed)).subscribe(v=>this._ngZone.run(()=>{this.close(),v.stopPropagation(),v.preventDefault()}))}),this._animationEnd.pipe(lo((v,$)=>v.fromState===$.fromState&&v.toState===$.toState)).subscribe(v=>{let{fromState:$,toState:H}=v;(H.indexOf("open")===0&&$==="void"||H==="void"&&$.indexOf("open")===0)&&this.openedChange.emit(this._opened)})}_forceFocus(e,t){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let n=()=>{e.removeEventListener("blur",n),e.removeEventListener("mousedown",n),e.removeAttribute("tabindex")};e.addEventListener("blur",n),e.addEventListener("mousedown",n)})),e.focus(t)}_focusByCssSelector(e,t){let n=this._elementRef.nativeElement.querySelector(e);n&&this._forceFocus(n,t)}_takeFocus(){if(!this._focusTrap)return;let e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(t=>{!t&&typeof this._elementRef.nativeElement.focus=="function"&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus);break}}_restoreFocus(e){this.autoFocus!=="dialog"&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){let e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._position==="end"&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,t){e&&t&&(this._openedVia=t);let n=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),n}_setOpen(e,t,n){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",t&&this._restoreFocus(n)),this._updateFocusTrapState(),new Promise(c=>{this.openedChange.pipe(He(1)).subscribe(d=>c(d?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop)}_updatePositionInParent(e){if(!this._platform.isBrowser)return;let t=this._elementRef.nativeElement,n=t.parentNode;e==="end"?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),n.insertBefore(this._anchor,t)),n.appendChild(t)):this._anchor&&this._anchor.parentNode.insertBefore(t,this._anchor)}static{this.\u0275fac=function(t){return new(t||i)(u(W),u($o),u(wt),u(Nt),u(pe),u(Ii),u(nt,8),u(Ai,8))}}static{this.\u0275cmp=E({type:i,selectors:[["mat-drawer"]],viewQuery:function(t,n){if(t&1&&Oe(Pr,5),t&2){let c;F(c=A())&&(n._content=c.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(t,n){t&1&&Co("@transform.start",function(d){return n._animationStarted.next(d)})("@transform.done",function(d){return n._animationEnd.next(d)}),t&2&&(vo("@transform",n._animationState),re("align",null),O("mat-drawer-end",n.position==="end")("mat-drawer-over",n.mode==="over")("mat-drawer-push",n.mode==="push")("mat-drawer-side",n.mode==="side")("mat-drawer-opened",n.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],standalone:!0,features:[D],ngContentSelectors:oi,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(t,n){t&1&&(X(),a(0,"div",1,0),B(2),o())},dependencies:[fn],encapsulation:2,data:{animation:[va.transformDrawer]},changeDetection:0})}}return i})(),wa=(()=>{class i{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Xt(e)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(e){this._backdropOverride=e==null?null:Xt(e)}get scrollable(){return this._userContent||this._content}constructor(e,t,n,c,d,g=!1,x){this._dir=e,this._element=t,this._ngZone=n,this._changeDetectorRef=c,this._animationMode=x,this._drawers=new An,this.backdropClick=new Y,this._destroyed=new Pe,this._doCheckSubject=new Pe,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Pe,e&&e.change.pipe(le(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),d.change().pipe(le(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=g}ngAfterContentInit(){this._allDrawers.changes.pipe(Ct(this._allDrawers),le(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(t=>!t._container||t._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Ct(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(so(10),le(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,t=0;if(this._left&&this._left.opened){if(this._left.mode=="side")e+=this._left._getWidth();else if(this._left.mode=="push"){let n=this._left._getWidth();e+=n,t-=n}}if(this._right&&this._right.opened){if(this._right.mode=="side")t+=this._right._getWidth();else if(this._right.mode=="push"){let n=this._right._getWidth();t+=n,e-=n}}e=e||null,t=t||null,(e!==this._contentMargins.left||t!==this._contentMargins.right)&&(this._contentMargins={left:e,right:t},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(xe(t=>t.fromState!==t.toState),le(this._drawers.changes)).subscribe(t=>{t.toState!=="open-instant"&&this._animationMode!=="NoopAnimations"&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),e.mode!=="side"&&e.openedChange.pipe(le(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e&&e.onPositionChanged.pipe(le(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(He(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(le(ct(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){let t=this._element.nativeElement.classList,n="mat-drawer-container-has-open";e?t.add(n):t.remove(n)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{e.position=="end"?(this._end!=null,this._end=e):(this._start!=null,this._start=e)}),this._right=this._left=null,this._dir&&this._dir.value==="rtl"?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&this._start.mode!="over"||this._isDrawerOpen(this._end)&&this._end.mode!="over"}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._drawerHasBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(e){return e!=null&&e.opened}_drawerHasBackdrop(e){return this._backdropOverride==null?!!e&&e.mode!=="side":this._backdropOverride}static{this.\u0275fac=function(t){return new(t||i)(u(jt,8),u(W),u(pe),u(U),u(_n),u(Vr),u(Tt,8))}}static{this.\u0275cmp=E({type:i,selectors:[["mat-drawer-container"]],contentQueries:function(t,n,c){if(t&1&&(K(c,ni,5),K(c,Ca,5)),t&2){let d;F(d=A())&&(n._content=d.first),F(d=A())&&(n._allDrawers=d)}},viewQuery:function(t,n){if(t&1&&Oe(ni,5),t&2){let c;F(c=A())&&(n._userContent=c.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,n){t&2&&O("mat-drawer-container-explicit-backdrop",n._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],standalone:!0,features:[G([{provide:Ai,useExisting:i}]),D],ngContentSelectors:Sr,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,n){t&1&&(X(Or),h(0,Ir,1,2,"div",0),B(1),B(2,1),h(3,Er,2,0,"mat-drawer-content")),t&2&&(ve(0,n.hasBackdrop?0:-1),s(3),ve(3,n._content?-1:3))},dependencies:[ni],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color);box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}}return i})(),ii=(()=>{class i extends ni{constructor(e,t,n,c,d){super(e,t,n,c,d)}static{this.\u0275fac=function(t){return new(t||i)(u(U),u(st(()=>Bi)),u(W),u(Ei),u(pe))}}static{this.\u0275cmp=E({type:i,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(t,n){t&2&&ln("margin-left",n._container._contentMargins.left,"px")("margin-right",n._container._contentMargins.right,"px")},standalone:!0,features:[G([{provide:fn,useExisting:i}]),J,D],ngContentSelectors:oi,decls:1,vars:0,template:function(t,n){t&1&&(X(),B(0))},encapsulation:2,changeDetection:0})}}return i})(),Vi=(()=>{class i extends Ca{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=Xt(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=Oi(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=Oi(e)}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=Ie(i)))(n||i)}})()}static{this.\u0275cmp=E({type:i,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(t,n){t&2&&(re("align",null),ln("top",n.fixedInViewport?n.fixedTopGap:null,"px")("bottom",n.fixedInViewport?n.fixedBottomGap:null,"px"),O("mat-drawer-end",n.position==="end")("mat-drawer-over",n.mode==="over")("mat-drawer-push",n.mode==="push")("mat-drawer-side",n.mode==="side")("mat-drawer-opened",n.opened)("mat-sidenav-fixed",n.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],standalone:!0,features:[J,D],ngContentSelectors:oi,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(t,n){t&1&&(X(),a(0,"div",1,0),B(2),o())},dependencies:[fn],encapsulation:2,data:{animation:[va.transformDrawer]},changeDetection:0})}}return i})(),Bi=(()=>{class i extends wa{constructor(){super(...arguments),this._allDrawers=void 0,this._content=void 0}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=Ie(i)))(n||i)}})()}static{this.\u0275cmp=E({type:i,selectors:[["mat-sidenav-container"]],contentQueries:function(t,n,c){if(t&1&&(K(c,ii,5),K(c,Vi,5)),t&2){let d;F(d=A())&&(n._content=d.first),F(d=A())&&(n._allDrawers=d)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(t,n){t&2&&O("mat-drawer-container-explicit-backdrop",n._backdropOverride)},exportAs:["matSidenavContainer"],standalone:!0,features:[G([{provide:Ai,useExisting:i}]),J,D],ngContentSelectors:Tr,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,n){t&1&&(X(Dr),h(0,Rr,1,2,"div",0),B(1),B(2,1),h(3,Fr,2,0,"mat-sidenav-content")),t&2&&(ve(0,n.hasBackdrop?0:-1),s(3),ve(3,n._content?-1:3))},dependencies:[ii],styles:[Ar],encapsulation:2,changeDetection:0})}}return i})(),ya=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=me({type:i})}static{this.\u0275inj=de({imports:[Q,en,en,Q]})}}return i})();var Lr=["switch"],jr=["*"];function Hr(i,l){i&1&&(a(0,"div",10),et(),a(1,"svg",12),y(2,"path",13),o(),a(3,"svg",14),y(4,"path",15),o()())}var Wr=new ae("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1})}),Ur={provide:Bt,useExisting:st(()=>ri),multi:!0},ai=class{constructor(l,e){this.source=l,this.checked=e}},Gr=0,ri=(()=>{class i{_createChangeEvent(e){return new ai(this,e)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(e){this._checked=e,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,t,n,c,d,g){this._elementRef=e,this._focusMonitor=t,this._changeDetectorRef=n,this.defaults=d,this._onChange=x=>{},this._onTouched=()=>{},this._validatorOnChange=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new Y,this.toggleChange=new Y,this.tabIndex=parseInt(c)||0,this.color=d.color||"accent",this._noopAnimations=g==="NoopAnimations",this.id=this._uniqueId=`mat-mdc-slide-toggle-${++Gr}`,this.hideIcon=d.hideIcon??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e==="keyboard"||e==="program"?(this._focused=!0,this._changeDetectorRef.markForCheck()):e||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(e){e.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}validate(e){return this.required&&e.value!==!0?{required:!0}:null}registerOnValidatorChange(e){this._validatorOnChange=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new ai(this,this.checked)))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static{this.\u0275fac=function(t){return new(t||i)(u(W),u(wt),u(U),Dt("tabindex"),u(Wr),u(Tt,8))}}static{this.\u0275cmp=E({type:i,selectors:[["mat-slide-toggle"]],viewQuery:function(t,n){if(t&1&&Oe(Lr,5),t&2){let c;F(c=A())&&(n._switchElement=c.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(t,n){t&2&&(Vn("id",n.id),re("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),ht(n.color?"mat-"+n.color:""),O("mat-mdc-slide-toggle-focused",n._focused)("mat-mdc-slide-toggle-checked",n.checked)("_mat-animation-noopable",n._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[w.None,"aria-label","ariaLabel"],ariaLabelledby:[w.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[w.None,"aria-describedby","ariaDescribedby"],required:[w.HasDecoratorInputTransform,"required","required",R],color:"color",disabled:[w.HasDecoratorInputTransform,"disabled","disabled",R],disableRipple:[w.HasDecoratorInputTransform,"disableRipple","disableRipple",R],tabIndex:[w.HasDecoratorInputTransform,"tabIndex","tabIndex",e=>e==null?0:Bn(e)],checked:[w.HasDecoratorInputTransform,"checked","checked",R],hideIcon:[w.HasDecoratorInputTransform,"hideIcon","hideIcon",R]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],standalone:!0,features:[G([Ur,{provide:Nn,useExisting:i,multi:!0}]),se,pt,D],ngContentSelectors:jr,decls:13,vars:24,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(t,n){if(t&1){let c=k();X(),a(0,"div",1)(1,"button",2,0),b("click",function(){return f(c),_(n._handleClick())}),y(3,"div",3),a(4,"div",4)(5,"div",5)(6,"div",6),y(7,"div",7),o(),a(8,"div",8),y(9,"div",9),o(),h(10,Hr,5,0,"div",10),o()()(),a(11,"label",11),b("click",function(g){return f(c),_(g.stopPropagation())}),B(12),o()()}if(t&2){let c=q(2);m("labelPosition",n.labelPosition),s(),O("mdc-switch--selected",n.checked)("mdc-switch--unselected",!n.checked)("mdc-switch--checked",n.checked)("mdc-switch--disabled",n.disabled),m("tabIndex",n.disabled?-1:n.tabIndex)("disabled",n.disabled),re("id",n.buttonId)("name",n.name)("aria-label",n.ariaLabel)("aria-labelledby",n._getAriaLabelledBy())("aria-describedby",n.ariaDescribedby)("aria-required",n.required||null)("aria-checked",n.checked),s(8),m("matRippleTrigger",c)("matRippleDisabled",n.disableRipple||n.disabled)("matRippleCentered",!0),s(),ve(10,n.hideIcon?-1:10),s(),m("for",n.buttonId),re("id",n._labelId)}},dependencies:[yt,Gn],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}.mdc-switch{width:var(--mdc-switch-track-width)}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color)}.mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color)}.mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation)}.mdc-switch .mdc-switch__focus-ring-wrapper,.mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height)}.mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape)}.mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width)}.mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width))}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size)}.mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size);width:var(--mdc-switch-state-layer-size)}.mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height)}.mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color)}.mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color)}.mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mdc-switch__handle{transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size);height:var(--mat-switch-unselected-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size);height:var(--mat-switch-selected-handle-size)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size);height:var(--mat-switch-with-icon-handle-size)}.mat-mdc-slide-toggle:active .mdc-switch:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size);height:var(--mat-switch-pressed-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{margin:var(--mat-switch-selected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{margin:var(--mat-switch-unselected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle:active .mdc-switch--selected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin)}.mat-mdc-slide-toggle:active .mdc-switch--unselected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin)}.mdc-switch__track::after,.mdc-switch__track::before{border-width:var(--mat-switch-track-outline-width);border-color:var(--mat-switch-track-outline-color)}.mdc-switch--selected .mdc-switch__track::after,.mdc-switch--selected .mdc-switch__track::before{border-width:var(--mat-switch-selected-track-outline-width)}.mdc-switch--disabled .mdc-switch__track::after,.mdc-switch--disabled .mdc-switch__track::before{border-width:var(--mat-switch-disabled-unselected-track-outline-width);border-color:var(--mat-switch-disabled-unselected-track-outline-color)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity)}'],encapsulation:2,changeDetection:0})}}return i})();var ka=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=me({type:i})}static{this.\u0275inj=de({imports:[ri,Q,Q]})}}return i})();var Yr=["mat-menu-item",""],Kr=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],Jr=["mat-icon, [matMenuItemIcon]","*"];function Xr(i,l){i&1&&(et(),a(0,"svg",2),y(1,"polygon",3),o())}var Zr=["*"];function ec(i,l){if(i&1){let e=k();a(0,"div",0),b("keydown",function(n){f(e);let c=p();return _(c._handleKeydown(n))})("click",function(){f(e);let n=p();return _(n.closed.emit("click"))})("@transformMenu.start",function(n){f(e);let c=p();return _(c._onAnimationStart(n))})("@transformMenu.done",function(n){f(e);let c=p();return _(c._onAnimationDone(n))}),a(1,"div",1),B(2),o()()}if(i&2){let e=p();ht(e._classList),m("id",e.panelId)("@transformMenu",e._panelAnimationState),re("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}var Li=new ae("MAT_MENU_PANEL"),En=(()=>{class i{constructor(e,t,n,c,d){this._elementRef=e,this._document=t,this._focusMonitor=n,this._parentMenu=c,this._changeDetectorRef=d,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new Pe,this._focused=new Pe,this._highlighted=!1,this._triggersSubmenu=!1,c?.addItem?.(this)}focus(e,t){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,t):this._getHostElement().focus(t),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){let e=this._elementRef.nativeElement.cloneNode(!0),t=e.querySelectorAll("mat-icon, .material-icons");for(let n=0;n<t.length;n++)t[n].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static{this.\u0275fac=function(t){return new(t||i)(u(W),u(nt),u(wt),u(Li,8),u(U))}}static{this.\u0275cmp=E({type:i,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(t,n){t&1&&b("click",function(d){return n._checkDisabled(d)})("mouseenter",function(){return n._handleMouseEnter()}),t&2&&(re("role",n.role)("tabindex",n._getTabIndex())("aria-disabled",n.disabled)("disabled",n.disabled||null),O("mat-mdc-menu-item-highlighted",n._highlighted)("mat-mdc-menu-item-submenu-trigger",n._triggersSubmenu))},inputs:{role:"role",disabled:[w.HasDecoratorInputTransform,"disabled","disabled",R],disableRipple:[w.HasDecoratorInputTransform,"disableRipple","disableRipple",R]},exportAs:["matMenuItem"],standalone:!0,features:[se,D],attrs:Yr,ngContentSelectors:Jr,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,n){t&1&&(X(Kr),B(0),a(1,"span",0),B(2,1),o(),y(3,"div",1),h(4,Xr,2,0,":svg:svg",2)),t&2&&(s(3),m("matRippleDisabled",n.disableRipple||n.disabled)("matRippleTrigger",n._getHostElement()),s(),ve(4,n._triggersSubmenu?4:-1))},dependencies:[yt],encapsulation:2,changeDetection:0})}}return i})();var tc=new ae("MatMenuContent");var ci={transformMenu:Jt("transformMenu",[zt("void",qe({opacity:0,transform:"scale(0.8)"})),_t("void => enter",lt("120ms cubic-bezier(0, 0, 0.2, 1)",qe({opacity:1,transform:"scale(1)"}))),_t("* => void",lt("100ms 25ms linear",qe({opacity:0})))]),fadeInItems:Jt("fadeInItems",[zt("showing",qe({opacity:1})),_t("void => *",[qe({opacity:0}),lt("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},mp=ci.fadeInItems,pp=ci.transformMenu,nc=0,ic=new ae("mat-menu-default-options",{providedIn:"root",factory:oc});function oc(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}var wn=(()=>{class i{get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}set panelClass(e){let t=this._previousPanelClass,n=rn({},this._classList);t&&t.length&&t.split(" ").forEach(c=>{n[c]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(c=>{n[c]=!0}),this._elementRef.nativeElement.className=""),this._classList=n}get classList(){return this.panelClass}set classList(e){this.panelClass=e}constructor(e,t,n,c){this._elementRef=e,this._ngZone=t,this._changeDetectorRef=c,this._elevationPrefix="mat-elevation-z",this._baseElevation=8,this._directDescendantItems=new An,this._classList={},this._panelAnimationState="void",this._animationDone=new Pe,this.closed=new Y,this.close=this.closed,this.panelId=`mat-menu-panel-${nc++}`,this.overlayPanelClass=n.overlayPanelClass||"",this._xPosition=n.xPosition,this._yPosition=n.yPosition,this.backdropClass=n.backdropClass,this.overlapTrigger=n.overlapTrigger,this.hasBackdrop=n.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Qo(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Ct(this._directDescendantItems),Kt(e=>ct(...e.map(t=>t._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{let t=this._keyManager;if(this._panelAnimationState==="enter"&&t.activeItem?._hasFocus()){let n=e.toArray(),c=Math.max(0,Math.min(n.length-1,t.activeItemIndex||0));n[c]&&!n[c].disabled?t.setActiveItem(c):t.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(Ct(this._directDescendantItems),Kt(t=>ct(...t.map(n=>n._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){let t=e.keyCode,n=this._keyManager;switch(t){case 27:Lt(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&this.direction==="ltr"&&this.closed.emit("keydown");break;case 39:this.parentMenu&&this.direction==="rtl"&&this.closed.emit("keydown");break;default:(t===38||t===40)&&n.setFocusOrigin("keyboard"),n.onKeydown(e);return}e.stopPropagation()}focusFirstItem(e="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe(He(1)).subscribe(()=>{let t=null;if(this._directDescendantItems.length&&(t=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!t||!t.contains(document.activeElement)){let n=this._keyManager;n.setFocusOrigin(e).setFirstItemActive(),!n.activeItem&&t&&t.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){let t=Math.min(this._baseElevation+e,24),n=`${this._elevationPrefix}${t}`,c=Object.keys(this._classList).find(d=>d.startsWith(this._elevationPrefix));if(!c||c===this._previousElevation){let d=rn({},this._classList);this._previousElevation&&(d[this._previousElevation]=!1),d[n]=!0,this._previousElevation=n,this._classList=d}}setPositionClasses(e=this.xPosition,t=this.yPosition){this._classList=Rn(rn({},this._classList),{"mat-menu-before":e==="before","mat-menu-after":e==="after","mat-menu-above":t==="above","mat-menu-below":t==="below"}),this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,e.toState==="enter"&&this._keyManager.activeItemIndex===0&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Ct(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(t=>t._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static{this.\u0275fac=function(t){return new(t||i)(u(W),u(pe),u(ic),u(U))}}static{this.\u0275cmp=E({type:i,selectors:[["mat-menu"]],contentQueries:function(t,n,c){if(t&1&&(K(c,tc,5),K(c,En,5),K(c,En,4)),t&2){let d;F(d=A())&&(n.lazyContent=d.first),F(d=A())&&(n._allItems=d),F(d=A())&&(n.items=d)}},viewQuery:function(t,n){if(t&1&&Oe(Ue,5),t&2){let c;F(c=A())&&(n.templateRef=c.first)}},hostVars:3,hostBindings:function(t,n){t&2&&re("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[w.None,"aria-label","ariaLabel"],ariaLabelledby:[w.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[w.None,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[w.HasDecoratorInputTransform,"overlapTrigger","overlapTrigger",R],hasBackdrop:[w.HasDecoratorInputTransform,"hasBackdrop","hasBackdrop",e=>e==null?null:R(e)],panelClass:[w.None,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[G([{provide:Li,useExisting:i}]),se,D],ngContentSelectors:Zr,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id"],[1,"mat-mdc-menu-content"]],template:function(t,n){t&1&&(X(),h(0,ec,3,7,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-divider{color:var(--mat-menu-divider-color);margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;align-items:center;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:var(--mat-menu-item-trailing-spacing);padding-right:var(--mat-menu-item-leading-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]),.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon])[dir=rtl]{padding-left:var(--mat-menu-item-with-icon-trailing-spacing);padding-right:var(--mat-menu-item-with-icon-leading-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[ci.transformMenu,ci.fadeInItems]},changeDetection:0})}}return i})(),Sa=new ae("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let i=C(xt);return()=>i.scrollStrategies.reposition()}});function ac(i){return()=>i.scrollStrategies.reposition()}var rc={provide:Sa,deps:[xt],useFactory:ac},Ma=Uo({passive:!0});var Ia=(()=>{class i{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._parentMaterialMenu,this._menuCloseSubscription=e.close.subscribe(t=>{this._destroyMenu(t),(t==="click"||t==="tab")&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(t)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(e,t,n,c,d,g,x,N,v){this._overlay=e,this._element=t,this._viewContainerRef=n,this._menuItemInstance=g,this._dir=x,this._focusMonitor=N,this._ngZone=v,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Yt.EMPTY,this._hoverSubscription=Yt.EMPTY,this._menuCloseSubscription=Yt.EMPTY,this._changeDetectorRef=C(U),this._handleTouchStart=$=>{Ko($)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new Y,this.onMenuOpen=this.menuOpened,this.menuClosed=new Y,this.onMenuClose=this.menuClosed,this._scrollStrategy=c,this._parentMaterialMenu=d instanceof wn?d:void 0,t.nativeElement.addEventListener("touchstart",this._handleTouchStart,Ma)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,Ma),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){let e=this.menu;if(this._menuOpen||!e)return;let t=this._createOverlay(e),n=t.getConfig(),c=n.positionStrategy;this._setPosition(e,c),n.hasBackdrop=e.hasBackdrop==null?!this.triggersSubmenu():e.hasBackdrop,t.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof wn&&(e._startAnimation(),e._directDescendantItems.changes.pipe(le(e.close)).subscribe(()=>{c.withLockedPosition(!1).reapplyLastPosition(),c.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,t){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,t):this._element.nativeElement.focus(t)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;let t=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&(e==="keydown"||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,t instanceof wn?(t._resetAnimation(),t.lazyContent?t._animationDone.pipe(xe(n=>n.toState==="void"),He(1),le(t.lazyContent._attached)).subscribe({next:()=>t.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),t?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let t=0,n=e.parentMenu;for(;n;)t++,n=n.parentMenu;e.setElevation(t)}}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){let t=this._getOverlayConfig(e);this._subscribeToPositions(e,t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new Yn({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,t){e.setPositionClasses&&t.positionChanges.subscribe(n=>{let c=n.connectionPair.overlayX==="start"?"after":"before",d=n.connectionPair.overlayY==="top"?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(c,d)):e.setPositionClasses(c,d)})}_setPosition(e,t){let[n,c]=e.xPosition==="before"?["end","start"]:["start","end"],[d,g]=e.yPosition==="above"?["bottom","top"]:["top","bottom"],[x,N]=[d,g],[v,$]=[n,c],H=0;if(this.triggersSubmenu()){if($=n=e.xPosition==="before"?"start":"end",c=v=n==="end"?"start":"end",this._parentMaterialMenu){if(this._parentInnerPadding==null){let ie=this._parentMaterialMenu.items.first;this._parentInnerPadding=ie?ie._getHostElement().offsetTop:0}H=d==="bottom"?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(x=d==="top"?"bottom":"top",N=g==="top"?"bottom":"top");t.withPositions([{originX:n,originY:x,overlayX:v,overlayY:d,offsetY:H},{originX:c,originY:x,overlayX:$,overlayY:d,offsetY:H},{originX:n,originY:N,overlayX:v,overlayY:g,offsetY:-H},{originX:c,originY:N,overlayX:$,overlayY:g,offsetY:-H}])}_menuClosingActions(){let e=this._overlayRef.backdropClick(),t=this._overlayRef.detachments(),n=this._parentMaterialMenu?this._parentMaterialMenu.closed:St(),c=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(xe(d=>d!==this._menuItemInstance),xe(()=>this._menuOpen)):St();return ct(e,n,c,t)}_handleMousedown(e){Yo(e)||(this._openedBy=e.button===0?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){let t=e.keyCode;(t===13||t===32)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(t===39&&this.dir==="ltr"||t===37&&this.dir==="rtl")&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(xe(e=>e===this._menuItemInstance&&!e.disabled),Sn(0,yi)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof wn&&this.menu._isAnimating?this.menu._animationDone.pipe(He(1),Sn(0,yi),le(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new qn(e.templateRef,this._viewContainerRef)),this._portal}static{this.\u0275fac=function(t){return new(t||i)(u(xt),u(W),u(ut),u(Sa),u(Li,8),u(En,10),u(jt,8),u(wt),u(pe))}}static{this.\u0275dir=V({type:i,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(t,n){t&1&&b("click",function(d){return n._handleClick(d)})("mousedown",function(d){return n._handleMousedown(d)})("keydown",function(d){return n._handleKeydown(d)}),t&2&&re("aria-haspopup",n.menu?"menu":null)("aria-expanded",n.menuOpen)("aria-controls",n.menuOpen?n.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[w.None,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[w.None,"matMenuTriggerFor","menu"],menuData:[w.None,"matMenuTriggerData","menuData"],restoreFocus:[w.None,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0})}}return i})(),Ea=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=me({type:i})}static{this.\u0275inj=de({providers:[rc],imports:[ne,Un,Q,Kn,en,Q]})}}return i})();var Da=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=me({type:i})}static{this.\u0275inj=de({imports:[Jo,Q,Q]})}}return i})();var sc=(i,l,e)=>({"role-user":i,"role-admin":l,"role-verifier":e});function lc(i,l){i&1&&(L(0),a(1,"a",34)(2,"mat-icon",35),r(3,"lock_outline"),o(),a(4,"span",36),r(5,"Vault"),o()(),a(6,"a",37)(7,"mat-icon",35),r(8,"badge"),o(),a(9,"span",36),r(10,"Credentials"),o()(),a(11,"a",38)(12,"mat-icon",35),r(13,"layers"),o(),a(14,"span",36),r(15,"Contexts"),o()(),a(16,"a",39)(17,"mat-icon",35),r(18,"task_alt"),o(),a(19,"span",36),r(20,"Consent"),o()(),a(21,"a",40)(22,"mat-icon",35),r(23,"share"),o(),a(24,"span",36),r(25,"Disclosures"),o()(),a(26,"a",41)(27,"mat-icon",35),r(28,"policy"),o(),a(29,"span",36),r(30,"GDPR"),o()(),j())}function dc(i,l){i&1&&(L(0),a(1,"a",42)(2,"mat-icon",35),r(3,"settings_suggest"),o(),a(4,"span",36),r(5,"Advanced"),o()(),j())}function mc(i,l){i&1&&(L(0),a(1,"a",43)(2,"mat-icon",35),r(3,"verified_user"),o(),a(4,"span",36),r(5,"Verifier"),o()(),j())}function pc(i,l){if(i&1){let e=k();a(0,"mat-sidenav",22)(1,"div",23),b("click",function(){f(e);let n=p();return _(n.toggleMini())}),a(2,"div",24),et(),a(3,"svg",25),y(4,"path",26)(5,"circle",27)(6,"rect",28)(7,"circle",29),o()(),Et(),a(8,"div",30)(9,"div",31),r(10,"PIMV"),o(),a(11,"div",32),r(12,"Identity Vault"),o()()(),a(13,"mat-nav-list",33),h(14,lc,31,0,"ng-container",12)(15,dc,6,0,"ng-container",12)(16,mc,6,0,"ng-container",12),o()()}if(i&2){let e=p();s(8),O("collapsed",e.miniSidebar()),s(6),m("ngIf",e.auth.role()==="USER"),s(),m("ngIf",e.auth.role()==="ADMIN"),s(),m("ngIf",e.auth.role()==="VERIFIER")}}function uc(i,l){if(i&1&&(a(0,"div",44),r(1),o()),i&2){let e=p();m("ngClass",Mo(2,sc,e.auth.role()==="USER",e.auth.role()==="ADMIN",e.auth.role()==="VERIFIER")),s(),M(" ",e.displayRole()," ")}}function hc(i,l){if(i&1){let e=k();a(0,"div",45)(1,"div",46)(2,"code"),r(3),I(4,"slice"),I(5,"slice"),o(),a(6,"button",47),b("click",function(){f(e);let n=p();return _(n.copyAddress())}),a(7,"mat-icon"),r(8),o()()()()}if(i&2){let e=p();s(3),Ee("",tt(4,3,e.wallet.address,0,6),"\u2026",We(5,7,e.wallet.address,-4),""),s(5),S(e.copied?"check_circle":"content_copy")}}function gc(i,l){if(i&1){let e=k();a(0,"button",48),b("click",function(){f(e);let n=p();return _(n.connectWallet())}),a(1,"mat-icon"),r(2,"wallet"),o(),r(3," Connect Wallet "),o()}}function fc(i,l){if(i&1){let e=k();L(0),a(1,"button",49)(2,"mat-icon"),r(3,"account_circle"),o()(),a(4,"mat-menu",50,1)(6,"button",51)(7,"mat-icon"),r(8,"person"),o(),a(9,"span"),r(10,"Profile"),o()(),a(11,"button",52),b("click",function(){f(e);let n=p();return _(n.logout())}),a(12,"mat-icon"),r(13,"logout"),o(),a(14,"span"),r(15,"Logout"),o()()(),j()}if(i&2){let e=q(5);s(),m("matMenuTriggerFor",e)}}var Ta=(()=>{class i{platformId=C(sn);isBrowser=gt(this.platformId);router=C(un);titleService=C(Do);cdr=C(U);themeService=C(be);wallet=C(ce);auth=C(Ht);currentYear=new Date().getFullYear();currentUrl=P(this.router.url);miniSidebar=P(!1);darkMode=this.themeService.darkMode;copied=!1;constructor(){this.router.events.subscribe(e=>{e instanceof Pi&&this.currentUrl.set(e.urlAfterRedirects.toLowerCase())})}ngOnInit(){this.themeService.initialize(),this.router.events.pipe(xe(e=>e instanceof Pi)).subscribe(()=>{let e="PIMV \u2013 Identity Vault",t=this.router.routerState.snapshot.root;for(;t.firstChild;)t=t.firstChild;let n=t.data?.title;if(n)e=`${n} \u2022 PIMV`;else{let c=t.url.map(d=>d.path).join(" ");c&&(e=`${this.capitalize(c)} \u2022 PIMV`)}this.titleService.setTitle(e)})}capitalize(e){return e.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}toggleMini(){this.miniSidebar.update(e=>!e)}breadcrumb=Rt(()=>{let e=this.router.url.split("/").pop()||"Dashboard";return e.charAt(0).toUpperCase()+e.slice(1)});toggleDarkMode(){this.themeService.toggle(),this.cdr.detectChanges()}connectWallet(){return T(this,null,function*(){try{yield this.wallet.connect(),this.cdr.detectChanges()}catch(e){alert(e.message||"Wallet connection failed")}})}logout(){this.auth.logout(),this.wallet.disconnect(),this.cdr.detectChanges()}displayRole=Rt(()=>{switch(this.auth.role()){case"ADMIN":return"Admin / Auditor";case"VERIFIER":return"Verifier";default:return"User"}});copyAddress(){this.wallet.address&&(navigator.clipboard.writeText(this.wallet.address),this.copied=!0,setTimeout(()=>{this.copied=!1,this.cdr.detectChanges()},2e3))}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=E({type:i,selectors:[["app-root"]],standalone:!0,features:[D],decls:34,vars:12,consts:[["connectWalletBtn",""],["userMenu","matMenu"],[1,"sidenav-container"],["mode","side","opened","","fixedInViewport","","class","sidenav glass-sidebar",4,"ngIf"],[1,"main-content"],["color","primary",1,"main-toolbar"],["mat-icon-button","","aria-label","Toggle menu",1,"menu-btn",3,"click"],[1,"breadcrumb"],[1,"toolbar-spacer"],["class","role-pill",3,"ngClass",4,"ngIf"],["class","wallet-section",4,"ngIf","ngIfElse"],["aria-label","Toggle theme",1,"theme-toggle",3,"change","checked"],[4,"ngIf"],[1,"page-content"],[1,"main-footer"],[1,"footer-container"],[1,"footer-brand"],[1,"footer-logo"],[1,"footer-title"],[1,"footer-copyright"],[1,"footer-links"],["href","#",1,"footer-link"],["mode","side","opened","","fixedInViewport","",1,"sidenav","glass-sidebar"],["matTooltip","Privacy Identity Management Vault","matTooltipPosition","right",1,"brand-header",3,"click"],[1,"header-icon-wrapper"],["width","64","height","64","viewBox","0 0 32 32","fill","none","xmlns","http://www.w3.org/2000/svg",1,"custom-shield"],["d","M16 2C8.5 2 3 7.5 3 15C3 25 16 30 16 30C16 30 29 25 29 15C29 7.5 23.5 2 16 2Z","fill","#6366f1","stroke","#4f46e5","stroke-width","3.5","stroke-linecap","round"],["cx","16","cy","16","r","7.5","fill","none","stroke","#ffffff","stroke-width","3.5"],["x","14","y","19","width","4","height","9","rx","2","fill","#ffffff"],["cx","16","cy","16","r","3","fill","#ffffff","opacity","0.4"],[1,"brand-text"],[1,"brand-name"],[1,"brand-subtitle"],[1,"nav-list"],["mat-list-item","","routerLink","/vault","routerLinkActive","active",1,"nav-item"],["matListItemIcon",""],["matListItemTitle",""],["mat-list-item","","routerLink","/credentials","routerLinkActive","active",1,"nav-item"],["mat-list-item","","routerLink","/contexts","routerLinkActive","active",1,"nav-item"],["mat-list-item","","routerLink","/consent","routerLinkActive","active",1,"nav-item"],["mat-list-item","","routerLink","/disclosures","routerLinkActive","active",1,"nav-item"],["mat-list-item","","routerLink","/gdpr","routerLinkActive","active",1,"nav-item"],["mat-list-item","","routerLink","/advanced","routerLinkActive","active",1,"nav-item"],["mat-list-item","","routerLink","/verifier","routerLinkActive","active",1,"nav-item"],[1,"role-pill",3,"ngClass"],[1,"wallet-section"],[1,"address-pill"],["mat-icon-button","","matTooltip","Copy address",1,"copy-btn",3,"click"],["mat-stroked-button","",1,"connect-btn",3,"click"],["mat-icon-button","",1,"user-menu-btn",3,"matMenuTriggerFor"],["xPosition","before"],["mat-menu-item","","routerLink","/profile"],["mat-menu-item","",3,"click"]],template:function(t,n){if(t&1){let c=k();a(0,"mat-sidenav-container",2),h(1,pc,17,5,"mat-sidenav",3),a(2,"mat-sidenav-content",4)(3,"mat-toolbar",5)(4,"button",6),b("click",function(){return f(c),_(n.toggleMini())}),a(5,"mat-icon"),r(6,"menu"),o()(),a(7,"div",7),r(8),o(),y(9,"span",8),h(10,uc,2,6,"div",9)(11,hc,9,10,"div",10)(12,gc,4,0,"ng-template",null,0,Se),a(14,"mat-slide-toggle",11),b("change",function(){return f(c),_(n.toggleDarkMode())}),o(),h(15,fc,16,1,"ng-container",12),o(),a(16,"main",13),y(17,"router-outlet"),o(),a(18,"footer",14)(19,"div",15)(20,"div",16)(21,"span",17),r(22,"PIMV"),o(),a(23,"span",18),r(24,"Privacy Identity Management Vault"),o()(),a(25,"div",19),r(26),o(),a(27,"div",20)(28,"a",21),r(29,"Privacy Policy"),o(),a(30,"a",21),r(31,"Terms of Use"),o(),a(32,"a",21),r(33,"Contact"),o()()()()()()}if(t&2){let c=q(13);O("dark",n.darkMode())("mini",n.miniSidebar()),s(),m("ngIf",n.auth.isAuthenticated()),s(7),S(n.breadcrumb()),s(2),m("ngIf",n.auth.isAuthenticated()&&n.wallet.address),s(),m("ngIf",n.wallet.address)("ngIfElse",c),s(3),m("checked",n.darkMode()),s(),m("ngIf",n.wallet.address),s(11),M(" \xA9 ",n.currentYear," \u2022 All rights reserved ")}},dependencies:[ne,zn,ue,ot,Fo,Vt,Ao,ba,_a,ya,Vi,Bi,ii,_e,fe,ge,he,Re,pa,ma,da,la,sa,ka,ri,Ea,wn,En,Ia,Da,ye,Fe],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;height:100vh;overflow:hidden}.sidenav-container[_ngcontent-%COMP%]{height:100%;background:#f9fafb;transition:background .5s ease}.sidenav-container.dark[_ngcontent-%COMP%]{background:#0d1117}.glass-sidebar[_ngcontent-%COMP%]{background:#ffffffb8;-webkit-backdrop-filter:blur(20px) saturate(160%);backdrop-filter:blur(20px) saturate(160%);border-right:1px solid rgba(226,232,240,.4);box-shadow:4px 0 30px #00000014;transition:all .4s cubic-bezier(.4,0,.2,1)}.sidenav-container.dark[_ngcontent-%COMP%]   .glass-sidebar[_ngcontent-%COMP%]{background:#141923a6;border-right-color:#64748b59;box-shadow:4px 0 40px #00000073}.sidenav-container.mini[_ngcontent-%COMP%]   .glass-sidebar[_ngcontent-%COMP%]{width:84px!important}.brand-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:14px;padding:28px 20px;cursor:pointer;transition:all .35s ease}.brand-header[_ngcontent-%COMP%]:hover{background:#6366f114}.brand-text[_ngcontent-%COMP%]{transition:opacity .4s ease}.brand-text.collapsed[_ngcontent-%COMP%]{opacity:0;width:0}.brand-name[_ngcontent-%COMP%]{font-size:1.6rem;font-weight:800;letter-spacing:-.8px;background:linear-gradient(90deg,#6366f1,#a78bfa);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.brand-subtitle[_ngcontent-%COMP%]{font-size:.78rem;font-weight:500;color:#94a3b8;margin-top:2px}.header-icon[_ngcontent-%COMP%]{font-size:42px;color:#fff}.header-icon-wrapper[_ngcontent-%COMP%]{width:80px;height:80px;margin:0 auto 24px;background:linear-gradient(135deg,#6366f1,#a78bfa);border-radius:24px;display:flex;align-items:center;justify-content:center;box-shadow:0 10px 30px #6366f173;overflow:hidden;transition:transform .3s ease}.header-icon-wrapper[_ngcontent-%COMP%]:hover{transform:scale(1.08)}.custom-shield[_ngcontent-%COMP%]{width:56px;height:56px;filter:drop-shadow(0 2px 6px rgba(0,0,0,.3))}.nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{margin:8px 12px;border-radius:16px;height:54px;transition:all .3s ease;font-weight:500}.nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:hover{background:#6366f117}.nav-list[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]{background:#6366f12e;color:#6366f1;font-weight:600}.nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#64748b}.nav-list[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#6366f1}.main-toolbar[_ngcontent-%COMP%]{background:#6366f1eb;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border-bottom:1px solid rgba(255,255,255,.15);padding:0 28px;min-height:72px;box-shadow:0 4px 20px #0000001f}.sidenav-container.dark[_ngcontent-%COMP%]   .main-toolbar[_ngcontent-%COMP%]{background:#1e293be0}.menu-btn[_ngcontent-%COMP%]{margin-right:16px;color:#fff}.breadcrumb[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#fff;letter-spacing:.3px}.toolbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.role-pill[_ngcontent-%COMP%]{padding:6px 18px;border-radius:999px;font-size:.82rem;font-weight:700;letter-spacing:.6px;color:#fff;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.role-user[_ngcontent-%COMP%]{background:#22c55ebf}.role-admin[_ngcontent-%COMP%]{background:#ef4444bf}.role-verifier[_ngcontent-%COMP%]{background:#3b82f6bf}.wallet-section[_ngcontent-%COMP%]{margin-right:24px}.address-pill[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:8px 16px;background:#ffffff2e;border-radius:999px;color:#fff;font-family:JetBrains Mono,monospace;font-size:.92rem;border:1px solid rgba(255,255,255,.12)}.copy-btn[_ngcontent-%COMP%]{color:#fff}.connect-btn[_ngcontent-%COMP%]{color:#fff;border-color:#fff6}.theme-toggle[_ngcontent-%COMP%]{margin:0 16px}.page-content[_ngcontent-%COMP%]{flex:1;padding:clamp(24px,4vw,40px);overflow-y:auto;background:transparent}.main-footer[_ngcontent-%COMP%]{background:#1e293b0a;border-top:1px solid rgba(226,232,240,.3);padding:28px 40px;font-size:.92rem;color:#64748b}.sidenav-container.dark[_ngcontent-%COMP%]   .main-footer[_ngcontent-%COMP%]{background:#0f111a73;border-top-color:#64748b4d;color:#94a3b8}.footer-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:20px;max-width:1400px;margin:0 auto}.footer-brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.footer-logo[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:800;background:linear-gradient(90deg,#6366f1,#a78bfa);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.footer-title[_ngcontent-%COMP%]{font-weight:600}.footer-copyright[_ngcontent-%COMP%]{text-align:center;flex:1}.footer-links[_ngcontent-%COMP%]{display:flex;gap:32px}.footer-link[_ngcontent-%COMP%]{color:inherit;text-decoration:none;transition:color .25s ease}.footer-link[_ngcontent-%COMP%]:hover{color:#6366f1}@media (max-width: 960px){.sidenav[_ngcontent-%COMP%]{width:220px}.sidenav-container.mini[_ngcontent-%COMP%]   .sidenav[_ngcontent-%COMP%]{width:72px}.page-content[_ngcontent-%COMP%]{padding:24px}}@media (max-width: 600px){.main-toolbar[_ngcontent-%COMP%]{padding:0 16px}.footer-container[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.footer-links[_ngcontent-%COMP%]{gap:20px;justify-content:center}}@media (max-width: 360px){button[_ngcontent-%COMP%], .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.8rem;padding:6px 10px}.badge[_ngcontent-%COMP%]{padding:2px 8px;font-size:.7rem}.consents-scroll-container[_ngcontent-%COMP%]{max-height:240px}h1[_ngcontent-%COMP%]{font-size:1.3rem}}']})}return i})();function Ot(...i){return()=>{let l=C(Ht),e=C(un);if(!l.isAuthenticated())return e.createUrlTree(["/login"]);let t=l.role();if(i.includes(t))return!0;switch(t){case"ADMIN":return e.createUrlTree(["/advanced"]);case"VERIFIER":return e.createUrlTree(["/verifier"]);default:return e.createUrlTree(["/vault"])}}}var Ra=(()=>{class i{profileExists=P(!1);isErased=P(!1);erasedAt=P(null);setProfileStatus(e,t=!1,n=null){this.profileExists.set(e),this.isErased.set(t),this.erasedAt.set(n)}reset(){this.profileExists.set(!1),this.isErased.set(!1),this.erasedAt.set(null)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=mt({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var li=(()=>{class i{dbName="PIMVUserSettings";storeName="settings";db=null;algo="AES-GCM";keyLength=256;ivLength=12;saltLength=16;cryptoKey=null;wallet=C(ce);snackBar=C(at);initEncryption(){return T(this,null,function*(){if(this.cryptoKey)return!0;try{if(!this.wallet.address)throw new Error("Wallet not connected");let e=`PIMV secure storage key derivation for ${this.wallet.address.toLowerCase()} - ${new Date().toISOString().slice(0,10)}`,t=yield this.wallet.signMessage(e);if(!t)throw new Error("Signature rejected by user");let n=new TextEncoder,c=yield crypto.subtle.importKey("raw",n.encode(t),{name:"PBKDF2"},!1,["deriveBits","deriveKey"]);return this.cryptoKey=yield crypto.subtle.deriveKey({name:"PBKDF2",salt:n.encode("pimv-storage-v1"),iterations:25e4,hash:"SHA-256"},c,{name:this.algo,length:this.keyLength},!1,["encrypt","decrypt"]),console.info("Secure storage encryption key initialized from wallet signature"),!0}catch(e){return console.error("Wallet-based encryption init failed:",e),this.snackBar.open("Secure storage initialization failed. Using less secure mode. Please reconnect wallet.","Close",{duration:1e4,panelClass:["error-snackbar"]}),!1}})}openDB(){return T(this,null,function*(){return this.db?this.db:new Promise((e,t)=>{let n=indexedDB.open(this.dbName,1);n.onerror=()=>t(n.error),n.onsuccess=()=>{this.db=n.result,e(this.db)},n.onupgradeneeded=c=>{let d=c.target.result;d.objectStoreNames.contains(this.storeName)||d.createObjectStore(this.storeName,{keyPath:"key"})}})})}encrypt(e){return T(this,null,function*(){if(!this.cryptoKey)return console.warn("Encryption key not initialized - falling back to plaintext"),e;try{let t=new TextEncoder,n=crypto.getRandomValues(new Uint8Array(this.saltLength)),c=crypto.getRandomValues(new Uint8Array(this.ivLength)),d=yield crypto.subtle.encrypt({name:this.algo,iv:c},this.cryptoKey,t.encode(e)),g=new Uint8Array(n.length+c.length+d.byteLength);return g.set(n,0),g.set(c,n.length),g.set(new Uint8Array(d),n.length+c.length),btoa(String.fromCharCode(...g))}catch(t){return console.error("Encryption failed:",t),e}})}decrypt(e){return T(this,null,function*(){if(!this.cryptoKey)return console.warn("Decryption key not initialized"),e;try{let t=Uint8Array.from(atob(e),x=>x.charCodeAt(0)),n=t.slice(0,this.saltLength),c=t.slice(this.saltLength,this.saltLength+this.ivLength),d=t.slice(this.saltLength+this.ivLength),g=yield crypto.subtle.decrypt({name:this.algo,iv:c},this.cryptoKey,d);return new TextDecoder().decode(g)}catch(t){return console.error("Decryption failed:",t),null}})}getItem(e){return T(this,null,function*(){let t=yield this.openDB();return new Promise((n,c)=>{let x=t.transaction(this.storeName,"readonly").objectStore(this.storeName).get(e);x.onsuccess=()=>T(this,null,function*(){let N=x.result?.value;if(!N)return n(null);let v=yield this.decrypt(N);n(v)}),x.onerror=()=>c(x.error)})})}setItem(e,t){return T(this,null,function*(){let n=yield this.openDB(),c=yield this.encrypt(t);return new Promise((d,g)=>{let x=n.transaction(this.storeName,"readwrite");x.objectStore(this.storeName).put({key:e,value:c}),x.oncomplete=()=>d(),x.onerror=()=>g(x.error)})})}removeItem(e){return T(this,null,function*(){let t=yield this.openDB();return new Promise((n,c)=>{let d=t.transaction(this.storeName,"readwrite");d.objectStore(this.storeName).delete(e),d.oncomplete=()=>n(),d.onerror=()=>c(d.error)})})}clear(){return T(this,null,function*(){let e=yield this.openDB();return new Promise((t,n)=>{let c=e.transaction(this.storeName,"readwrite");c.objectStore(this.storeName).clear(),c.oncomplete=()=>t(),c.onerror=()=>n(c.error)})})}static \u0275fac=function(t){return new(t||i)};static \u0275prov=mt({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var _c=()=>({success:!0});function bc(i,l){if(i&1){let e=k();a(0,"div",21)(1,"div",22)(2,"div",23)(3,"span",24),r(4),I(5,"slice"),I(6,"slice"),o(),a(7,"span",25),r(8),o()(),a(9,"button",26),b("click",function(){let n=f(e).ngIf,c=p();return _(c.copyAddress(n))}),a(10,"mat-icon"),r(11),o()()(),a(12,"div",27)(13,"span",28),r(14,"DID:"),o(),a(15,"code",29),r(16),o()(),a(17,"div",30)(18,"mat-icon"),r(19,"check_circle"),o(),a(20,"span"),r(21,"Wallet connected successfully"),o()()()}if(i&2){let e=l.ngIf,t=p();s(4),Ee("",tt(5,5,e,0,6),"...",We(6,9,e,-4),""),s(4),S(e),s(3),S(t.copied()?"check":"content_copy"),s(5),M("did:ethr:",e,"")}}function xc(i,l){i&1&&(a(0,"mat-icon"),r(1,"wallet"),o())}function vc(i,l){if(i&1){let e=k();a(0,"div",31)(1,"p",32),r(2," Connect your Ethereum wallet to unlock your personal identity vault. "),o(),a(3,"button",33),b("click",function(){f(e);let n=p();return _(n.connect())}),h(4,xc,2,0,"mat-icon",34),a(5,"span"),r(6),o()()()}if(i&2){let e=p();s(3),m("disabled",e.loading()),s(),m("ngIf",!e.loading()),s(2),S(e.loading()?"Connecting...":"Connect Wallet")}}function Cc(i,l){if(i&1){let e=k();a(0,"button",58),b("click",function(){f(e);let n=p(2);return _(n.clearUserPinataJwt())}),r(1," Remove "),o()}}function wc(i,l){i&1&&(a(0,"div",59)(1,"mat-icon"),r(2,"check_circle"),o(),r(3," Using your own Pinata account "),o()),i&2&&m("ngClass",ko(1,_c))}function yc(i,l){i&1&&(a(0,"div",60)(1,"mat-icon"),r(2,"warning"),o(),r(3," Using shared test key "),o())}function kc(i,l){if(i&1&&(a(0,"div",61)(1,"mat-icon",62),r(2,"check_circle"),o(),r(3," Custom: "),a(4,"code"),r(5),o()()),i&2){let e=p(2);s(5),S(e.customGateway())}}function Mc(i,l){i&1&&(a(0,"div",61)(1,"mat-icon"),r(2,"info"),o(),r(3," Using public gateways "),o())}function Pc(i,l){if(i&1){let e=k();a(0,"button",58),b("click",function(){f(e);let n=p(2);return _(n.clearNftStorageKey())}),r(1," Remove "),o()}}function Oc(i,l){i&1&&(a(0,"div",63)(1,"mat-icon"),r(2,"check_circle"),o(),r(3," Pinning via nft.storage (decentralized) "),o())}function Sc(i,l){i&1&&(a(0,"div",61)(1,"mat-icon"),r(2,"info"),o(),r(3," Pinning via Pinata "),o())}function Ic(i,l){i&1&&(L(0),a(1,"div",64),y(2,"mat-spinner",65),a(3,"p"),r(4,"Checking vault status..."),o()(),j())}function Ec(i,l){if(i&1&&(a(0,"div",71)(1,"mat-icon",72),r(2,"privacy_tip"),o(),a(3,"div",73)(4,"h3"),r(5,"Identity Permanently Erased"),o(),a(6,"p",32),r(7),I(8,"date"),o(),a(9,"p",74),r(10," Cryptographically proven on-chain \u2014 no data recoverable. "),o()()()),i&2){let e=p(3);s(7),M(" Exercised Right to be Forgotten on ",We(8,1,e.erasedAt(),"mediumDate")," ")}}function Dc(i,l){i&1&&(a(0,"div",75)(1,"mat-icon",72),r(2,"verified"),o(),a(3,"div",73)(4,"h3"),r(5,"Vault Active"),o(),a(6,"p",32),r(7,"Your identity is ready. Manage contexts and credentials."),o(),a(8,"div",76)(9,"a",77)(10,"mat-icon"),r(11,"layers"),o(),r(12," Manage Contexts "),o(),a(13,"a",78)(14,"mat-icon"),r(15,"badge"),o(),r(16," Issue Credential "),o()()()())}function Tc(i,l){i&1&&(a(0,"mat-icon"),r(1,"add_box"),o())}function Rc(i,l){if(i&1){let e=k();a(0,"div",79)(1,"mat-icon",72),r(2,"info"),o(),a(3,"div",73)(4,"h3"),r(5,"No Vault Profile Found"),o(),a(6,"p",32),r(7,"Create your vault profile to get started."),o(),a(8,"button",80),b("click",function(){f(e);let n=p(3);return _(n.createProfile())}),h(9,Tc,2,0,"mat-icon",34),r(10),o()()()}if(i&2){let e=p(3);s(8),m("disabled",e.loading()),s(),m("ngIf",!e.loading()),s(),M(" ",e.loading()?"Creating...":"Create Vault Profile"," ")}}function Fc(i,l){if(i&1){let e=k();h(0,Ec,11,4,"div",66)(1,Dc,17,0,"div",67)(2,Rc,11,3,"div",68),a(3,"div",69)(4,"button",70),b("click",function(){f(e);let n=p(2);return _(n.checkProfile())}),a(5,"mat-icon"),r(6,"refresh"),o(),r(7," Refresh Status "),o()()}if(i&2){let e=p(2);m("ngIf",e.isErased()),s(),m("ngIf",!e.isErased()&&e.profileExists()),s(),m("ngIf",!e.isErased()&&!e.profileExists()),s(2),m("disabled",e.loading())}}function Ac(i,l){if(i&1){let e=k();a(0,"section",35)(1,"div",16)(2,"mat-icon",17),r(3,"shield"),o(),a(4,"h2"),r(5,"Vault Profile"),o()(),a(6,"div",36)(7,"div",37)(8,"div",38)(9,"mat-icon",39),r(10,"vpn_key"),o(),a(11,"h3"),r(12,"Pinata JWT"),o()(),a(13,"div",40)(14,"p",41),r(15," Use your own Pinata account for pinning (recommended for production). "),a(16,"strong"),r(17,"Security tip:"),o(),r(18," Create a dedicated Admin key. "),o(),a(19,"form",42,1),b("ngSubmit",function(){f(e);let n=p();return _(n.saveUserPinataJwt())}),a(21,"mat-form-field",43)(22,"mat-label"),r(23,"Pinata JWT"),o(),a(24,"input",44),te("ngModelChange",function(n){f(e);let c=p();return ee(c.userPinataJwt,n)||(c.userPinataJwt=n),_(n)}),o(),a(25,"mat-hint")(26,"a",45),r(27," Get your key \u2192 Pinata Dashboard "),o()()(),a(28,"div",46)(29,"button",47),r(30," Save JWT "),o(),h(31,Cc,2,0,"button",48),o()(),h(32,wc,4,2,"div",49)(33,yc,4,0,"div",50),o()(),a(34,"div",37)(35,"div",38)(36,"mat-icon",39),r(37,"cloud_download"),o(),a(38,"h3"),r(39,"IPFS Gateway (Reading)"),o()(),a(40,"div",40)(41,"p",41),r(42," Where your credentials are fetched from. Default = public gateways. "),o(),a(43,"mat-form-field",43)(44,"mat-label"),r(45,"Gateway URL"),o(),a(46,"input",51),te("ngModelChange",function(n){f(e);let c=p();return ee(c.customGateway,n)||(c.customGateway=n),_(n)}),b("blur",function(){f(e);let n=p();return _(n.saveCustomGateway())}),o(),a(47,"mat-hint"),r(48," Examples: https://dweb.link/ipfs/, http://localhost:8080/ipfs/, your-pinata-subdomain... "),o()(),h(49,kc,6,1,"div",52)(50,Mc,4,0,"div",52),o()(),a(51,"div",37)(52,"div",38)(53,"mat-icon",39),r(54,"cloud_upload"),o(),a(55,"h3"),r(56,"nft.storage Key"),o()(),a(57,"div",40)(58,"p",41),r(59," Optional: Use "),a(60,"strong"),r(61,"nft.storage"),o(),r(62," for permanent, decentralized pinning (free). "),o(),a(63,"form",42,2),b("ngSubmit",function(){f(e);let n=p();return _(n.saveNftStorageKey())}),a(65,"mat-form-field",43)(66,"mat-label"),r(67,"nft.storage API Key"),o(),a(68,"input",53),te("ngModelChange",function(n){f(e);let c=p();return ee(c.nftStorageKey,n)||(c.nftStorageKey=n),_(n)}),o(),a(69,"mat-hint")(70,"a",54),r(71," Get key at nft.storage \u2192 "),o()()(),a(72,"div",46)(73,"button",47),r(74," Save Key "),o(),h(75,Pc,2,0,"button",48),o()(),h(76,Oc,4,0,"div",55)(77,Sc,4,0,"div",52),o()()(),a(78,"div",56),h(79,Ic,5,0,"ng-container",57)(80,Fc,8,4,"ng-template",null,3,Se),o()()}if(i&2){let e=q(20),t=q(81),n=p();s(24),Z("ngModel",n.userPinataJwt),s(5),m("disabled",!n.userPinataJwt().trim()||e.invalid),s(2),m("ngIf",n.hasUserJwt()),s(),m("ngIf",n.hasUserJwt()),s(),m("ngIf",!n.hasUserJwt()),s(13),Z("ngModel",n.customGateway),s(3),m("ngIf",n.customGateway()),s(),m("ngIf",!n.customGateway()),s(18),Z("ngModel",n.nftStorageKey),s(5),m("disabled",!n.nftStorageKey().trim()),s(2),m("ngIf",n.hasNftStorageKey()),s(),m("ngIf",n.hasNftStorageKey()),s(),m("ngIf",!n.hasNftStorageKey()),s(2),m("ngIf",n.loading())("ngIfElse",t)}}var Aa=(()=>{class i{platformId;loading=P(!1);copied=P(!1);lastErrorShown=null;themeService=C(be);darkMode=this.themeService.darkMode;wallet=C(ce);api=C(Le);snackBar=C(at);profileState=C(Ra);storage=C(li);profileExists=this.profileState.profileExists;isErased=this.profileState.isErased;erasedAt=this.profileState.erasedAt;sub;userPinataJwt=P("");hasUserJwt=P(!1);customGateway=P("");nftStorageKey=P("");hasNftStorageKey=P(!1);constructor(e){this.platformId=e}ngOnInit(){return T(this,null,function*(){if(gt(this.platformId)){let t=sessionStorage.getItem("erasedDid"),n=sessionStorage.getItem("erasedAt");t&&this.profileState.setProfileStatus(!1,!0,n);let c=yield this.storage.initEncryption();try{let d=yield this.storage.getItem("user_pinata_jwt");d&&(this.userPinataJwt.set(d),this.hasUserJwt.set(!0));let g=yield this.storage.getItem("nft_storage_api_key");g&&(this.nftStorageKey.set(g),this.hasNftStorageKey.set(!0));let x=yield this.storage.getItem("custom_ipfs_gateway");x&&this.customGateway.set(x)}catch(d){console.error("Failed to load settings from secure storage:",d),this.snackBar.open("Failed to load saved settings - may need to reconnect wallet","Close",{duration:5e3})}}this.sub=this.wallet.address$.subscribe(t=>{t?(gt(this.platformId)&&(sessionStorage.removeItem("erasedDid"),sessionStorage.removeItem("erasedAt")),this.checkProfile()):this.profileState.reset()})})}ngOnDestroy(){this.sub?.unsubscribe()}checkProfile(){return T(this,null,function*(){let e=this.wallet.address;if(!e){this.profileState.reset();return}if(this.profileExists()||this.isErased()){this.loading.set(!1);return}this.loading.set(!0);try{let t=yield It(this.api.getProfile(e));this.profileState.setProfileStatus(!0,!1,null)}catch(t){t.status===410?this.profileState.setProfileStatus(!1,!0,t.error?.erasedAt||null):t.status===404?this.profileState.setProfileStatus(!1,!1,null):(console.error("Unexpected profile check failed",t),(!this.lastErrorShown||Date.now()-this.lastErrorShown>1e4)&&(this.snackBar.open("Failed to check vault status","Close",{duration:5e3}),this.lastErrorShown=Date.now()))}finally{this.loading.set(!1)}})}connect(){return T(this,null,function*(){try{this.loading.set(!0),yield this.wallet.connect(),yield this.storage.initEncryption()}catch(e){this.snackBar.open(e.message||"Wallet connection failed","Close",{duration:5e3})}finally{this.loading.set(!1)}})}copyAddress(e){navigator.clipboard.writeText(e),this.copied.set(!0),setTimeout(()=>this.copied.set(!1),2e3)}createProfile(){return T(this,null,function*(){let e=this.wallet.address;if(!e||this.isErased()){this.snackBar.open("Wallet not connected or identity erased","Close",{duration:4e3});return}this.loading.set(!0);try{let t={owner:e},n=yield It(this.api.createProfile(t));if(n.unsignedTx){this.snackBar.open("Please sign the profile creation transaction in your wallet...","Close",{duration:8e3});let d=(yield this.wallet.signAndSendTransaction(n.unsignedTx)).hash;this.snackBar.open(`Profile created on-chain! Tx: ${d.slice(0,10)}...`,"Close",{duration:6e3})}else n.txHash&&this.snackBar.open("Vault profile created successfully!","Close",{duration:4e3});this.profileState.setProfileStatus(!0,!1,null),yield this.checkProfile()}catch(t){console.error("Create profile failed:",t),this.snackBar.open(t.message||"Failed to create profile","Close",{duration:5e3})}finally{this.loading.set(!1)}})}eraseProfile(){return T(this,null,function*(){let e=this.wallet.address;if(!(!e||this.isErased())&&confirm("This action is permanent (GDPR Right to be Forgotten). Continue?")){this.loading.set(!0);try{let t={did:`did:ethr:${e}`},n=yield It(this.api.eraseProfile(t));if(n.unsignedTx){this.snackBar.open("Please sign the erasure transaction in your wallet...","Close",{duration:8e3});let{hash:c}=yield this.wallet.signAndSendTransaction(n.unsignedTx);this.snackBar.open(`Identity erased permanently! Tx: ${c.slice(0,10)}...`,"Close",{duration:6e3})}else n.txHash&&this.snackBar.open("Identity erased successfully!","Close",{duration:4e3});this.profileState.setProfileStatus(!1,!0,new Date().toISOString())}catch(t){console.error("Erase profile failed:",t),this.snackBar.open(t.message||"Failed to erase identity","Close",{duration:5e3})}finally{this.loading.set(!1)}}})}saveUserPinataJwt(){return T(this,null,function*(){let e=this.userPinataJwt().trim();if(!e){this.snackBar.open("Please enter a JWT","Close",{duration:4e3});return}if(!e.startsWith("eyJ")||e.split(".").length!==3){this.snackBar.open("Invalid JWT format","Close",{duration:5e3});return}try{yield this.storage.setItem("user_pinata_jwt",e),this.hasUserJwt.set(!0),this.snackBar.open("Your Pinata JWT saved \u2014 uploads will use your account","Close",{duration:6e3})}catch(t){console.error("Failed to save Pinata JWT:",t),this.snackBar.open("Failed to save JWT - storage error","Close",{duration:5e3})}})}clearUserPinataJwt(){return T(this,null,function*(){try{yield this.storage.removeItem("user_pinata_jwt"),this.userPinataJwt.set(""),this.hasUserJwt.set(!1),this.snackBar.open("Removed \u2014 now using shared test key","Close",{duration:5e3})}catch(e){console.error("Failed to clear Pinata JWT:",e),this.snackBar.open("Failed to clear JWT - storage error","Close",{duration:5e3})}})}saveCustomGateway(){return T(this,null,function*(){let e=this.customGateway().trim();if(e){if(!e.startsWith("http://")&&!e.startsWith("https://")){this.snackBar.open("Gateway must start with http:// or https://","Close",{duration:4e3});return}e.endsWith("/")||(e+="/",this.customGateway.set(e));try{yield this.storage.setItem("custom_ipfs_gateway",e),this.snackBar.open("Custom gateway saved","Close",{duration:3e3})}catch(t){console.error("Failed to save custom gateway:",t),this.snackBar.open("Failed to save gateway - storage error","Close",{duration:5e3})}}else try{yield this.storage.removeItem("custom_ipfs_gateway"),this.snackBar.open("Reverted to default gateways","Close",{duration:3e3})}catch(t){console.error("Failed to clear custom gateway:",t)}})}saveNftStorageKey(){return T(this,null,function*(){let e=this.nftStorageKey().trim();if(!e){this.snackBar.open("Please enter a valid API key","Close",{duration:4e3});return}if(!e.startsWith("eyJ")||e.split(".").length!==3){this.snackBar.open("Invalid nft.storage API key format","Close",{duration:5e3});return}try{yield this.storage.setItem("nft_storage_api_key",e),this.hasNftStorageKey.set(!0),this.snackBar.open("nft.storage key saved \u2014 pinning will use it","Close",{duration:6e3})}catch(t){console.error("Failed to save nft.storage key:",t),this.snackBar.open("Failed to save key - storage error","Close",{duration:5e3})}})}clearNftStorageKey(){return T(this,null,function*(){try{yield this.storage.removeItem("nft_storage_api_key"),this.nftStorageKey.set(""),this.hasNftStorageKey.set(!1),this.snackBar.open("Removed \u2014 now using Pinata for pinning","Close",{duration:5e3})}catch(e){console.error("Failed to clear nft.storage key:",e),this.snackBar.open("Failed to clear key - storage error","Close",{duration:5e3})}})}static \u0275fac=function(t){return new(t||i)(u(sn))};static \u0275cmp=E({type:i,selectors:[["app-vault"]],standalone:!0,features:[D],decls:27,vars:9,consts:[["connectPrompt",""],["jwtForm","ngForm"],["nftForm","ngForm"],["profileLoaded",""],[1,"vault-container"],[1,"vault-header"],[1,"header-content"],[1,"header-icon-wrapper"],["width","64","height","64","viewBox","0 0 32 32","fill","none","xmlns","http://www.w3.org/2000/svg",1,"custom-shield"],["d","M16 2C8.5 2 3 7.5 3 15C3 25 16 30 16 30C16 30 29 25 29 15C29 7.5 23.5 2 16 2Z","fill","#6366f1","stroke","#4f46e5","stroke-width","3.5","stroke-linecap","round"],["cx","16","cy","16","r","7.5","fill","none","stroke","#ffffff","stroke-width","3.5"],["x","14","y","19","width","4","height","9","rx","2","fill","#ffffff"],["cx","16","cy","16","r","3","fill","#ffffff","opacity","0.4"],[1,"subtitle"],[1,"vault-content"],[1,"vault-card","primary-card"],[1,"card-header"],[1,"header-icon"],[1,"card-body"],["class","wallet-connected",4,"ngIf","ngIfElse"],["class","vault-card",4,"ngIf"],[1,"wallet-connected"],[1,"address-container"],[1,"address-display"],[1,"address"],[1,"full-address-tooltip"],["mat-icon-button","","matTooltip","Copy address",1,"copy-button",3,"click"],[1,"did-row"],[1,"label"],[1,"did"],[1,"connection-status","success"],[1,"connect-prompt"],[1,"muted"],[1,"connect-wallet-btn",3,"click","disabled"],[4,"ngIf"],[1,"vault-card"],[1,"card-body","settings-grid"],[1,"setting-card"],[1,"setting-header"],[1,"setting-icon"],[1,"setting-content"],[1,"help-text"],[3,"ngSubmit"],["appearance","outline",1,"full-width"],["matInput","","type","password","name","jwt","placeholder","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...","required","","autocomplete","new-password",3,"ngModelChange","ngModel"],["href","https://app.pinata.cloud/keys","target","_blank",1,"external-link"],[1,"button-group"],["mat-flat-button","","color","primary","type","submit",3,"disabled"],["mat-stroked-button","","color","warn","type","button",3,"click",4,"ngIf"],["class","status-pill",3,"ngClass",4,"ngIf"],["class","status-pill warning",4,"ngIf"],["matInput","","placeholder","https://ipfs.io/ipfs/",3,"ngModelChange","blur","ngModel"],["class","status-pill",4,"ngIf"],["matInput","","type","password","name","nftKey","placeholder","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",3,"ngModelChange","ngModel"],["href","https://nft.storage","target","_blank",1,"external-link"],["class","status-pill accent",4,"ngIf"],[1,"profile-status-section"],[4,"ngIf","ngIfElse"],["mat-stroked-button","","color","warn","type","button",3,"click"],[1,"status-pill",3,"ngClass"],[1,"status-pill","warning"],[1,"status-pill"],["color","primary"],[1,"status-pill","accent"],[1,"loading-state"],["diameter","40"],["class","status-card erased",4,"ngIf"],["class","status-card success",4,"ngIf"],["class","status-card warning",4,"ngIf"],[1,"refresh-section"],["mat-stroked-button","",3,"click","disabled"],[1,"status-card","erased"],[1,"status-icon"],[1,"status-content"],[1,"muted","small"],[1,"status-card","success"],[1,"action-buttons"],["routerLink","/contexts","mat-flat-button","","color","primary"],["routerLink","/credentials","mat-stroked-button","","color","primary"],[1,"status-card","warning"],["mat-flat-button","","color","primary",3,"click","disabled"]],template:function(t,n){if(t&1&&(a(0,"div",4)(1,"header",5)(2,"div",6)(3,"div",7),et(),a(4,"svg",8),y(5,"path",9)(6,"circle",10)(7,"rect",11)(8,"circle",12),o()(),Et(),a(9,"h1"),r(10,"Identity Vault"),o(),a(11,"p",13),r(12," Securely manage your sovereign digital identity. Connect your wallet to control your credentials, contexts, and consents. "),o()()(),a(13,"main",14)(14,"section",15)(15,"div",16)(16,"mat-icon",17),r(17,"account_balance_wallet"),o(),a(18,"h2"),r(19,"Wallet Connection"),o()(),a(20,"div",18),h(21,bc,22,12,"div",19),I(22,"async"),h(23,vc,7,3,"ng-template",null,0,Se),o()(),h(25,Ac,82,15,"section",20),I(26,"async"),o()()),t&2){let c=q(24);O("dark",n.darkMode()),s(21),m("ngIf",z(22,5,n.wallet.address$))("ngIfElse",c),s(4),m("ngIf",z(26,7,n.wallet.address$))}},dependencies:[ne,zn,ue,mn,ot,pn,we,jn,De,Ce,Ln,gn,Te,Bo,hn,Vt,_e,fe,ge,oa,he,Re,Me,ke,vt,Be,Ve,Ae,Qe,Ne,ze,ye,Fe],styles:["[_nghost-%COMP%]{display:block;min-height:100vh;background:var(--bg, #f8fafc)}.vault-container.dark[_ngcontent-%COMP%]{--bg: #0f0f1a;--card-bg: rgba(30, 41, 59, .65);--card-border: rgba(59, 69, 94, .6);--text-primary: #f1f5f9;--text-secondary: #94a3b8;--input-bg: rgba(30, 41, 59, .7);--input-border: #4b5563}.vault-header[_ngcontent-%COMP%]{text-align:center;padding:4rem 1rem 5rem;background:linear-gradient(135deg,#6366f114,#a78bfa0d)}.vault-container.dark[_ngcontent-%COMP%]   .vault-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6366f11f,#a78bfa14)}.header-content[_ngcontent-%COMP%]{max-width:720px;margin:0 auto}.header-icon-wrapper[_ngcontent-%COMP%]{width:80px;height:80px;margin:0 auto 1.5rem;background:linear-gradient(135deg,#6366f1,#a78bfa);border-radius:24px;display:flex;align-items:center;justify-content:center;box-shadow:0 10px 30px #6366f173;overflow:hidden;transition:transform .3s ease}.header-icon-wrapper[_ngcontent-%COMP%]:hover{transform:scale(1.08)}.custom-shield[_ngcontent-%COMP%]{width:56px;height:56px;filter:drop-shadow(0 2px 6px rgba(0,0,0,.3))}h1[_ngcontent-%COMP%]{font-size:3rem;font-weight:800;background:linear-gradient(135deg,#6366f1,#a78bfa);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin:0 0 1rem;letter-spacing:-1px}.subtitle[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--text-secondary);line-height:1.6}.vault-content[_ngcontent-%COMP%]{max-width:1100px;margin:-3.5rem auto 0;padding:0 1.5rem}.vault-card[_ngcontent-%COMP%]{background:var(--card-bg, white);border-radius:24px;border:1px solid var(--card-border, #e2e8f0);box-shadow:0 10px 40px #00000014;overflow:hidden;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);transition:all .3s ease}.vault-container.dark[_ngcontent-%COMP%]   .vault-card[_ngcontent-%COMP%]{box-shadow:0 20px 60px #0006}.primary-card[_ngcontent-%COMP%]{margin-bottom:2.5rem}.card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1.75rem 2rem;border-bottom:1px solid var(--card-border);background:#6366f10d}.vault-container.dark[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:#6366f11f}.header-icon[_ngcontent-%COMP%]{font-size:32px;width:48px;height:48px;background:#6366f126;border-radius:14px;color:#6366f1;display:flex;align-items:center;justify-content:center}.vault-container.dark[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{background:#6366f14d;color:#a5b4fc}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{margin:0;font-weight:700;color:var(--text-primary, #1e293b)}.vault-container.dark[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .vault-container.dark[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#f1f5f9}.card-body[_ngcontent-%COMP%]{padding:2rem}.address-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;background:var(--input-bg);border:1px solid var(--input-border);border-radius:16px;padding:.75rem 1rem;margin-bottom:1.25rem;position:relative}.address-display[_ngcontent-%COMP%]{flex:1;font-family:Courier New,monospace;font-size:1.05rem;color:var(--text-primary);position:relative}.full-address-tooltip[_ngcontent-%COMP%]{visibility:hidden;position:absolute;top:-40px;left:50%;transform:translate(-50%);background:#1e293b;color:#fff;padding:6px 12px;border-radius:8px;font-size:.85rem;white-space:nowrap;z-index:10}.address-display[_ngcontent-%COMP%]:hover   .full-address-tooltip[_ngcontent-%COMP%]{visibility:visible}.address[_ngcontent-%COMP%]{font-weight:500}.copy-button[_ngcontent-%COMP%]{color:#64748b}.vault-container.dark[_ngcontent-%COMP%]   .copy-button[_ngcontent-%COMP%]{color:#cbd5e1}.did-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:1.25rem;flex-wrap:wrap}.label[_ngcontent-%COMP%]{font-weight:500;color:var(--text-secondary);font-size:.95rem}.did[_ngcontent-%COMP%]{background:#6366f11a;padding:.35rem .75rem;border-radius:10px;font-family:Courier New,monospace;color:#6366f1;word-break:break-all}.vault-container.dark[_ngcontent-%COMP%]   .did[_ngcontent-%COMP%]{background:#6366f133;color:#c7d2fe}.connection-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:1rem;border-radius:16px;background:#22c55e1a;color:#166534;font-weight:500}.vault-container.dark[_ngcontent-%COMP%]   .connection-status.success[_ngcontent-%COMP%]{background:#22c55e33;color:#86efac}.connect-wallet-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.75rem;padding:1rem 2.25rem;background:linear-gradient(135deg,#6366f1,#a78bfa);color:#fff;border:none;border-radius:16px;font-size:1.1rem;font-weight:600;cursor:pointer;transition:all .3s ease;box-shadow:0 8px 25px #6366f159}.connect-wallet-btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 16px 40px #6366f173}.settings-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(360px,1fr));gap:1.75rem;padding:2rem}.setting-card[_ngcontent-%COMP%]{background:var(--card-bg);border-radius:20px;border:1px solid var(--card-border);overflow:hidden;transition:transform .3s ease}.setting-card[_ngcontent-%COMP%]:hover{transform:translateY(-6px)}.setting-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1.25rem 1.75rem;background:#6366f10f;border-bottom:1px solid var(--card-border)}.vault-container.dark[_ngcontent-%COMP%]   .setting-header[_ngcontent-%COMP%]{background:#6366f126}.setting-icon[_ngcontent-%COMP%]{font-size:28px;width:44px;height:44px;background:#6366f126;border-radius:12px;color:#6366f1;display:flex;align-items:center;justify-content:center}.vault-container.dark[_ngcontent-%COMP%]   .setting-icon[_ngcontent-%COMP%]{background:#6366f14d;color:#a5b4fc}.setting-content[_ngcontent-%COMP%]{padding:1.75rem}.help-text[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.95rem;line-height:1.5;margin-bottom:1.25rem}.external-link[_ngcontent-%COMP%]{color:#6366f1;text-decoration:underline;font-weight:500}.vault-container.dark[_ngcontent-%COMP%]   .external-link[_ngcontent-%COMP%]{color:#a5b4fc}.full-width[_ngcontent-%COMP%]{width:100%}.button-group[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1.25rem;flex-wrap:wrap}.status-pill[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-top:1.5rem;padding:.75rem 1.25rem;border-radius:999px;background:#6366f11a;color:#1e40af;font-weight:500;font-size:.95rem}.status-pill.success[_ngcontent-%COMP%]{background:#22c55e26;color:#166534}.vault-container.dark[_ngcontent-%COMP%]   .status-pill.success[_ngcontent-%COMP%]{background:#22c55e40;color:#86efac}.status-pill.warning[_ngcontent-%COMP%]{background:#f59e0b26;color:#92400e}.vault-container.dark[_ngcontent-%COMP%]   .status-pill.warning[_ngcontent-%COMP%]{background:#f59e0b40;color:#fbbf24}.status-pill.accent[_ngcontent-%COMP%]{background:#a855f726;color:#6b21a8}.vault-container.dark[_ngcontent-%COMP%]   .status-pill.accent[_ngcontent-%COMP%]{background:#a855f740;color:#c4b5fd}.profile-status-section[_ngcontent-%COMP%]{margin-top:2.5rem;padding:2rem;background:var(--card-bg);border-radius:24px;border:1px solid var(--card-border)}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1.25rem;padding:4rem 0;color:var(--text-secondary)}.status-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;padding:2rem;border-radius:20px;background:#22c55e1a;border:1px solid rgba(34,197,94,.3)}.status-card.success[_ngcontent-%COMP%]{background:#22c55e1f;border-color:#22c55e66}.vault-container.dark[_ngcontent-%COMP%]   .status-card.success[_ngcontent-%COMP%]{background:#22c55e38}.status-card.warning[_ngcontent-%COMP%]{background:#f59e0b1f;border-color:#f59e0b66}.vault-container.dark[_ngcontent-%COMP%]   .status-card.warning[_ngcontent-%COMP%]{background:#f59e0b38}.status-card.erased[_ngcontent-%COMP%]{background:#ef44441f;border-color:#ef444466}.vault-container.dark[_ngcontent-%COMP%]   .status-card.erased[_ngcontent-%COMP%]{background:#ef444438}.status-icon[_ngcontent-%COMP%]{font-size:48px;width:64px;height:64px}.status-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1.5rem;flex-wrap:wrap}.refresh-section[_ngcontent-%COMP%]{text-align:center;margin-top:2rem}@media (max-width: 960px){.vault-content[_ngcontent-%COMP%]{padding:0 1rem}.settings-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 600px){h1[_ngcontent-%COMP%]{font-size:2.25rem}.vault-header[_ngcontent-%COMP%]{padding:3rem 1rem 4rem}.action-buttons[_ngcontent-%COMP%]{flex-direction:column}}"]})}return i})();var Qt=(()=>{class i{DEFAULT_CONTEXTS=["personal","professional","legal"];contextsSubject=new Fn([...this.DEFAULT_CONTEXTS]);contexts$=this.contextsSubject.asObservable();get contexts(){return this.contextsSubject.value}addContext(e){let t=e.trim().toLowerCase();t&&(this.contexts.includes(t)||this.contextsSubject.next([...this.contexts,t]))}static \u0275fac=function(t){return new(t||i)};static \u0275prov=mt({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Vc(i,l){if(i&1&&(a(0,"mat-option",19),r(1),I(2,"titlecase"),o()),i&2){let e=l.$implicit;m("value",e),s(),M(" ",z(2,2,e)," ")}}function Bc(i,l){i&1&&(a(0,"div",20)(1,"mat-icon",21),r(2,"info"),o(),r(3," Choose a context to view its associated attributes "),o())}function zc(i,l){if(i&1){let e=k();a(0,"div",26)(1,"label",27),r(2),I(3,"titlecase"),o(),a(4,"div",28)(5,"code"),r(6),I(7,"json"),o(),a(8,"button",29),b("click",function(){let n=f(e).$implicit,c=p(2);return _(c.copyToClipboard(c.profile()[n],n))}),a(9,"mat-icon"),r(10),o()()()()}if(i&2){let e=l.$implicit,t=p(2);s(2),S(z(3,3,e)),s(4),M(" ",t.isObject(t.profile()[e])?z(7,5,t.profile()[e]):t.profile()[e]," "),s(4),S(t.copiedKey===e?"check":"content_copy")}}function Nc(i,l){if(i&1&&(a(0,"section",3)(1,"div",4)(2,"mat-icon",22),r(3,"badge"),o(),a(4,"h3"),r(5),I(6,"titlecase"),o(),a(7,"span",23),r(8),o()(),a(9,"div",24),h(10,zc,11,7,"div",25),o()()),i&2){let e=p();s(5),M("",z(6,4,e.currentContext())," Attributes"),s(3),Ee("",e.attributeKeys().length," attribute",e.attributeKeys().length===1?"":"s",""),s(2),m("ngForOf",e.attributeKeys())}}function Lc(i,l){if(i&1&&(a(0,"section",30)(1,"mat-icon",31),r(2,"inbox"),o(),a(3,"h3"),r(4,"No attributes yet in this context"),o(),a(5,"p",32),r(6," Issue a credential in the "),a(7,"a",33),r(8,"Credentials"),o(),r(9," page and assign it to "),a(10,"strong"),r(11),o(),r(12,". "),y(13,"br")(14,"br"),a(15,"strong"),r(16,"Note:"),o(),r(17,' Custom contexts are stored under "profile" \u2014 attributes may appear when selecting "profile". '),o()()),i&2){let e=p();s(11),S(e.currentContext())}}function jc(i,l){i&1&&(a(0,"div",34),y(1,"mat-spinner",35),a(2,"p"),r(3,"Loading context attributes..."),o()())}var Va=(()=>{class i{contexts=P([]);currentContext=P("");newContext=P("");selectedContext="";newContextInput="";profile=P(null);loading=P(!1);copiedKey=null;themeService=C(be);darkMode=this.themeService.darkMode;api=C(Le);wallet=C(ce);contextService=C(Qt);snackBar=C(at);strictContexts=["identity","medical","professional","profile","compliance"];constructor(){Po(()=>{let e=this.currentContext();e!==this.selectedContext&&(this.selectedContext=e)})}ngOnInit(){this.contextService.contexts$.subscribe(e=>{this.contexts.set(e.sort())}),this.selectedContext=this.currentContext(),this.currentContext()&&this.loadContext()}onContextChange(e){this.currentContext.set(e),this.loadContext()}isCustomContext(){return!!this.currentContext()&&!this.strictContexts.includes(this.currentContext().toLowerCase())}sanitizeContextInput(e){let t=e.trim().toLowerCase();return["select","insert","update","delete","drop","alter","truncate","create","replace","where","from","union","into","values"].forEach(c=>{t=t.replace(new RegExp(c,"gi"),"")}),t=t.replace(/['"%;()<>]/g,""),t=t.replace(/(--|\/*|\*\/)/g,""),t=t.replace(/-{2,}/g,"-"),t}addContext(){let e=this.newContextInput;if(!e||!e.trim())return;let t=this.sanitizeContextInput(e);if(!/^[a-z0-9-]+$/.test(t)){this.snackBar.open("Context must contain only lowercase letters, numbers, and hyphens.","Close",{duration:5e3});return}if(!t.replace(/-/g,"").length){this.snackBar.open("Context name cannot be only hyphens.","Close",{duration:4e3});return}if(this.contexts().includes(t)){this.snackBar.open("Context already exists","Close",{duration:3e3});return}this.contextService.addContext(t),this.currentContext.set(t),this.newContext.set(""),this.newContextInput="",this.snackBar.open(`Custom context "${t}" created.`,"Close",{duration:5e3}),this.loadContext()}loadContext(){let e=this.wallet.address;if(!e||!this.currentContext()){this.profile.set(null),this.loading.set(!1);return}this.loading.set(!0),this.profile.set(null),this.api.getProfile(e,this.currentContext()).subscribe({next:t=>{this.profile.set(t.attributes||{}),this.loading.set(!1)},error:t=>{console.error("Failed to load context:",t),this.profile.set(null),this.loading.set(!1),this.snackBar.open("Failed to load context attributes. Please try again.","Close",{duration:5e3})}})}attributeKeys(){let e=this.profile();return e?Object.keys(e):[]}hasAttributes(){let e=this.profile();return!!e&&Object.keys(e).length>0}isObject(e){return e&&typeof e=="object"&&!Array.isArray(e)}copyToClipboard(e,t){let n=typeof e=="object"&&e!==null?JSON.stringify(e,null,2):String(e);navigator.clipboard.writeText(n),this.copiedKey=t,setTimeout(()=>this.copiedKey=null,1500),this.snackBar.open("Copied to clipboard","Close",{duration:2e3})}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=E({type:i,selectors:[["app-contexts"]],standalone:!0,features:[D],decls:45,vars:12,consts:[[1,"contexts-container"],[1,"contexts-header"],[1,"subtitle"],[1,"card","elevated"],[1,"card-header"],[1,"header-icon"],["mat-icon-button","","matTooltip","Refresh current context",3,"click","disabled"],["appearance","outline",1,"full-width"],[3,"ngModelChange","ngModel","disabled"],["value",""],[3,"value",4,"ngFor","ngForOf"],["matSuffix",""],["class","hint",4,"ngIf"],[1,"add-context-row"],["matInput","","placeholder","e.g. legal, health, finance",3,"ngModelChange","keyup.enter","ngModel"],["mat-raised-button","","color","primary",3,"click","disabled"],["class","card elevated",4,"ngIf"],["class","card elevated empty-state",4,"ngIf"],["class","loading-overlay",4,"ngIf"],[3,"value"],[1,"hint"],["inline",""],["color","primary",1,"header-icon"],[1,"badge"],[1,"attributes-grid"],["class","attribute-item",4,"ngFor","ngForOf"],[1,"attribute-item"],[1,"attribute-label"],[1,"attribute-value"],["mat-icon-button","","matTooltip","Copy value",3,"click"],[1,"card","elevated","empty-state"],[1,"empty-icon"],[1,"muted"],["routerLink","/credentials"],[1,"loading-overlay"],["diameter","48"]],template:function(t,n){t&1&&(a(0,"div",0)(1,"div",1)(2,"h1"),r(3,"Contexts"),o(),a(4,"p",2),r(5,' Manage selective disclosure contexts. Custom contexts are stored under "profile" on the backend. '),o()(),a(6,"section",3)(7,"div",4)(8,"mat-icon",5),r(9,"folder_special"),o(),a(10,"h3"),r(11,"Select Context"),o(),a(12,"button",6),b("click",function(){return n.loadContext()}),a(13,"mat-icon"),r(14,"refresh"),o()()(),a(15,"mat-form-field",7)(16,"mat-label"),r(17,"Active Context"),o(),a(18,"mat-select",8),te("ngModelChange",function(d){return ee(n.selectedContext,d)||(n.selectedContext=d),d}),b("ngModelChange",function(d){return n.onContextChange(d)}),a(19,"mat-option",9),r(20,"-- Select a context --"),o(),h(21,Vc,3,4,"mat-option",10),o(),a(22,"mat-icon",11),r(23,"arrow_drop_down"),o()(),h(24,Bc,4,0,"div",12),o(),a(25,"section",3)(26,"div",4)(27,"mat-icon",5),r(28,"add_circle_outline"),o(),a(29,"h3"),r(30,"Create New Context"),o()(),a(31,"div",13)(32,"mat-form-field",7)(33,"mat-label"),r(34,"New context name"),o(),a(35,"input",14),te("ngModelChange",function(d){return ee(n.newContextInput,d)||(n.newContextInput=d),d}),b("keyup.enter",function(){return n.addContext()}),o(),a(36,"mat-hint"),r(37,"Lowercase, no spaces (use hyphens if needed)"),o()(),a(38,"button",15),b("click",function(){return n.addContext()}),a(39,"mat-icon"),r(40,"add"),o(),r(41," Add Context "),o()()(),h(42,Nc,11,6,"section",16)(43,Lc,18,1,"section",17)(44,jc,4,0,"div",18),o()),t&2&&(O("dark",n.darkMode()),s(12),m("disabled",n.loading()||!n.currentContext()),s(6),Z("ngModel",n.selectedContext),m("disabled",n.loading()||n.contexts().length===0),s(3),m("ngForOf",n.contexts()),s(3),m("ngIf",!n.currentContext()&&n.contexts().length>0),s(11),Z("ngModel",n.newContextInput),s(3),m("disabled",!n.newContextInput.trim()||n.loading()),s(4),m("ngIf",n.hasAttributes()),s(),m("ngIf",n.currentContext()&&!n.loading()&&!n.hasAttributes()),s(),m("ngIf",n.loading()))},dependencies:[ne,Ft,ue,it,At,we,De,Ce,Te,hn,Vt,_e,fe,ge,he,Re,Ut,Ve,Ae,Qe,xn,Wt,bt,Be,Ne,ze,Me,ke,ye,Fe,vt],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;min-height:100vh}.contexts-container[_ngcontent-%COMP%]{padding:32px 40px 80px;max-width:960px;margin:0 auto;transition:background .4s ease}.contexts-container.dark[_ngcontent-%COMP%]{background:#0f0f1a;color:#e2e8f0}.contexts-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:48px}h1[_ngcontent-%COMP%]{font-size:clamp(1.3rem,4vw + 1rem,2.8rem);font-weight:800;background:linear-gradient(135deg,#6366f1,#a78bfa);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin:0 0 16px;letter-spacing:-.6px}.subtitle[_ngcontent-%COMP%]{font-size:1.15rem;color:var(--text-secondary, #94a3b8);max-width:760px;margin:0 auto;line-height:1.6}.card[_ngcontent-%COMP%]{background:var(--card-bg, white);border-radius:20px;padding:32px;margin-bottom:32px;border:1px solid var(--card-border, #e2e8f0);transition:all .3s cubic-bezier(.4,0,.2,1)}.contexts-container.dark[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background:#1e293ba6;border-color:#2d2d44;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.elevated[_ngcontent-%COMP%]{box-shadow:0 10px 30px #00000017}.contexts-container.dark[_ngcontent-%COMP%]   .elevated[_ngcontent-%COMP%]{box-shadow:0 12px 40px #00000073}.card[_ngcontent-%COMP%]:hover{transform:translateY(-6px);box-shadow:0 20px 50px #00000024}.contexts-container.dark[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover{box-shadow:0 20px 60px #0000008c}.card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;margin-bottom:24px}.header-icon[_ngcontent-%COMP%]{font-size:32px;width:52px;height:52px;display:flex;align-items:center;justify-content:center;background:var(--icon-bg, rgba(99, 102, 241, .12));border-radius:14px;color:#6366f1}.contexts-container.dark[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{background:#6366f147;color:#a5b4fc}.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:700;color:var(--text-primary, #1e293b)}.contexts-container.dark[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#f1f5f9}.badge[_ngcontent-%COMP%]{margin-left:auto;padding:6px 14px;background:var(--badge-bg, #eef2ff);color:#6366f1;border-radius:999px;font-size:.88rem;font-weight:600}.contexts-container.dark[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background:#6366f133;color:#a5b4fc}.full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.add-context-row[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:flex-end;flex-wrap:wrap;margin-bottom:16px}.add-context-row[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1;min-width:300px}.attributes-grid[_ngcontent-%COMP%]{display:grid;gap:20px}.attribute-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.attribute-label[_ngcontent-%COMP%]{font-size:.95rem;color:var(--text-secondary);font-weight:500}.contexts-container.dark[_ngcontent-%COMP%]   .attribute-label[_ngcontent-%COMP%]{color:#cbd5e1}.attribute-value[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;background:var(--code-bg, #f8fafc);padding:14px 18px;border-radius:14px;border:1px solid var(--card-border, #e2e8f0)}.contexts-container.dark[_ngcontent-%COMP%]   .attribute-value[_ngcontent-%COMP%]{background:#1e293b99;border-color:#4b5563}.attribute-value[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{flex:1;font-family:Courier New,monospace;color:#1d4ed8;word-break:break-all;font-size:.98rem}.contexts-container.dark[_ngcontent-%COMP%]   .attribute-value[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{color:#c7d2fe}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:64px 32px;border-radius:20px}.empty-icon[_ngcontent-%COMP%]{font-size:80px;width:100px;height:100px;color:var(--text-secondary);margin-bottom:24px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--text-primary);margin:0 0 16px;font-size:1.6rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:560px;margin:0 auto 16px;font-size:1.05rem}.empty-state[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#6366f1;text-decoration:underline;font-weight:500}.contexts-container.dark[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#a5b4fc}.loading-overlay[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:16px;padding:64px 0;color:var(--text-secondary)}.contexts-container.dark[_ngcontent-%COMP%]   .loading-overlay[_ngcontent-%COMP%]{color:#cbd5e1}.hint[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:var(--text-secondary);font-size:.95rem;margin-top:12px}.small[_ngcontent-%COMP%]{font-size:.9rem}.muted[_ngcontent-%COMP%]{color:var(--text-secondary)}.warning-hint[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#9a3412;background:#f973161a;padding:12px;border-radius:8px;margin-top:12px}.contexts-container.dark[_ngcontent-%COMP%]   .warning-hint[_ngcontent-%COMP%]{color:#fdba74;background:#f9731633}.contexts-container.dark[_ngcontent-%COMP%]   .mat-mdc-form-field-label[_ngcontent-%COMP%], .contexts-container.dark[_ngcontent-%COMP%]   .mat-mdc-form-field-hint[_ngcontent-%COMP%], .contexts-container.dark[_ngcontent-%COMP%]   .mat-mdc-select-placeholder[_ngcontent-%COMP%], .contexts-container.dark[_ngcontent-%COMP%]   .mat-mdc-input-element[_ngcontent-%COMP%]::placeholder{color:#94a3b8!important;opacity:1!important}.contexts-container.dark[_ngcontent-%COMP%]   .mat-mdc-form-field.mat-focused[_ngcontent-%COMP%]   .mat-mdc-form-field-label[_ngcontent-%COMP%]{color:#a5b4fc!important}.contexts-container.dark[_ngcontent-%COMP%]   .mat-mdc-input-element[_ngcontent-%COMP%], .contexts-container.dark[_ngcontent-%COMP%]   textarea.mat-mdc-input-element[_ngcontent-%COMP%], .contexts-container.dark[_ngcontent-%COMP%]   .mat-mdc-select-arrow[_ngcontent-%COMP%], .contexts-container.dark[_ngcontent-%COMP%]   .mat-mdc-select-value-text[_ngcontent-%COMP%]{color:#f1f5f9!important}.contexts-container.dark[_ngcontent-%COMP%]   .mat-mdc-form-field-underline[_ngcontent-%COMP%], .contexts-container.dark[_ngcontent-%COMP%]   .mat-mdc-form-field-ripple[_ngcontent-%COMP%]{background-color:#6366f1!important}.contexts-container.dark[_ngcontent-%COMP%]   .mat-mdc-form-field-disabled[_ngcontent-%COMP%]   .mat-mdc-form-field-label[_ngcontent-%COMP%], .contexts-container.dark[_ngcontent-%COMP%]   .mat-mdc-form-field-disabled[_ngcontent-%COMP%]   .mat-mdc-input-element[_ngcontent-%COMP%]{color:#6b7280!important}@media (max-width: 960px){.contexts-container[_ngcontent-%COMP%]{padding-bottom:60px}.add-context-row[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{min-width:200px}}@media (max-width: 480px){.card[_ngcontent-%COMP%]:hover{transform:none}.contexts-container[_ngcontent-%COMP%]{padding:24px 20px 60px}.card[_ngcontent-%COMP%]{padding:20px}.card-header[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;text-align:center}.badge[_ngcontent-%COMP%]{margin-left:0;margin-top:8px}.add-context-row[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:12px}.add-context-row[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%!important;min-width:0!important}.full-width[_ngcontent-%COMP%], mat-form-field[_ngcontent-%COMP%]{width:100%!important}.attributes-grid[_ngcontent-%COMP%]{gap:12px}.attribute-value[_ngcontent-%COMP%]{padding:10px 12px}.empty-state[_ngcontent-%COMP%]{padding:40px 20px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}h1[_ngcontent-%COMP%], .subtitle[_ngcontent-%COMP%]{font-size:clamp(1.3rem,4vw + 1rem,2.8rem)}}@media (max-width: 320px){button[_ngcontent-%COMP%], .badge[_ngcontent-%COMP%]{font-size:.8rem}.header-icon[_ngcontent-%COMP%]{width:40px;height:40px;font-size:24px}.card[_ngcontent-%COMP%]{padding:16px}h1[_ngcontent-%COMP%]{font-size:clamp(1.3rem,4vw + 1rem,2.8rem)}.empty-state[_ngcontent-%COMP%]{padding:32px 12px}.attribute-value[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-size:.85rem}}']})}return i})();var Hc=["input"],Wc=["label"],Uc=["*"],Gc=new ae("mat-checkbox-default-options",{providedIn:"root",factory:za});function za(){return{color:"accent",clickAction:"check-indeterminate"}}var je=function(i){return i[i.Init=0]="Init",i[i.Checked=1]="Checked",i[i.Unchecked=2]="Unchecked",i[i.Indeterminate=3]="Indeterminate",i}(je||{}),qc={provide:Bt,useExisting:st(()=>$t),multi:!0},Wi=class{},Qc=0,Ba=za(),$t=(()=>{class i{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(e){let t=new Wi;return t.source=this,t.checked=e,t}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,t,n,c,d,g){this._elementRef=e,this._changeDetectorRef=t,this._ngZone=n,this._animationMode=d,this._options=g,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new Y,this.indeterminateChange=new Y,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=je.Init,this._controlValueAccessorChangeFn=()=>{},this._validatorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||Ba,this.color=this._options.color||Ba.color,this.tabIndex=parseInt(c)||0,this.id=this._uniqueId=`mat-mdc-checkbox-${++Qc}`}ngOnChanges(e){e.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(e){e!=this.checked&&(this._checked=e,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){e!==this.disabled&&(this._disabled=e,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){let t=e!=this._indeterminate;this._indeterminate=e,t&&(this._indeterminate?this._transitionCheckState(je.Indeterminate):this._transitionCheckState(this.checked?je.Checked:je.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}validate(e){return this.required&&e.value!==!0?{required:!0}:null}registerOnValidatorChange(e){this._validatorChangeFn=e}_transitionCheckState(e){let t=this._currentCheckState,n=this._getAnimationTargetElement();if(!(t===e||!n)&&(this._currentAnimationClass&&n.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(t,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){n.classList.add(this._currentAnimationClass);let c=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{n.classList.remove(c)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){let e=this._options?.clickAction;!this.disabled&&e!=="noop"?(this.indeterminate&&e!=="check"&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?je.Checked:je.Unchecked),this._emitChangeEvent()):!this.disabled&&e==="noop"&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate)}_onInteractionEvent(e){e.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(e,t){if(this._animationMode==="NoopAnimations")return"";switch(e){case je.Init:if(t===je.Checked)return this._animationClasses.uncheckedToChecked;if(t==je.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case je.Unchecked:return t===je.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case je.Checked:return t===je.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case je.Indeterminate:return t===je.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(e){let t=this._inputElement;t&&(t.nativeElement.indeterminate=e)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(e){e.target&&this._labelElement.nativeElement.contains(e.target)&&e.stopPropagation()}static{this.\u0275fac=function(t){return new(t||i)(u(W),u(U),u(pe),Dt("tabindex"),u(Tt,8),u(Gc,8))}}static{this.\u0275cmp=E({type:i,selectors:[["mat-checkbox"]],viewQuery:function(t,n){if(t&1&&(Oe(Hc,5),Oe(Wc,5),Oe(yt,5)),t&2){let c;F(c=A())&&(n._inputElement=c.first),F(c=A())&&(n._labelElement=c.first),F(c=A())&&(n.ripple=c.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:14,hostBindings:function(t,n){t&2&&(Vn("id",n.id),re("tabindex",null)("aria-label",null)("aria-labelledby",null),ht(n.color?"mat-"+n.color:"mat-accent"),O("_mat-animation-noopable",n._animationMode==="NoopAnimations")("mdc-checkbox--disabled",n.disabled)("mat-mdc-checkbox-disabled",n.disabled)("mat-mdc-checkbox-checked",n.checked))},inputs:{ariaLabel:[w.None,"aria-label","ariaLabel"],ariaLabelledby:[w.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[w.None,"aria-describedby","ariaDescribedby"],id:"id",required:[w.HasDecoratorInputTransform,"required","required",R],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[w.HasDecoratorInputTransform,"disableRipple","disableRipple",R],tabIndex:[w.HasDecoratorInputTransform,"tabIndex","tabIndex",e=>e==null?void 0:Bn(e)],color:"color",checked:[w.HasDecoratorInputTransform,"checked","checked",R],disabled:[w.HasDecoratorInputTransform,"disabled","disabled",R],indeterminate:[w.HasDecoratorInputTransform,"indeterminate","indeterminate",R]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],standalone:!0,features:[G([qc,{provide:Nn,useExisting:i,multi:!0}]),se,pt,D],ngContentSelectors:Uc,decls:15,vars:19,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(t,n){if(t&1){let c=k();X(),a(0,"div",3),b("click",function(g){return f(c),_(n._preventBubblingFromLabel(g))}),a(1,"div",4,0)(3,"div",5),b("click",function(){return f(c),_(n._onTouchTargetClick())}),o(),a(4,"input",6,1),b("blur",function(){return f(c),_(n._onBlur())})("click",function(){return f(c),_(n._onInputClick())})("change",function(g){return f(c),_(n._onInteractionEvent(g))}),o(),y(6,"div",7),a(7,"div",8),et(),a(8,"svg",9),y(9,"path",10),o(),Et(),y(10,"div",11),o(),y(11,"div",12),o(),a(12,"label",13,2),B(14),o()()}if(t&2){let c=q(2);m("labelPosition",n.labelPosition),s(4),O("mdc-checkbox--selected",n.checked),m("checked",n.checked)("indeterminate",n.indeterminate)("disabled",n.disabled)("id",n.inputId)("required",n.required)("tabIndex",n.disabled?-1:n.tabIndex),re("aria-label",n.ariaLabel||null)("aria-labelledby",n.ariaLabelledby)("aria-describedby",n.ariaDescribedby)("aria-checked",n.indeterminate?"mixed":null)("name",n.name)("value",n.value),s(7),m("matRippleTrigger",c)("matRippleDisabled",n.disableRipple||n.disabled)("matRippleCentered",!0),s(),m("for",n.inputId)}},dependencies:[yt,Gn],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}}.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:focus:not(:checked):not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color)}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}}return i})();var yn=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=me({type:i})}static{this.\u0275inj=de({imports:[$t,Q,Q]})}}return i})();var Yc=["panel"],Kc=["*"];function Jc(i,l){if(i&1){let e=k();a(0,"div",1,0),b("@panelAnimation.done",function(n){f(e);let c=p();return _(c._animationDone.next(n))}),B(2),o()}if(i&2){let e=l.id,t=p();ht(t._classList),O("mat-mdc-autocomplete-visible",t.showPanel)("mat-mdc-autocomplete-hidden",!t.showPanel)("mat-primary",t._color==="primary")("mat-accent",t._color==="accent")("mat-warn",t._color==="warn"),m("id",t.id)("@panelAnimation",t.isOpen?"visible":"hidden"),re("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby(e))}}var Xc=Jt("panelAnimation",[zt("void, hidden",qe({opacity:0,transform:"scaleY(0.8)"})),_t(":enter, hidden => visible",[Wo([lt("0.03s linear",qe({opacity:1})),lt("0.12s cubic-bezier(0, 0, 0.2, 1)",qe({transform:"scaleY(1)"}))])]),_t(":leave, visible => hidden",[lt("0.075s linear",qe({opacity:0}))])]),Zc=0,Gi=class{constructor(l,e){this.source=l,this.option=e}},Na=new ae("mat-autocomplete-default-options",{providedIn:"root",factory:es});function es(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1}}var di=(()=>{class i{get isOpen(){return this._isOpen&&this.showPanel}_setColor(e){this._color=e,this._changeDetectorRef.markForCheck()}set classList(e){this._classList=e,this._elementRef.nativeElement.className=""}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}constructor(e,t,n,c){this._changeDetectorRef=e,this._elementRef=t,this._defaults=n,this._activeOptionChanges=Yt.EMPTY,this._animationDone=new Y,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new Y,this.opened=new Y,this.closed=new Y,this.optionActivated=new Y,this.id=`mat-autocomplete-${Zc++}`,this.inertGroups=c?.SAFARI||!1,this.autoActiveFirstOption=!!n.autoActiveFirstOption,this.autoSelectActiveOption=!!n.autoSelectActiveOption,this.requireSelection=!!n.requireSelection,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}ngAfterContentInit(){this._keyManager=new qo(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(e=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[e]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe(),this._animationDone.complete()}_setScrollTop(e){this.panel&&(this.panel.nativeElement.scrollTop=e)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._changeDetectorRef.markForCheck()}_emitSelectEvent(e){let t=new Gi(this,e);this.optionSelected.emit(t)}_getPanelAriaLabelledby(e){if(this.ariaLabel)return null;let t=e?e+" ":"";return this.ariaLabelledby?t+this.ariaLabelledby:e}_skipPredicate(){return!1}static{this.\u0275fac=function(t){return new(t||i)(u(U),u(W),u(Na),u(Nt))}}static{this.\u0275cmp=E({type:i,selectors:[["mat-autocomplete"]],contentQueries:function(t,n,c){if(t&1&&(K(c,bt,5),K(c,ea,5)),t&2){let d;F(d=A())&&(n.options=d),F(d=A())&&(n.optionGroups=d)}},viewQuery:function(t,n){if(t&1&&(Oe(Ue,7),Oe(Yc,5)),t&2){let c;F(c=A())&&(n.template=c.first),F(c=A())&&(n.panel=c.first)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{ariaLabel:[w.None,"aria-label","ariaLabel"],ariaLabelledby:[w.None,"aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:[w.HasDecoratorInputTransform,"autoActiveFirstOption","autoActiveFirstOption",R],autoSelectActiveOption:[w.HasDecoratorInputTransform,"autoSelectActiveOption","autoSelectActiveOption",R],requireSelection:[w.HasDecoratorInputTransform,"requireSelection","requireSelection",R],panelWidth:"panelWidth",disableRipple:[w.HasDecoratorInputTransform,"disableRipple","disableRipple",R],classList:[w.None,"class","classList"],hideSingleSelectionIndicator:[w.HasDecoratorInputTransform,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",R]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],standalone:!0,features:[G([{provide:Zo,useExisting:i}]),se,D],ngContentSelectors:Kc,decls:1,vars:0,consts:[["panel",""],["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id"]],template:function(t,n){t&1&&(X(),h(0,Jc,3,16,"ng-template"))},styles:["div.mat-mdc-autocomplete-panel{width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:static;border-radius:var(--mat-autocomplete-container-shape);box-shadow:var(--mat-autocomplete-container-elevation-shadow);background-color:var(--mat-autocomplete-background-color)}.cdk-high-contrast-active div.mat-mdc-autocomplete-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden;pointer-events:none}mat-autocomplete{display:none}"],encapsulation:2,data:{animation:[Xc]},changeDetection:0})}}return i})();var ts={provide:Bt,useExisting:st(()=>Dn),multi:!0};var La=new ae("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{let i=C(xt);return()=>i.scrollStrategies.reposition()}});function ns(i){return()=>i.scrollStrategies.reposition()}var is={provide:La,deps:[xt],useFactory:ns},Dn=(()=>{class i{constructor(e,t,n,c,d,g,x,N,v,$,H){this._element=e,this._overlay=t,this._viewContainerRef=n,this._zone=c,this._changeDetectorRef=d,this._dir=x,this._formField=N,this._document=v,this._viewportRuler=$,this._defaults=H,this._componentDestroyed=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=Yt.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new Pe,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._aboveClass="mat-mdc-autocomplete-panel-above",this._overlayAttached=!1,this.optionSelections=co(()=>{let ie=this.autocomplete?this.autocomplete.options:null;return ie?ie.changes.pipe(Ct(ie),Kt(()=>ct(...ie.map(wi=>wi.onSelectionChange)))):this._zone.onStable.pipe(He(1),Kt(()=>this.optionSelections))}),this._handlePanelKeydown=ie=>{(ie.keyCode===27&&!Lt(ie)||ie.keyCode===38&&Lt(ie,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),ie.stopPropagation(),ie.preventDefault())},this._trackedModal=null,this._scrollStrategy=g}ngAfterViewInit(){let e=this._getWindow();typeof e<"u"&&this._zone.runOutsideAngular(()=>e.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(e){e.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){let e=this._getWindow();typeof e<"u"&&e.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._openPanelInternal()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._latestOpeningTrigger===this&&(this.autocomplete._isOpen=!1,this.autocomplete._latestOpeningTrigger=null),this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal&&Wn(this._trackedModal,"aria-owns",this.autocomplete.id))}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return ct(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(xe(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(xe(()=>this._overlayAttached)):St()).pipe(On(e=>e instanceof ta?e:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return ct(cn(this._document,"click"),cn(this._document,"auxclick"),cn(this._document,"touchend")).pipe(xe(e=>{let t=Go(e),n=this._formField?this._formField.getConnectedOverlayOrigin().nativeElement:null,c=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&t!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!n||!n.contains(t))&&(!c||!c.contains(t))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(t)}))}writeValue(e){Promise.resolve(null).then(()=>this._assignOptionValue(e))}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._element.nativeElement.disabled=e}_handleKeydown(e){let t=e.keyCode,n=Lt(e);if(t===27&&!n&&e.preventDefault(),this._valueOnLastKeydown=this._element.nativeElement.value,this.activeOption&&t===13&&this.panelOpen&&!n)this.activeOption._selectViaInteraction(),this._resetActiveItem(),e.preventDefault();else if(this.autocomplete){let c=this.autocomplete._keyManager.activeItem,d=t===38||t===40;t===9||d&&!n&&this.panelOpen?this.autocomplete._keyManager.onKeydown(e):d&&this._canOpen()&&this._openPanelInternal(this._valueOnLastKeydown),(d||this.autocomplete._keyManager.activeItem!==c)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._valueOnLastKeydown),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(e){let t=e.target,n=t.value;if(t.type==="number"&&(n=n==""?null:parseFloat(n)),this._previousValue!==n){if(this._previousValue=n,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(n),!n)this._clearPreviousSelectedOption(null,!1);else if(this.panelOpen&&!this.autocomplete.requireSelection){let c=this.autocomplete.options?.find(d=>d.selected);if(c){let d=this._getDisplayValue(c.value);n!==d&&c.deselect(!1)}}if(this._canOpen()&&this._document.activeElement===e.target){let c=this._valueOnLastKeydown??this._element.nativeElement.value;this._valueOnLastKeydown=null,this._openPanelInternal(c)}}}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(this._previousValue),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this._openPanelInternal()}_floatLabel(e=!1){this._formField&&this._formField.floatLabel==="auto"&&(e?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){let e=this._zone.onStable.pipe(He(1)),t=this.autocomplete.options.changes.pipe(mo(()=>this._positionStrategy.reapplyLastPosition()),Sn(0));return ct(e,t).pipe(Kt(()=>(this._zone.run(()=>{let n=this.panelOpen;this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),n!==this.panelOpen&&(this.panelOpen?this._emitOpened():this.autocomplete.closed.emit())}),this.panelClosingActions)),He(1)).subscribe(n=>this._setValueAndClose(n))}_emitOpened(){this.autocomplete.opened.emit()}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_getDisplayValue(e){let t=this.autocomplete;return t&&t.displayWith?t.displayWith(e):e}_assignOptionValue(e){let t=this._getDisplayValue(e);e==null&&this._clearPreviousSelectedOption(null,!1),this._updateNativeInputValue(t??"")}_updateNativeInputValue(e){this._formField?this._formField._control.value=e:this._element.nativeElement.value=e,this._previousValue=e}_setValueAndClose(e){let t=this.autocomplete,n=e?e.source:this._pendingAutoselectedOption;n?(this._clearPreviousSelectedOption(n),this._assignOptionValue(n.value),this._onChange(n.value),t._emitSelectEvent(n),this._element.nativeElement.focus()):t.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),t._animationDone?t._animationDone.pipe(He(1)).subscribe(()=>this._onChange(null)):this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(e,t){this.autocomplete?.options?.forEach(n=>{n!==e&&n.selected&&n.deselect(t)})}_openPanelInternal(e=this._element.nativeElement.value){if(this._attachOverlay(e),this._floatLabel(),this._trackedModal){let t=this.autocomplete.id;Si(this._trackedModal,"aria-owns",t)}}_attachOverlay(e){this.autocomplete;let t=this._overlayRef;t?(this._positionStrategy.setOrigin(this._getConnectedElement()),t.updateSize({width:this._getPanelWidth()})):(this._portal=new qn(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),t=this._overlay.create(this._getOverlayConfig()),this._overlayRef=t,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&t&&t.updateSize({width:this._getPanelWidth()})})),t&&!t.hasAttached()&&(t.attach(this._portal),this._valueOnAttach=e,this._valueOnLastKeydown=null,this._closingActionsSubscription=this._subscribeToClosingActions());let n=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._latestOpeningTrigger=this,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this.panelOpen&&n!==this.panelOpen&&this._emitOpened()}_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){let e=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=e.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=e.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new Yn({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){let e=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(e),this._positionStrategy=e,e}_setStrategyPositions(e){let t=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],n=this._aboveClass,c=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:n},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:n}],d;this.position==="above"?d=c:this.position==="below"?d=t:d=[...t,...c],e.withPositions(d)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){let e=this.autocomplete;if(e.autoActiveFirstOption){let t=-1;for(let n=0;n<e.options.length;n++)if(!e.options.get(n).disabled){t=n;break}e._keyManager.setActiveItem(t)}else e._keyManager.setActiveItem(-1)}_canOpen(){let e=this._element.nativeElement;return!e.readOnly&&!e.disabled&&!this.autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(e){let t=this.autocomplete,n=na(e,t.options,t.optionGroups);if(e===0&&n===1)t._setScrollTop(0);else if(t.panel){let c=t.options.toArray()[e];if(c){let d=c._getHostElement(),g=ia(d.offsetTop,d.offsetHeight,t._getScrollTop(),t.panel.nativeElement.offsetHeight);t._setScrollTop(g)}}}_applyModalPanelOwnership(){let e=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let t=this.autocomplete.id;this._trackedModal&&Wn(this._trackedModal,"aria-owns",t),Si(e,"aria-owns",t),this._trackedModal=e}_clearFromModal(){if(this._trackedModal){let e=this.autocomplete.id;Wn(this._trackedModal,"aria-owns",e),this._trackedModal=null}}static{this.\u0275fac=function(t){return new(t||i)(u(W),u(xt),u(ut),u(pe),u(U),u(La),u(jt,8),u(ua,9),u(nt,8),u(_n),u(Na,8))}}static{this.\u0275dir=V({type:i,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(t,n){t&1&&b("focusin",function(){return n._handleFocus()})("blur",function(){return n._onTouched()})("input",function(d){return n._handleInput(d)})("keydown",function(d){return n._handleKeydown(d)})("click",function(){return n._handleClick()}),t&2&&re("autocomplete",n.autocompleteAttribute)("role",n.autocompleteDisabled?null:"combobox")("aria-autocomplete",n.autocompleteDisabled?null:"list")("aria-activedescendant",n.panelOpen&&n.activeOption?n.activeOption.id:null)("aria-expanded",n.autocompleteDisabled?null:n.panelOpen.toString())("aria-controls",n.autocompleteDisabled||!n.panelOpen||n.autocomplete==null?null:n.autocomplete.id)("aria-haspopup",n.autocompleteDisabled?null:"listbox")},inputs:{autocomplete:[w.None,"matAutocomplete","autocomplete"],position:[w.None,"matAutocompletePosition","position"],connectedTo:[w.None,"matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:[w.None,"autocomplete","autocompleteAttribute"],autocompleteDisabled:[w.HasDecoratorInputTransform,"matAutocompleteDisabled","autocompleteDisabled",R]},exportAs:["matAutocompleteTrigger"],standalone:!0,features:[G([ts]),se,pt]})}}return i})(),mi=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=me({type:i})}static{this.\u0275inj=de({providers:[is],imports:[Kn,Zt,Q,ne,en,Zt,Q]})}}return i})();function as(i,l){if(i&1){let e=k();L(0),a(1,"div",10)(2,"div",11)(3,"code",12),r(4),I(5,"slice"),I(6,"slice"),o(),a(7,"button",13),b("click",function(){f(e);let n=p();return _(n.copyAddress())}),a(8,"mat-icon"),r(9),o()()(),a(10,"p",14)(11,"mat-icon",15),r(12,"check_circle"),o(),r(13," Wallet connected successfully "),o()(),j()}if(i&2){let e=p();s(4),Ee("",tt(5,3,e.walletAddress(),0,6),"\u2026",We(6,7,e.walletAddress(),-4),""),s(5),S(e.copied()?"check":"content_copy")}}function rs(i,l){i&1&&(a(0,"mat-icon"),r(1,"wallet"),o())}function cs(i,l){if(i&1){let e=k();a(0,"p",16),r(1," Connect your wallet to manage consent for attribute disclosure. "),o(),a(2,"button",17),b("click",function(){f(e);let n=p();return _(n.connectWallet())}),h(3,rs,2,0,"mat-icon",8),a(4,"span"),r(5),o()()}if(i&2){let e=p();s(2),m("disabled",e.connecting()),s(),m("ngIf",!e.connecting()),s(2),S(e.connecting()?"Connecting...":"Connect Wallet")}}function ss(i,l){if(i&1&&(a(0,"mat-option",23),r(1),I(2,"titlecase"),o()),i&2){let e=l.$implicit;m("value",e),s(),M(" ",z(2,2,e)," ")}}function ls(i,l){if(i&1&&(a(0,"div",28),r(1),o()),i&2){let e=p(3);s(),M(" ",e.selectedAttributes().length," selected ")}}function ds(i,l){i&1&&(a(0,"div",29),y(1,"mat-spinner",30),a(2,"p"),r(3,"Loading attributes..."),o()())}function ms(i,l){i&1&&(a(0,"span",36),r(1," (Already consented) "),o())}function ps(i,l){if(i&1){let e=k();a(0,"div",33)(1,"mat-checkbox",34),b("change",function(){let n=f(e).$implicit,c=p(4);return _(c.toggleAttribute(n))}),r(2),I(3,"titlecase"),o(),h(4,ms,2,0,"span",35),o()}if(i&2){let e=l.$implicit,t=p(4);s(),m("checked",t.hasActiveConsent(e)||t.selectedAttributes().includes(e))("disabled",t.hasActiveConsent(e)),s(),M(" ",z(3,4,e)," "),s(2),m("ngIf",t.hasActiveConsent(e))}}function us(i,l){if(i&1&&(a(0,"div",31),h(1,ps,5,6,"div",32),o()),i&2){let e=p(3);s(),m("ngForOf",e.attributes())}}function hs(i,l){if(i&1&&(a(0,"div",37)(1,"mat-icon",38),r(2,"inbox"),o(),a(3,"h3"),r(4,"No attributes available"),o(),a(5,"p",16),r(6," No credentials issued yet for "),a(7,"strong"),r(8),I(9,"titlecase"),o(),r(10,". Go to "),a(11,"a",39),r(12,"Credentials"),o(),r(13," to issue one. "),o()()),i&2){let e=p(3);s(8),S(z(9,1,e.selectedContext()))}}function gs(i,l){if(i&1&&(a(0,"mat-card",5)(1,"mat-card-header")(2,"mat-icon",6),r(3,"fact_check"),o(),a(4,"mat-card-title"),r(5,"Attributes to Share"),o(),h(6,ls,2,1,"div",24),o(),a(7,"mat-card-content"),h(8,ds,4,0,"div",25)(9,us,2,1,"div",26)(10,hs,14,3,"div",27),o()()),i&2){let e=p(2);s(6),m("ngIf",!e.loadingAttributes()&&e.attributes().length>0),s(2),m("ngIf",e.loadingAttributes()),s(),m("ngIf",!e.loadingAttributes()&&e.attributes().length>0),s(),m("ngIf",!e.loadingAttributes()&&e.attributes().length===0)}}function fs(i,l){i&1&&(a(0,"span",54),r(1,"Latest"),o())}function _s(i,l){if(i&1&&(a(0,"span",55),r(1),o()),i&2){let e=p().$implicit,t=p(3);O("good",t.getMatchPercentage(e)===100)("partial",t.getMatchPercentage(e)>0&&t.getMatchPercentage(e)<100)("none",t.getMatchPercentage(e)===0),s(),M(" ",t.getMatchPercentage(e),"% match ")}}function bs(i,l){if(i&1&&(a(0,"span",56),r(1),o()),i&2){let e=p().$implicit,t=p(3);s(),M(" \u2022 ",t.getRelativeTime(e.issued_at)," ")}}function xs(i,l){if(i&1&&(a(0,"span",59),r(1),o()),i&2){let e=l.$implicit;s(),M(" ",e," ")}}function vs(i,l){if(i&1&&(a(0,"div",57),r(1," Covers: "),h(2,xs,2,1,"span",58),o()),i&2){let e=p().$implicit,t=p(3);s(2),m("ngForOf",t.getMatchingAttributes(e))}}function Cs(i,l){if(i&1&&(a(0,"mat-option",23)(1,"div",47)(2,"div",48)(3,"span",49),r(4),h(5,fs,2,0,"span",50),o(),h(6,_s,2,7,"span",51),o(),a(7,"small",16),r(8),h(9,bs,2,1,"span",52),o(),h(10,vs,3,1,"div",53),o()()),i&2){let e=l.$implicit,t=p(3);m("value",e.purpose),s(4),M(" ",e.purpose," "),s(),m("ngIf",t.isLatest(e)),s(),m("ngIf",t.selectedAttributes().length>0),s(2),Ee(" Claim ID: ",e.claim_id," \u2022 Context: ",e.context," "),s(),m("ngIf",e.issued_at),s(),m("ngIf",t.selectedAttributes().length>0&&t.getMatchingAttributes(e).length>0)}}function ws(i,l){i&1&&(a(0,"mat-option",60)(1,"div",61),r(2," No previous claims match your selected attributes in this context."),y(3,"br"),r(4," You can still enter a custom purpose. "),o()())}function ys(i,l){i&1&&(a(0,"mat-hint"),r(1," Type to filter suggestions from your issued claims (newest first) "),o())}function ks(i,l){if(i&1&&(a(0,"mat-hint",62),r(1," No suggestions available for "),a(2,"strong"),r(3),I(4,"titlecase"),o(),r(5," context yet. Issue a VC in this context first. "),o()),i&2){let e=p(3);s(3),S(z(4,1,e.selectedContext()))}}function Ms(i,l){i&1&&(a(0,"mat-icon"),r(1,"task_alt"),o())}function Ps(i,l){i&1&&y(0,"mat-spinner",63)}function Os(i,l){if(i&1){let e=k();a(0,"mat-card",5)(1,"mat-card-header")(2,"mat-icon",40),r(3,"privacy_tip"),o(),a(4,"mat-card-title"),r(5,"Purpose & Explicit Consent"),o()(),a(6,"mat-card-content")(7,"mat-form-field",18)(8,"mat-label"),r(9,"Purpose of Disclosure"),o(),a(10,"input",41),te("ngModelChange",function(n){f(e);let c=p(2);return ee(c.purposeValue,n)||(c.purposeValue=n),_(n)}),o(),a(11,"mat-autocomplete",null,1),h(13,Cs,11,8,"mat-option",21)(14,ws,5,0,"mat-option",42),o(),h(15,ys,2,0,"mat-hint",8),o(),h(16,ks,6,3,"mat-hint",43),a(17,"mat-checkbox",44),b("change",function(n){f(e);let c=p(2);return _(c.explicitConsent.set(n.checked))}),a(18,"strong"),r(19," I explicitly consent"),o(),r(20," to sharing the selected attributes from my "),a(21,"strong"),r(22),I(23,"titlecase"),o(),r(24," context for the purpose: "),a(25,"strong"),r(26),o(),r(27,". "),o(),a(28,"div",45)(29,"button",17),b("click",function(){f(e);let n=p(2);return _(n.grantConsent())}),h(30,Ms,2,0,"mat-icon",8)(31,Ps,1,0,"mat-spinner",46),a(32,"span"),r(33),o()()()()()}if(i&2){let e=q(12),t=p(2);s(10),Z("ngModel",t.purposeValue),m("matAutocomplete",e),s(3),m("ngForOf",t.filteredSuggestedPurposes()),s(),m("ngIf",t.filteredSuggestedPurposes().length===0&&t.selectedAttributes().length>0),s(),m("ngIf",t.suggestedClaims.length>0),s(),m("ngIf",t.selectedContext()&&t.filteredSuggestedPurposes().length===0),s(),m("checked",t.explicitConsent()),s(5),S(z(23,13,t.selectedContext())),s(4),M('"',t.purposeValue.trim()||"not specified",'"'),s(3),m("disabled",!t.explicitConsent()||!t.purposeValue.trim()||t.loading()),s(),m("ngIf",!t.loading()),s(),m("ngIf",t.loading()),s(2),S(t.loading()?"Recording...":"Grant Consent")}}function Ss(i,l){i&1&&(a(0,"div",29),y(1,"mat-spinner",30),o())}function Is(i,l){i&1&&(a(0,"div",37)(1,"mat-icon",38),r(2,"assignment_turned_in"),o(),a(3,"h3"),r(4,"No active consents in this context"),o()())}function Es(i,l){if(i&1){let e=k();a(0,"div",68)(1,"p")(2,"strong"),r(3,"Purpose:"),o(),r(4),o(),a(5,"p")(6,"strong"),r(7,"Attribute:"),o(),a(8,"code"),r(9),o()(),a(10,"p",36),r(11),I(12,"date"),o(),a(13,"p",69),r(14),o(),a(15,"button",70),b("click",function(){let n=f(e).$implicit,c=p(4);return _(c.confirmAndRevoke(n))}),a(16,"mat-icon"),r(17,"delete_forever"),o(),r(18," Revoke "),o(),y(19,"mat-divider",71),o()}if(i&2){let e=l.$implicit,t=p(4);s(4),M(" ",e.purpose,""),s(5),S(e.claimId),s(2),M(" Granted: ",We(12,7,e.grantedAt,"medium")," "),s(2),O("warn",t.isExpired(e.expiresAt)),s(),M(" ",t.getExpiryLabel(e.expiresAt)," "),s(),m("disabled",t.loading())}}function Ds(i,l){if(i&1&&(a(0,"div",66),h(1,Es,20,10,"div",67),o()),i&2){let e=p(3);s(),m("ngForOf",e.activeConsents())}}function Ts(i,l){if(i&1){let e=k();a(0,"mat-card",5)(1,"mat-card-header")(2,"mat-icon",6),r(3,"gavel"),o(),a(4,"mat-card-title"),r(5),I(6,"titlecase"),o(),a(7,"button",64),b("click",function(){f(e);let n=p(2);return _(n.loadActiveConsents())}),a(8,"mat-icon"),r(9,"refresh"),o()()(),a(10,"mat-card-content"),h(11,Ss,2,0,"div",25)(12,Is,5,0,"div",27)(13,Ds,2,1,"div",65),o()()}if(i&2){let e=p(2);s(5),M("Active Consents for ",z(6,5,e.selectedContext()),""),s(2),m("disabled",e.loadingConsents()),s(4),m("ngIf",e.loadingConsents()),s(),m("ngIf",!e.loadingConsents()&&e.activeConsents().length===0),s(),m("ngIf",!e.loadingConsents()&&e.activeConsents().length>0)}}function Rs(i,l){if(i&1){let e=k();L(0),a(1,"mat-card",5)(2,"mat-card-header")(3,"mat-icon",6),r(4,"folder_special"),o(),a(5,"mat-card-title"),r(6,"Select Context"),o()(),a(7,"mat-card-content")(8,"mat-form-field",18)(9,"mat-label"),r(10,"Disclosure Context"),o(),a(11,"mat-select",19),b("ngModelChange",function(n){f(e);let c=p();return _(c.onContextChange(n))}),a(12,"mat-option",20),r(13,"-- Choose a context --"),o(),h(14,ss,3,4,"mat-option",21),o()()()(),h(15,gs,11,4,"mat-card",22)(16,Os,34,15,"mat-card",22)(17,Ts,14,7,"mat-card",22),j()}if(i&2){let e=p();s(11),m("ngModel",e.selectedContext())("disabled",e.loadingAttributes()||e.contexts().length===0),s(3),m("ngForOf",e.contexts()),s(),m("ngIf",e.selectedContext()),s(),m("ngIf",e.selectedAttributes().length>0),s(),m("ngIf",e.selectedContext())}}function Fs(i,l){if(i&1&&(a(0,"pre",72),r(1),I(2,"json"),o()),i&2){let e=p();s(),S(z(2,1,e.result()))}}var Ha=(()=>{class i{walletAddress=P(null);connecting=P(!1);loading=P(!1);loadingAttributes=P(!1);loadingConsents=P(!1);copied=P(!1);contexts=P([]);attributes=P([]);selectedContext=P("");suggestedClaims=P([]);purposeValue="";selectedAttributes=P([]);explicitConsent=P(!1);activeConsents=P([]);result=P(null);filteredSuggestedPurposes=Rt(()=>{let e=this.purposeValue?.toLowerCase().trim()||"",t=this.selectedContext()?.toLowerCase()||"",n=this.selectedAttributes().map(d=>d.toLowerCase()),c=[...this.suggestedClaims()];return t&&(c=c.filter(d=>(d.context||"").toLowerCase()===t)),n.length>0&&(c=c.filter(d=>{let g=(d.attributes||[]).map(x=>x.toLowerCase());return n.some(x=>g.includes(x))})),e&&(c=c.filter(d=>(d.purpose||"").toLowerCase().includes(e))),n.length>0&&c.sort((d,g)=>{let x=new Set((d.attributes||[]).map(H=>H.toLowerCase())),N=new Set((g.attributes||[]).map(H=>H.toLowerCase())),v=n.filter(H=>x.has(H)).length;return n.filter(H=>N.has(H)).length-v}),c});getMatchPercentage(e){if(!this.selectedAttributes().length)return 100;let t=new Set(this.selectedAttributes().map(d=>d.toLowerCase())),n=new Set((e.attributes||[]).map(d=>d.toLowerCase())),c=0;for(let d of t)n.has(d)&&c++;return Math.round(c/t.size*100)}getMatchingAttributes(e){if(!this.selectedAttributes().length)return e.attributes||[];let t=new Set(this.selectedAttributes().map(n=>n.toLowerCase()));return(e.attributes||[]).filter(n=>t.has(n.toLowerCase())).map(n=>n)}getRelativeTime(e){if(!e)return"recent";let t=new Date(e),c=new Date().getTime()-t.getTime(),d=Math.floor(c/(1e3*60*60*24));if(d<1){let g=Math.floor(c/36e5);return g<1?"just now":`${g}h ago`}return d<7?`${d}d ago`:d<30?`${Math.floor(d/7)}w ago`:"Older"}isLatest(e){if(!e.issued_at)return!1;let n=this.filteredSuggestedPurposes().filter(d=>d.issued_at).map(d=>new Date(d.issued_at).getTime());if(n.length===0)return!1;let c=Math.max(...n);return new Date(e.issued_at).getTime()===c}themeService=C(be);darkMode=this.themeService.darkMode;wallet=C(ce);contextService=C(Qt);api=C(Le);snackBar=C(at);cdr=C(U);ngOnInit(){this.wallet.address$.subscribe(e=>{this.walletAddress.set(e),e&&this.loadSuggestions(),e||this.resetForm()}),this.contextService.contexts$.subscribe(e=>{this.contexts.set(e.sort())})}resetForm(){this.selectedContext.set(""),this.selectedAttributes.set([]),this.purposeValue="",this.explicitConsent.set(!1),this.activeConsents.set([]),this.attributes.set([]),this.result.set(null)}connectWallet(){return T(this,null,function*(){this.connecting.set(!0);try{yield this.wallet.connect()}catch{this.snackBar.open("Failed to connect wallet","Close",{duration:5e3})}finally{this.connecting.set(!1)}})}copyAddress(){let e=this.walletAddress();e&&(navigator.clipboard.writeText(e),this.copied.set(!0),setTimeout(()=>this.copied.set(!1),2e3),this.snackBar.open("Address copied!","Close",{duration:2e3}))}onContextChange(e){if(this.selectedContext.set(e),this.selectedAttributes.set([]),this.purposeValue="",this.explicitConsent.set(!1),this.cdr.detectChanges(),this.activeConsents.set([]),this.result.set(null),!e||!this.walletAddress()){this.attributes.set([]);return}this.loadAttributesForContext(),this.loadActiveConsents()}loadAttributesForContext(){this.loadingAttributes.set(!0),this.attributes.set([]),this.api.getProfile(this.walletAddress(),this.selectedContext()).subscribe({next:e=>{this.attributes.set(Object.keys(e.attributes||{})),this.loadingAttributes.set(!1)},error:()=>{this.attributes.set([]),this.loadingAttributes.set(!1),this.snackBar.open("Failed to load attributes","Close",{duration:5e3})}})}loadActiveConsents(){this.loadingConsents.set(!0),this.activeConsents.set([]);let e=this.selectedContext();return new Promise(t=>{this.api.getActiveConsents(this.walletAddress(),e).subscribe({next:n=>{this.activeConsents.set(n.map(c=>({claimId:c.claimId,purpose:c.purpose,context:c.context,grantedAt:c.grantedAt,expiresAt:c.expiresAt??null}))),this.loadingConsents.set(!1),this.cdr.detectChanges(),t()},error:()=>{this.activeConsents.set([]),this.loadingConsents.set(!1),this.snackBar.open("Failed to load active consents","Close",{duration:5e3}),t()}})})}hasActiveConsent(e){let t=this.selectedContext();return this.activeConsents().some(n=>n.claimId===e&&n.context===t&&!this.isExpired(n.expiresAt))}toggleAttribute(e){if(this.hasActiveConsent(e))return;let t=this.selectedAttributes();t.includes(e)?this.selectedAttributes.set(t.filter(n=>n!==e)):this.selectedAttributes.set([...t,e])}grantConsent(){return T(this,null,function*(){if(!this.loading()){this.loading.set(!0);try{let e=this.walletAddress();if(!e)throw new Error("Wallet not connected");if(this.selectedAttributes().length===0){this.snackBar.open("Select at least one attribute","Close",{duration:4e3});return}if(!this.purposeValue.trim()){this.snackBar.open("Please enter a purpose","Close",{duration:4e3});return}if(!this.explicitConsent()){this.snackBar.open("You must explicitly consent","Close",{duration:4e3});return}for(let t of this.selectedAttributes()){if(this.hasActiveConsent(t))continue;let n=new Date;n.setDate(n.getDate()+30),yield this.api.grantConsent({owner:e,claimId:t,purpose:this.purposeValue.trim(),context:this.selectedContext(),expiresAt:n.toISOString()}).toPromise()}yield this.loadActiveConsents(),this.selectedAttributes.set([]),this.purposeValue="",this.explicitConsent.set(!1),this.cdr.detectChanges(),setTimeout(()=>this.cdr.detectChanges(),0),this.loadAttributesForContext(),this.snackBar.open("Consent granted successfully!","Close",{duration:5e3})}catch(e){console.error("Grant consent failed:",e),this.snackBar.open(e.error?.error||"Failed to record consent","Close",{duration:6e3})}finally{this.loading.set(!1),this.cdr.detectChanges()}}})}loadSuggestions(){if(!this.walletAddress())return;let e=`did:ethr:${this.walletAddress()}`;this.api.getSuggestableClaims(e).subscribe({next:t=>{console.log("Raw suggestable claims from backend:",t.suggestableClaims),this.suggestedClaims.set(t.suggestableClaims||[]),this.cdr.detectChanges()},error:t=>{console.error("Failed to load suggestions:",t),this.snackBar.open("Failed to load claim suggestions","Close",{duration:5e3})}})}confirmAndRevoke(e){let t=`Are you sure you want to revoke consent for attribute "${e.claimId}"?

This action cannot be undone.`;confirm(t)&&(this.loading.set(!0),this.api.revokeConsent({owner:this.walletAddress(),claimId:e.claimId,context:this.selectedContext()}).subscribe({next:()=>{this.snackBar.open(`Consent for ${e.claimId} revoked successfully`,"Close",{duration:5e3}),this.activeConsents.update(n=>n.filter(c=>c.claimId!==e.claimId))},error:n=>{console.error("Revoke failed:",n),this.snackBar.open("Failed to revoke consent","Close",{duration:5e3})},complete:()=>this.loading.set(!1)}))}isExpired(e){return e?new Date(e)<=new Date:!1}getExpiryLabel(e){if(!e)return"No expiration";if(this.isExpired(e))return"Expired";let t=new Date(e).getTime()-Date.now(),n=Math.ceil(t/(1e3*60*60*24));return`Expires in ${n} day${n!==1?"s":""}`}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=E({type:i,selectors:[["app-consent"]],standalone:!0,features:[D],decls:18,vars:6,consts:[["connectPrompt",""],["purposeAuto","matAutocomplete"],[1,"consent-container"],[1,"consent-header"],[1,"subtitle"],[1,"card","elevated"],["mat-card-avatar","",1,"header-icon"],[4,"ngIf","ngIfElse"],[4,"ngIf"],["class","debug",4,"ngIf"],[1,"connected-state"],[1,"address-row"],[1,"address"],["mat-icon-button","","matTooltip","Copy address",3,"click"],[1,"status","success"],["inline",""],[1,"muted"],["mat-raised-button","","color","primary",3,"click","disabled"],["appearance","outline",1,"full-width"],[3,"ngModelChange","ngModel","disabled"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","card elevated",4,"ngIf"],[3,"value"],["class","badge",4,"ngIf"],["class","loading-state",4,"ngIf"],["class","attributes-list",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"badge"],[1,"loading-state"],["diameter","40"],[1,"attributes-list"],["class","attribute-row",4,"ngFor","ngForOf"],[1,"attribute-row"],[3,"change","checked","disabled"],["class","small muted",4,"ngIf"],[1,"small","muted"],[1,"empty-state"],[1,"empty-icon"],["routerLink","/credentials"],["color","warn","mat-card-avatar","",1,"header-icon"],["matInput","","placeholder","e.g., Personal address verification","required","",3,"ngModelChange","ngModel","matAutocomplete"],["disabled","",4,"ngIf"],["class","subtle-context-hint",4,"ngIf"],[3,"change","checked"],[1,"actions"],["diameter","20",4,"ngIf"],[1,"purpose-option"],[1,"purpose-header"],[1,"purpose-text"],["class","recency-badge",4,"ngIf"],["class","match-badge",3,"good","partial","none",4,"ngIf"],["class","recency",4,"ngIf"],["class","matched-attributes",4,"ngIf"],[1,"recency-badge"],[1,"match-badge"],[1,"recency"],[1,"matched-attributes"],["class","attr-tag",4,"ngFor","ngForOf"],[1,"attr-tag"],["disabled",""],[1,"no-match-message"],[1,"subtle-context-hint"],["diameter","20"],["mat-icon-button","","matTooltip","Refresh consents",3,"click","disabled"],["class","consents-scroll-container",4,"ngIf"],[1,"consents-scroll-container"],["class","consent-entry",4,"ngFor","ngForOf"],[1,"consent-entry"],[1,"small"],["mat-raised-button","","color","warn",3,"click","disabled"],[1,"my-3"],[1,"debug"]],template:function(t,n){if(t&1&&(a(0,"div",2)(1,"div",3)(2,"h1"),r(3,"Consent Management"),o(),a(4,"p",4),r(5," Control exactly which personal attributes you share and with whom. Your explicit consent is required for any disclosure. "),o()(),a(6,"mat-card",5)(7,"mat-card-header")(8,"mat-icon",6),r(9,"account_balance_wallet"),o(),a(10,"mat-card-title"),r(11,"Wallet Connection"),o()(),a(12,"mat-card-content"),h(13,as,14,10,"ng-container",7)(14,cs,6,3,"ng-template",null,0,Se),o()(),h(16,Rs,18,6,"ng-container",8)(17,Fs,3,3,"pre",9),o()),t&2){let c=q(15);O("dark",n.darkMode()),s(13),m("ngIf",n.walletAddress())("ngIfElse",c),s(3),m("ngIf",n.walletAddress()),s(),m("ngIf",n.result())}},dependencies:[ne,Ft,ue,it,ot,At,pn,we,De,Ce,gn,Te,hn,Vt,_e,fe,ge,he,Re,Ut,Ve,Ae,Qe,Wt,bt,Be,Ne,ze,yn,$t,Xe,$e,rt,Ke,Je,Ye,Me,ke,ye,Fe,bn,Jn,vt,mi,di,Dn,Zt],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;min-height:100vh}.consent-container[_ngcontent-%COMP%]{padding:32px 40px 80px;max-width:960px;margin:0 auto;transition:background .4s ease}.consent-container.dark[_ngcontent-%COMP%]{background:#0f0f1a;color:#e2e8f0}.consent-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:48px}h1[_ngcontent-%COMP%]{font-size:clamp(1.3rem,4vw + 1rem,2.8rem);font-weight:800;background:linear-gradient(135deg,#6366f1,#a78bfa);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin:0 0 16px;letter-spacing:-.6px}.subtitle[_ngcontent-%COMP%]{font-size:1.15rem;color:var(--text-secondary, #94a3b8);max-width:760px;margin:0 auto;line-height:1.6}.card[_ngcontent-%COMP%]{background:var(--card-bg, white);border-radius:20px;margin-bottom:32px;border:1px solid var(--card-border, #e2e8f0);transition:all .3s cubic-bezier(.4,0,.2,1)}.consent-container.dark[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background:#1e293ba6;border-color:#2d2d44;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.elevated[_ngcontent-%COMP%]{box-shadow:0 10px 30px #00000017}.consent-container.dark[_ngcontent-%COMP%]   .elevated[_ngcontent-%COMP%]{box-shadow:0 12px 40px #00000073}.card[_ngcontent-%COMP%]:hover{transform:translateY(-6px);box-shadow:0 20px 50px #00000024}.consent-container.dark[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover{box-shadow:0 20px 60px #0000008c}mat-card-header[_ngcontent-%COMP%]{align-items:center;margin-bottom:24px}.header-icon[_ngcontent-%COMP%]{font-size:32px;width:52px;height:52px;display:flex;align-items:center;justify-content:center;background:var(--icon-bg, rgba(99, 102, 241, .12));border-radius:14px;color:#6366f1}.consent-container.dark[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{background:#6366f147;color:#a5b4fc}.badge[_ngcontent-%COMP%]{margin-left:auto;padding:6px 14px;background:var(--badge-bg, #eef2ff);color:#6366f1;border-radius:999px;font-size:.88rem;font-weight:600}.consent-container.dark[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background:#6366f133;color:#a5b4fc}.address-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:20px}.address[_ngcontent-%COMP%]{flex:1;background:var(--code-bg, #f1f5f9);padding:12px 16px;border-radius:12px;font-family:Courier New,monospace;font-size:1rem;color:#1d4ed8}.consent-container.dark[_ngcontent-%COMP%]   .address[_ngcontent-%COMP%]{background:#1e293b99;color:#c7d2fe}.status.success[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;background:var(--success-bg, #f0fdf4);border:1px solid #bbf7d0;color:var(--success-text, #166534);padding:14px;border-radius:12px;margin-bottom:16px}.consent-container.dark[_ngcontent-%COMP%]   .status.success[_ngcontent-%COMP%]{background:#22c55e2e;border-color:#22c55e73;color:#86efac}.attributes-list[_ngcontent-%COMP%]{display:grid;gap:16px;margin:20px 0}.attribute-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px;border-radius:12px;background:var(--row-bg, rgba(0, 0, 0, .02))}.consent-container.dark[_ngcontent-%COMP%]   .attribute-row[_ngcontent-%COMP%]{background:#ffffff0a}.attribute-row[_ngcontent-%COMP%]   .small.muted[_ngcontent-%COMP%]{color:var(--text-secondary);font-style:italic}.actions[_ngcontent-%COMP%]{margin-top:28px;text-align:right}.purpose-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:4px}.match-badge[_ngcontent-%COMP%]{font-size:.78rem;padding:2px 8px;border-radius:12px;font-weight:500}.match-badge.good[_ngcontent-%COMP%]{background:#e6fffa;color:#0c8599}.match-badge.partial[_ngcontent-%COMP%]{background:#fff4e6;color:#e8590c}.match-badge.none[_ngcontent-%COMP%]{background:#f8f9fa;color:#868e96}.matched-attributes[_ngcontent-%COMP%]{margin-top:6px;font-size:.82rem;color:#6c757d}.attr-tag[_ngcontent-%COMP%]{background:#6c757d1f;padding:2px 8px;border-radius:10px;margin-right:6px;font-size:.8rem}.no-match-message[_ngcontent-%COMP%]{color:#6c757d;font-style:italic;padding:8px 0}.consents-scroll-container[_ngcontent-%COMP%]{max-height:420px;overflow-y:auto;padding-right:8px;scroll-behavior:smooth}.consents-scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.consents-scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent;border-radius:10px}.consents-scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#9ca3af;border-radius:10px}.consent-container.dark[_ngcontent-%COMP%]   .consents-scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#6b7280}.consents-scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#6366f1}.consent-entry[_ngcontent-%COMP%]{padding:20px 0;border-bottom:1px solid var(--card-border, #e2e8f0)}.consent-container.dark[_ngcontent-%COMP%]   .consent-entry[_ngcontent-%COMP%]{border-bottom-color:#2d2d44}.consent-entry[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0;font-size:1rem}.consent-entry[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:var(--code-bg, #f1f5f9);padding:4px 8px;border-radius:6px}.consent-container.dark[_ngcontent-%COMP%]   .consent-entry[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:#1e293b99}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:64px 32px}.empty-icon[_ngcontent-%COMP%]{font-size:80px;width:100px;height:100px;color:var(--text-secondary);margin-bottom:24px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--text-primary);margin:0 0 16px;font-size:1.6rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:560px;margin:0 auto;font-size:1.05rem}.empty-state[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#6366f1;text-decoration:underline;font-weight:500}.consent-container.dark[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#a5b4fc}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:80px 0;color:var(--text-secondary);min-height:240px}.consent-container.dark[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{color:#cbd5e1}.muted[_ngcontent-%COMP%]{color:var(--text-secondary)}.small[_ngcontent-%COMP%]{font-size:.9rem}.consent-container.dark[_ngcontent-%COMP%]   .mat-mdc-form-field-label[_ngcontent-%COMP%], .consent-container.dark[_ngcontent-%COMP%]   .mat-mdc-form-field-hint[_ngcontent-%COMP%], .consent-container.dark[_ngcontent-%COMP%]   .mat-mdc-select-placeholder[_ngcontent-%COMP%], .consent-container.dark[_ngcontent-%COMP%]   .mat-mdc-input-element[_ngcontent-%COMP%]::placeholder{color:#94a3b8!important;opacity:1!important}.consent-container.dark[_ngcontent-%COMP%]   .mat-mdc-form-field.mat-focused[_ngcontent-%COMP%]   .mat-mdc-form-field-label[_ngcontent-%COMP%]{color:#a5b4fc!important}.consent-container.dark[_ngcontent-%COMP%]   .mat-mdc-input-element[_ngcontent-%COMP%], .consent-container.dark[_ngcontent-%COMP%]   .mat-mdc-checkbox-label[_ngcontent-%COMP%], .consent-container.dark[_ngcontent-%COMP%]   .mat-mdc-checkbox-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .consent-container.dark[_ngcontent-%COMP%]   .mat-mdc-select-arrow[_ngcontent-%COMP%], .consent-container.dark[_ngcontent-%COMP%]   .mat-mdc-select-value-text[_ngcontent-%COMP%]{color:#f1f5f9!important}.consent-container.dark[_ngcontent-%COMP%]   .mat-mdc-form-field-underline[_ngcontent-%COMP%], .consent-container.dark[_ngcontent-%COMP%]   .mat-mdc-form-field-ripple[_ngcontent-%COMP%], .consent-container.dark[_ngcontent-%COMP%]   .mat-mdc-checkbox-checked[_ngcontent-%COMP%]   .mat-mdc-checkbox-background[_ngcontent-%COMP%], .consent-container.dark[_ngcontent-%COMP%]   .mat-mdc-checkbox-indeterminate[_ngcontent-%COMP%]   .mat-mdc-checkbox-background[_ngcontent-%COMP%]{background-color:#6366f1!important}.consent-container.dark[_ngcontent-%COMP%]   .mat-mdc-form-field-disabled[_ngcontent-%COMP%]   .mat-mdc-form-field-label[_ngcontent-%COMP%], .consent-container.dark[_ngcontent-%COMP%]   .mat-mdc-form-field-disabled[_ngcontent-%COMP%]   .mat-mdc-input-element[_ngcontent-%COMP%]{color:#6b7280!important}.consent-container[_ngcontent-%COMP%]{width:100%;max-width:960px;margin:0 auto;padding:clamp(12px,4vw,32px) clamp(12px,4vw,40px) 80px}.consent-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:clamp(1.4rem,4vw,2.8rem)}.subtitle[_ngcontent-%COMP%]{font-size:clamp(.9rem,1.8vw,1.15rem);max-width:min(760px,100%)}.card[_ngcontent-%COMP%]{margin-bottom:clamp(20px,4vw,32px);border-radius:clamp(12px,2vw,20px)}.address-row[_ngcontent-%COMP%], .attribute-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:clamp(6px,1.5vw,12px)}.address[_ngcontent-%COMP%]{flex:1;min-width:0;font-size:clamp(.75rem,1.4vw,1rem);padding:clamp(8px,1.5vw,12px) clamp(8px,2vw,16px)}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .consent-entry[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:clamp(.8rem,1.5vw,1rem)}.empty-icon[_ngcontent-%COMP%]{font-size:clamp(40px,10vw,80px)}.purpose-option[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:8px 0}.purpose-text[_ngcontent-%COMP%]{font-weight:500;color:#1e293b}.consent-container.dark[_ngcontent-%COMP%]   .purpose-text[_ngcontent-%COMP%]{color:#e2e8f0}.purpose-option[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{opacity:.7;font-size:.82rem;margin-top:2px}.recency[_ngcontent-%COMP%]{color:#6366f1;font-style:italic}.consent-container.dark[_ngcontent-%COMP%]   .recency[_ngcontent-%COMP%]{color:#a5b4fc}.recency-badge[_ngcontent-%COMP%]{font-size:.8rem;background:#e0f2fe;color:#0369a1;padding:2px 6px;border-radius:999px;margin-left:8px;vertical-align:middle}.consent-container.dark[_ngcontent-%COMP%]   .recency-badge[_ngcontent-%COMP%]{background:#0e7490;color:#e0f2fe}@media (max-width: 960px){.consent-container[_ngcontent-%COMP%]{padding-bottom:60px}}@media (max-width: 480px){.card[_ngcontent-%COMP%]:hover{transform:none}.actions[_ngcontent-%COMP%]{text-align:center}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.full-width[_ngcontent-%COMP%], mat-form-field[_ngcontent-%COMP%]{width:100%!important}.consents-scroll-container[_ngcontent-%COMP%]{max-height:300px}}@media (max-width: 320px){button[_ngcontent-%COMP%], .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.8rem;padding:6px 10px}.badge[_ngcontent-%COMP%]{padding:2px 8px;font-size:.7rem}.consents-scroll-container[_ngcontent-%COMP%]{max-height:240px}}mat-option[_ngcontent-%COMP%]{line-height:1.4}mat-option[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{opacity:.7;font-size:.85em;margin-left:8px}.subtle-context-hint[_ngcontent-%COMP%]{font-size:.85rem;color:#757575;margin-top:8px;margin-bottom:16px;opacity:.8;display:block}']})}return i})();function Vs(i,l){if(i&1){let e=k();L(0),a(1,"div",10)(2,"div",11)(3,"code",12),r(4),I(5,"slice"),I(6,"slice"),o(),a(7,"button",13),b("click",function(){let n=f(e).ngIf,c=p();return _(c.copyAddress(n))}),a(8,"mat-icon"),r(9),o()()(),a(10,"div",14)(11,"mat-icon"),r(12,"check_circle"),o(),r(13," Connected successfully "),o(),a(14,"div",15)(15,"strong"),r(16,"Subject DID:"),o(),a(17,"code"),r(18),o()()(),j()}if(i&2){let e=l.ngIf,t=p();s(4),Ee("",tt(5,4,e,0,6),"\u2026",We(6,8,e,-4),""),s(5),S(t.copied()?"check_circle":"content_copy"),s(9),M("did:ethr:",e,"")}}function Bs(i,l){i&1&&(a(0,"mat-icon"),r(1,"wallet"),o())}function zs(i,l){i&1&&y(0,"mat-spinner",22)}function Ns(i,l){if(i&1){let e=k();a(0,"div",16)(1,"mat-icon",17),r(2,"wallet"),o(),a(3,"h3"),r(4,"Wallet Required"),o(),a(5,"p",18),r(6," Connect your wallet to issue or verify credentials. "),o(),a(7,"button",19),b("click",function(){f(e);let n=p();return _(n.connect())}),h(8,Bs,2,0,"mat-icon",20)(9,zs,1,0,"mat-spinner",21),r(10),o()()}if(i&2){let e=p();s(7),m("disabled",e.connecting()),s(),m("ngIf",!e.connecting()),s(),m("ngIf",e.connecting()),s(),M(" ",e.connecting()?"Connecting...":"Connect Wallet"," ")}}function Ls(i,l){if(i&1&&(a(0,"mat-option",43),r(1),I(2,"titlecase"),o()),i&2){let e=l.$implicit;m("value",e),s(),M(" ",z(2,2,e)," ")}}function js(i,l){i&1&&(a(0,"mat-error"),r(1),o()),i&2&&(s(),M(' Invalid JSON format \u2014 must be a valid object "',"{",'") '))}function Hs(i,l){i&1&&(a(0,"mat-icon"),r(1,"verified"),o())}function Ws(i,l){i&1&&y(0,"mat-spinner",22)}function Us(i,l){i&1&&(a(0,"div",44)(1,"mat-icon",45),r(2,"warning"),o(),r(3," Please fill in all required fields with valid values "),o())}function Gs(i,l){if(i&1){let e=k();a(0,"mat-tab-group",23)(1,"mat-tab",24)(2,"div",25)(3,"mat-card",26)(4,"mat-card-header")(5,"mat-icon",5),r(6,"post_add"),o(),a(7,"mat-card-title"),r(8,"Issue New Credential"),o()(),a(9,"mat-card-content")(10,"div",27)(11,"mat-form-field",28)(12,"mat-label"),r(13,"Context *"),o(),a(14,"mat-select",29),te("ngModelChange",function(n){f(e);let c=p();return ee(c.context,n)||(c.context=n),_(n)}),a(15,"mat-option",30),r(16,"-- Select context --"),o(),h(17,Ls,3,4,"mat-option",31),o(),a(18,"mat-icon",32),r(19,"arrow_drop_down"),o(),a(20,"mat-hint"),r(21,"Select the disclosure context for this credential"),o()(),a(22,"div",33)(23,"mat-form-field",34)(24,"mat-label"),r(25,"Add Custom Context"),o(),a(26,"input",35),te("ngModelChange",function(n){f(e);let c=p();return ee(c.newContext,n)||(c.newContext=n),_(n)}),b("keyup.enter",function(){f(e);let n=p();return _(n.addContext())}),o(),a(27,"mat-hint"),r(28,"Lowercase, hyphens allowed"),o()(),a(29,"button",36),b("click",function(){f(e);let n=p();return _(n.addContext())}),a(30,"mat-icon"),r(31,"add"),o(),r(32," Add "),o()()(),a(33,"mat-form-field",28)(34,"mat-label"),r(35,"Purpose *"),o(),a(36,"input",37),te("ngModelChange",function(n){f(e);let c=p();return ee(c.purpose,n)||(c.purpose=n),_(n)}),o(),a(37,"mat-hint"),r(38,"Required for consent-based disclosure"),o()(),a(39,"mat-form-field",28)(40,"mat-label"),r(41,"Claim ID *"),o(),a(42,"input",38),te("ngModelChange",function(n){f(e);let c=p();return ee(c.claimId,n)||(c.claimId=n),_(n)}),o(),a(43,"mat-hint"),r(44,"Unique identifier for this claim (dot notation recommended)"),o()(),a(45,"mat-form-field",28)(46,"mat-label"),r(47,"Claim Data (JSON) *"),o(),a(48,"textarea",39),te("ngModelChange",function(n){f(e);let c=p();return ee(c.claim,n)||(c.claim=n),_(n)}),o(),a(49,"mat-hint"),r(50,"Valid JSON object containing the claim data"),o(),h(51,js,2,1,"mat-error",20),o(),a(52,"div",40)(53,"button",41),b("click",function(){f(e);let n=p();return _(n.issueVC())}),h(54,Hs,2,0,"mat-icon",20)(55,Ws,1,0,"mat-spinner",21),a(56,"span"),r(57),o()()(),h(58,Us,4,0,"div",42),o()()()()()}if(i&2){let e=p();s(14),Z("ngModel",e.context),m("disabled",e.issuing()),s(3),m("ngForOf",e.contexts),s(9),Z("ngModel",e.newContext),s(3),m("disabled",!e.newContext.trim()||e.issuing()),s(7),Z("ngModel",e.purpose),s(6),Z("ngModel",e.claimId),s(3),O("mat-form-field-invalid",e.claim&&!e.isValidJson()),s(3),Z("ngModel",e.claim),s(3),m("ngIf",e.claim&&!e.isValidJson()),s(2),m("disabled",!e.isIssueValid()||e.issuing()),s(),m("ngIf",!e.issuing()),s(),m("ngIf",e.issuing()),s(2),S(e.issuing()?"Signing & Issuing...":"Issue Credential"),s(),m("ngIf",!e.isIssueValid()&&(e.context||e.purpose||e.claimId||e.claim))}}function qs(i,l){if(i&1&&(a(0,"mat-card",46)(1,"mat-card-header")(2,"mat-icon",47),r(3),o(),a(4,"mat-card-title"),r(5,"Result"),o()(),a(6,"mat-card-content")(7,"pre",48),r(8),I(9,"json"),o()()()),i&2){let e=p();s(2),m("color",e.isSuccessResult()?"primary":"warn"),s(),M(" ",e.isSuccessResult()?"task_alt":"error"," "),s(5),S(z(9,3,e.result))}}function Qs(i,l){i&1&&(a(0,"mat-card",49)(1,"mat-icon",50),r(2,"wallet"),o(),a(3,"h3"),r(4,"Wallet Required"),o(),a(5,"p",18),r(6," Connect your wallet above to issue or verify credentials. "),o()())}var Wa=(()=>{class i{wallet=C(ce);api=C(Le);contextService=C(Qt);snackBar=C(at);themeService=C(be);darkMode=this.themeService.darkMode;copied=P(!1);connecting=P(!1);contexts=[];context="";newContext="";expiresAt;claimId="";claim="";purpose="";issuing=P(!1);result=null;ngOnInit(){this.contextService.contexts$.subscribe(e=>{this.contexts=e.sort()})}connect(){return T(this,null,function*(){this.connecting.set(!0);try{yield this.wallet.connect()}catch(e){this.snackBar.open(e.message||"Wallet connection failed","Close",{duration:5e3})}finally{this.connecting.set(!1)}})}copyAddress(e){navigator.clipboard.writeText(e),this.copied.set(!0),setTimeout(()=>this.copied.set(!1),2e3)}addContext(){let e=this.newContext.trim().toLowerCase();if(e){if(!/^[a-z0-9-]+$/.test(e)){this.snackBar.open("Context must contain only lowercase letters, numbers, and hyphens.","Close",{duration:5e3});return}if(this.contexts.includes(e)){this.snackBar.open("Context already exists","Close",{duration:3e3});return}this.contextService.addContext(e),this.context=e,this.newContext="",this.snackBar.open(`Custom context "${e}" added`,"Close",{duration:5e3})}}isValidJson(){if(!this.claim?.trim())return!1;try{let e=JSON.parse(this.claim);if(typeof e!="object"||e===null||Array.isArray(e))return!1;let t=Object.keys(e);return!(t.length===0||!t.some(d=>d.trim()!=="")||!t.some(d=>{let g=e[d];return!(g==null||typeof g=="string"&&g.trim()===""||Array.isArray(g)&&g.length===0||typeof g=="object"&&g!==null&&Object.keys(g).length===0)}))}catch{return!1}}isIssueValid(){return!this.context?.trim()||!this.purpose?.trim()||!this.claimId?.trim()?!1:this.isValidJson()}issueVC(){return T(this,null,function*(){if(!this.isIssueValid()){this.claim?.trim()&&!this.isValidJson()?this.snackBar.open("Claim JSON must contain at least one meaningful key-value pair (empty keys/values not allowed)","Close",{duration:7e3}):this.snackBar.open("Please fill in Context, Purpose, Claim ID, and valid non-empty JSON claim data","Close",{duration:6e3});return}let e=this.wallet.address;if(!e){this.snackBar.open("Wallet not connected","Close",{duration:4e3});return}this.issuing.set(!0),this.result=null;try{let t;try{t=JSON.parse(this.claim)}catch{throw new Error("Invalid JSON in claim field")}let n={issuer:`did:ethr:${e}`,subject:`did:ethr:${e}`,claimId:this.claimId,claim:t,context:this.context,consent:{purpose:this.purpose.trim(),expiresAt:this.expiresAt||void 0}},c=yield It(this.api.issueVC(n));if(!c.unsignedTx&&c.txHash){this.snackBar.open("Success! Credential anchored on-chain (2 txs confirmed)","Close",{duration:9e3,panelClass:["success-snackbar"]}),this.result=c;return}if(!c.unsignedTx)throw new Error("Unexpected server response - missing unsignedTx in hybrid mode");this.snackBar.open("Please sign the credential issuance transaction in your wallet...","Close",{duration:15e3});let d;try{let{hash:x}=yield this.wallet.signAndSendTransaction(c.unsignedTx);d=x}catch(x){console.error("Main tx signing failed:",x);let N=x.code===4001?"Transaction was rejected by user":x.shortMessage||x.message||"Failed to sign/send transaction";this.snackBar.open(N,"Close",{duration:8e3,panelClass:["error-snackbar"]});return}this.snackBar.open("Waiting for on-chain confirmation...","Close",{duration:12e3});try{let x=yield this.wallet.provider.waitForTransaction(d,1,9e4);if(!x)throw new Error("No receipt received after waiting");console.log(`Main tx confirmed in block ${x.blockNumber}`)}catch(x){console.warn("Confirmation wait failed (timeout or dropped?):",x)}let g;if(c.profileUnsignedTx){this.snackBar.open("Please sign the profile update transaction...","Close",{duration:12e3});try{let{hash:x}=yield this.wallet.signAndSendTransaction(c.profileUnsignedTx);g=x,this.snackBar.open(`Profile updated successfully! Tx: ${g.slice(0,10)}...`,"Close",{duration:6e3,panelClass:["success-snackbar"]})}catch(x){console.warn("Profile tx failed/rejected:",x);let N=x.code===4001?"Profile update was rejected (skipped)":"Profile update failed \u2014 credential still issued";this.snackBar.open(N,"Close",{duration:7e3,panelClass:["warn-snackbar"]})}}this.snackBar.open(`Credential successfully issued & anchored! Tx: ${d.slice(0,10)}...`,"Close",{duration:7e3,panelClass:["success-snackbar"]}),this.resetFormAfterSuccess(),this.context&&!this.contextService.contexts.includes(this.context)&&(this.contextService.addContext(this.context),this.snackBar.open(`New context "${this.context}" added to your list`,"Close",{duration:5e3,panelClass:["info-snackbar"]})),this.result=Rn(rn({},c),{txHash:d,profileTxHash:g})}catch(t){console.error("Issue VC failed:",t);let n="Failed to issue credential";t.code===4001?n="Transaction was rejected by user":t.code===-32603?n="Internal JSON-RPC error \u2014 check gas/network":t.message?.includes("nonce")?n="Nonce error \u2014 try again or reset MetaMask account":t.message?.includes("insufficient funds")&&(n="Insufficient funds for gas"),this.snackBar.open(n,"Close",{duration:9e3,panelClass:["error-snackbar"]}),this.result={error:t.shortMessage||t.message||"Unknown error"}}finally{this.issuing.set(!1)}})}resetFormAfterSuccess(){this.claimId="",this.claim="",this.purpose="",this.context=""}isSuccessResult(){return!!(this.result&&(this.result.message?.toLowerCase().includes("issued")||this.result.txHash))}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=E({type:i,selectors:[["app-credentials"]],standalone:!0,features:[D],decls:22,vars:13,consts:[["connectPrompt",""],[1,"credentials-page"],[1,"page-header"],[1,"subtitle"],["appearance","outlined",1,"wallet-card","glass-card"],["mat-card-avatar","",1,"header-icon"],[4,"ngIf","ngIfElse"],["class","tabs glass-tabs","animationDuration","300ms",4,"ngIf"],["class","card glass-card result-card","appearance","outlined",4,"ngIf"],["class","card glass-card empty-state",4,"ngIf"],[1,"connected-state"],[1,"address-row"],[1,"address"],["mat-icon-button","","matTooltip","Copy address",3,"click"],[1,"status-pill","success"],[1,"did-display"],[1,"connect-prompt"],[1,"prompt-icon"],[1,"muted"],["mat-raised-button","","color","primary",3,"click","disabled"],[4,"ngIf"],["diameter","20",4,"ngIf"],["diameter","20"],["animationDuration","300ms",1,"tabs","glass-tabs"],["label","Issue Credential"],[1,"tab-content"],["appearance","outlined",1,"card","glass-card","elevated"],[1,"context-section"],["appearance","outline",1,"full-width"],[3,"ngModelChange","ngModel","disabled"],["value",""],[3,"value",4,"ngFor","ngForOf"],["matSuffix",""],[1,"add-context-row"],["appearance","outline",1,"new-context-field"],["matInput","","placeholder","e.g. health, education",3,"ngModelChange","keyup.enter","ngModel"],["mat-stroked-button","",3,"click","disabled"],["matInput","","placeholder","e.g. account verification, onboarding","required","",3,"ngModelChange","ngModel"],["matInput","","placeholder","e.g. identity.email, profile.name, health.bloodtype","required","",3,"ngModelChange","ngModel"],["matInput","","rows","6","placeholder",'{"name": "Alice Smith", "email": "alice@example.com"}',"required","",3,"ngModelChange","ngModel"],[1,"issue-actions"],["mat-raised-button","","color","primary",1,"issue-btn",3,"click","disabled"],["class","validation-hint",4,"ngIf"],[3,"value"],[1,"validation-hint"],["inline","","color","warn"],["appearance","outlined",1,"card","glass-card","result-card"],["mat-card-avatar","",1,"header-icon",3,"color"],[1,"result-pre"],[1,"card","glass-card","empty-state"],[1,"empty-icon"]],template:function(t,n){if(t&1&&(a(0,"div",1)(1,"div",2)(2,"h1"),r(3,"Credentials"),o(),a(4,"p",3),r(5," Issue and verify context-aware verifiable credentials. Each credential is bound to a specific disclosure context. "),o()(),a(6,"mat-card",4)(7,"mat-card-header")(8,"mat-icon",5),r(9,"shield"),o(),a(10,"mat-card-title"),r(11,"Your Identity"),o()(),a(12,"mat-card-content"),h(13,Vs,19,11,"ng-container",6),I(14,"async"),h(15,Ns,11,4,"ng-template",null,0,Se),o()(),h(17,Gs,59,16,"mat-tab-group",7),I(18,"async"),h(19,qs,10,5,"mat-card",8)(20,Qs,7,0,"mat-card",9),I(21,"async"),o()),t&2){let c=q(16);O("dark",n.darkMode()),s(13),m("ngIf",z(14,7,n.wallet.address$))("ngIfElse",c),s(4),m("ngIf",z(18,9,n.wallet.address$)),s(2),m("ngIf",n.result),s(),m("ngIf",!z(21,11,n.wallet.address$))}},dependencies:[ne,Ft,ue,mn,it,ot,At,we,De,Ce,gn,Te,_e,fe,ge,he,Re,Ut,Ve,Ae,Qe,Xn,xn,Wt,bt,Be,Ne,ze,Me,ke,ye,Fe,ti,Zn,ei,Xe,$e,rt,Ke,Je,Ye,vt],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;min-height:100vh}.credentials-page[_ngcontent-%COMP%]{padding:clamp(32px,5vw,64px) clamp(24px,6vw,80px);max-width:1000px;margin:0 auto;transition:background .6s ease}.credentials-page.dark[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#0b0e17,#000);color:#e2e8f0}.page-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:clamp(40px,7vw,80px)}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:clamp(2.5rem,6vw,4.2rem);font-weight:800;background:linear-gradient(135deg,#6366f1,#a78bfa);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin:0 0 12px;letter-spacing:-1px}.subtitle[_ngcontent-%COMP%]{font-size:clamp(1rem,2.5vw,1.25rem);color:#94a3b8;max-width:760px;margin:0 auto;line-height:1.6}.glass-card[_ngcontent-%COMP%]{background:#ffffffd1;-webkit-backdrop-filter:blur(24px) saturate(180%);backdrop-filter:blur(24px) saturate(180%);border:1px solid rgba(255,255,255,.25);border-radius:28px;box-shadow:0 20px 60px #0000002e;overflow:hidden;transition:all .4s ease}.credentials-page.dark[_ngcontent-%COMP%]   .glass-card[_ngcontent-%COMP%]{background:#141923b8;border-color:#64748b59;box-shadow:0 25px 70px #0000008c}.wallet-card[_ngcontent-%COMP%]{margin-bottom:40px}.header-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6366f1,#a78bfa);color:#fff;border-radius:16px}.connected-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;padding:20px 0}.address-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:16px 20px;background:#e2e8f073;border-radius:16px}.credentials-page.dark[_ngcontent-%COMP%]   .address-row[_ngcontent-%COMP%]{background:#1e293b99}.address[_ngcontent-%COMP%]{flex:1;font-family:JetBrains Mono,monospace;color:#1d4ed8;font-size:1.05rem}.credentials-page.dark[_ngcontent-%COMP%]   .address[_ngcontent-%COMP%]{color:#c7d2fe}.status-pill[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:10px;padding:12px 20px;border-radius:999px;font-size:1rem;font-weight:500}.status-pill.success[_ngcontent-%COMP%]{background:#22c55e2e;color:#166534}.credentials-page.dark[_ngcontent-%COMP%]   .status-pill.success[_ngcontent-%COMP%]{background:#22c55e47;color:#86efac}.did-display[_ngcontent-%COMP%]{font-size:.98rem;color:#64748b}.credentials-page.dark[_ngcontent-%COMP%]   .did-display[_ngcontent-%COMP%]{color:#94a3b8}.connect-prompt[_ngcontent-%COMP%]{text-align:center;padding:64px 32px;color:#94a3b8}.prompt-icon[_ngcontent-%COMP%]{font-size:80px;height:80px;width:80px;margin-bottom:24px;opacity:.7}.context-section[_ngcontent-%COMP%]{margin-bottom:32px}.add-context-row[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:flex-end;margin-top:16px;flex-wrap:wrap}.new-context-field[_ngcontent-%COMP%]{flex:1;min-width:240px}.full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:24px}.mat-form-field-invalid[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{border-color:#f44336!important}mat-error[_ngcontent-%COMP%]{font-size:.9rem;margin-top:4px}.issue-actions[_ngcontent-%COMP%]{text-align:center;margin-top:32px}.issue-btn[_ngcontent-%COMP%]{padding:14px 48px;font-size:1.1rem;font-weight:600;background:linear-gradient(135deg,#6366f1,#a78bfa);transition:all .3s ease;box-shadow:0 8px 24px #6366f159}.issue-btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 16px 40px #6366f173}.issue-btn[_ngcontent-%COMP%]:disabled{opacity:.6;transform:none;box-shadow:none}.result-card[_ngcontent-%COMP%]   pre.result-pre[_ngcontent-%COMP%]{background:#1e293be6;color:#c9d1d9;padding:24px;border-radius:16px;overflow-x:auto;font-size:.95rem;line-height:1.6;margin:0;font-family:JetBrains Mono,monospace}.credentials-page[_ngcontent-%COMP%]:not(.dark)   .result-card[_ngcontent-%COMP%]   pre.result-pre[_ngcontent-%COMP%]{background:#1e1e1e;color:#9cdcfe}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:80px 32px}.empty-icon[_ngcontent-%COMP%]{font-size:96px;height:96px;width:96px;color:#94a3b8;margin-bottom:32px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#1e293b;margin:0 0 16px;font-size:2rem}.credentials-page.dark[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#f1f5f9}.validation-hint[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#f59e0b;font-size:.95rem;margin-top:16px}.credentials-page.dark[_ngcontent-%COMP%]   .validation-hint[_ngcontent-%COMP%]{color:#fcd34d}.credentials-page.dark[_ngcontent-%COMP%]   .mat-mdc-form-field-label[_ngcontent-%COMP%], .credentials-page.dark[_ngcontent-%COMP%]   .mat-mdc-form-field-hint[_ngcontent-%COMP%], .credentials-page.dark[_ngcontent-%COMP%]   .mat-mdc-select-placeholder[_ngcontent-%COMP%], .credentials-page.dark[_ngcontent-%COMP%]   .mat-mdc-input-element[_ngcontent-%COMP%]::placeholder{color:#94a3b8!important;opacity:1!important}.credentials-page.dark[_ngcontent-%COMP%]   .mat-mdc-form-field.mat-focused[_ngcontent-%COMP%]   .mat-mdc-form-field-label[_ngcontent-%COMP%]{color:#a5b4fc!important}.credentials-page.dark[_ngcontent-%COMP%]   .mat-mdc-input-element[_ngcontent-%COMP%], .credentials-page.dark[_ngcontent-%COMP%]   textarea.mat-mdc-input-element[_ngcontent-%COMP%], .credentials-page.dark[_ngcontent-%COMP%]   .mat-mdc-select-arrow[_ngcontent-%COMP%], .credentials-page.dark[_ngcontent-%COMP%]   .mat-mdc-select-value-text[_ngcontent-%COMP%]{color:#f1f5f9!important}.credentials-page.dark[_ngcontent-%COMP%]   .mat-mdc-form-field-underline[_ngcontent-%COMP%], .credentials-page.dark[_ngcontent-%COMP%]   .mat-mdc-form-field-ripple[_ngcontent-%COMP%]{background-color:#6366f1!important}.credentials-page.dark[_ngcontent-%COMP%]   .mat-mdc-form-field-disabled[_ngcontent-%COMP%]   .mat-mdc-form-field-label[_ngcontent-%COMP%], .credentials-page.dark[_ngcontent-%COMP%]   .mat-mdc-form-field-disabled[_ngcontent-%COMP%]   .mat-mdc-input-element[_ngcontent-%COMP%]{color:#6b7280!important}.credentials-page.dark[_ngcontent-%COMP%]   .mat-mdc-form-field-invalid[_ngcontent-%COMP%]   .mat-mdc-form-field-label[_ngcontent-%COMP%], .credentials-page.dark[_ngcontent-%COMP%]   .mat-mdc-form-field-invalid[_ngcontent-%COMP%]   .mat-mdc-form-field-hint[_ngcontent-%COMP%]{color:#fca5a5!important}@media (max-width: 960px){.credentials-page[_ngcontent-%COMP%]{padding:32px 32px 80px}h1[_ngcontent-%COMP%]{font-size:2.2rem}.subtitle[_ngcontent-%COMP%]{font-size:1.05rem}}@media (max-width: 480px){.card[_ngcontent-%COMP%]:hover{transform:none;box-shadow:none}.credentials-page[_ngcontent-%COMP%]{padding:20px 18px 56px}h1[_ngcontent-%COMP%]{font-size:1.8rem;line-height:1.2}.subtitle[_ngcontent-%COMP%]{font-size:1rem;max-width:100%}.header-icon[_ngcontent-%COMP%]{width:46px;height:46px;font-size:28px}.address-row[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.address[_ngcontent-%COMP%]{font-size:.9rem}.add-context-row[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:12px}.issue-btn[_ngcontent-%COMP%]{width:100%;text-align:center;padding:12px 24px;font-size:1rem}.result-card[_ngcontent-%COMP%]   pre.result-pre[_ngcontent-%COMP%]{font-size:.85rem;padding:16px}.empty-state[_ngcontent-%COMP%]{padding:56px 20px}.empty-icon[_ngcontent-%COMP%]{font-size:72px;width:90px;height:90px}}@media (max-width: 320px){h1[_ngcontent-%COMP%]{font-size:1.5rem}.subtitle[_ngcontent-%COMP%]{font-size:.9rem}.header-icon[_ngcontent-%COMP%]{width:40px;height:40px;font-size:24px}button[_ngcontent-%COMP%], .issue-btn[_ngcontent-%COMP%]{font-size:.85rem;padding:8px 14px}.address[_ngcontent-%COMP%]{padding:10px 12px;font-size:.82rem}.status.success[_ngcontent-%COMP%]{padding:10px;font-size:.9rem}.result-card[_ngcontent-%COMP%]   pre.result-pre[_ngcontent-%COMP%]{font-size:.75rem;padding:12px}.empty-icon[_ngcontent-%COMP%]{font-size:60px;width:72px;height:72px}}']})}return i})();function Ys(i,l){if(i&1){let e=k();L(0),a(1,"div",10)(2,"div",11)(3,"strong"),r(4,"Your DID:"),o(),a(5,"code"),r(6),o(),a(7,"button",12),b("click",function(){f(e);let n=p();return _(n.copyDid())}),a(8,"mat-icon"),r(9),o()()(),a(10,"p",13)(11,"mat-icon",14),r(12,"verified_user"),o(),r(13," Wallet connected \u2014 ready for erasure request "),o()(),j()}if(i&2){let e=p();s(6),M("did:ethr:",e.wallet.address,""),s(3),S(e.copied?"check":"content_copy")}}function Ks(i,l){i&1&&(a(0,"mat-icon"),r(1,"wallet"),o())}function Js(i,l){if(i&1){let e=k();a(0,"p",15),r(1," Connect your wallet to initiate a GDPR erasure request. "),o(),a(2,"button",16),b("click",function(){f(e);let n=p();return _(n.connect())}),h(3,Ks,2,0,"mat-icon",17),a(4,"span"),r(5),o()()}if(i&2){let e=p();s(2),m("disabled",e.connecting),s(),m("ngIf",!e.connecting),s(2),S(e.connecting?"Connecting...":"Connect Wallet")}}function Xs(i,l){i&1&&(a(0,"mat-icon"),r(1,"delete_forever"),o())}function Zs(i,l){i&1&&y(0,"mat-spinner",26)}function el(i,l){if(i&1){let e=k();a(0,"mat-card",18)(1,"mat-card-header")(2,"mat-icon",19),r(3,"warning_amber"),o(),a(4,"mat-card-title"),r(5,"Irreversible Erasure Request"),o()(),a(6,"mat-card-content")(7,"div",20)(8,"mat-icon",21),r(9,"error_outline"),o(),a(10,"div")(11,"strong"),r(12,"This action cannot be undone."),o(),y(13,"br"),r(14," Your entire identity profile, credentials, and disclosure history will be permanently replaced with a cryptographically verifiable "),a(15,"em"),r(16,"erasure tombstone"),o(),r(17," on-chain. "),y(18,"br")(19,"br"),r(20," After erasure: "),a(21,"ul")(22,"li"),r(23,"No verifier will be able to access your data"),o(),a(24,"li"),r(25,'Your DID will remain, but point to an "erased" state'),o(),a(26,"li"),r(27,"Compliance with GDPR Art. 17 is proven on-chain"),o()()()(),a(28,"mat-checkbox",22),te("ngModelChange",function(n){f(e);let c=p();return ee(c.confirmed,n)||(c.confirmed=n),_(n)}),a(29,"strong"),r(30,"I fully understand the consequences"),o(),r(31," and request permanent erasure of my decentralized identity profile. "),o(),a(32,"div",23)(33,"button",24),b("click",function(){f(e);let n=p();return _(n.erase())}),h(34,Xs,2,0,"mat-icon",17)(35,Zs,1,0,"mat-spinner",25),a(36,"span"),r(37),o()()()()()}if(i&2){let e=p();s(28),Z("ngModel",e.confirmed),s(5),m("disabled",!e.confirmed||e.loading),s(),m("ngIf",!e.loading),s(),m("ngIf",e.loading),s(2),S(e.loading?"Processing Erasure...":"Erase My Profile")}}function tl(i,l){if(i&1&&(a(0,"mat-card",27)(1,"mat-card-header")(2,"mat-icon",28),r(3,"task_alt"),o(),a(4,"mat-card-title"),r(5,"Erasure Completed Successfully"),o()(),a(6,"mat-card-content")(7,"p"),r(8," Your identity profile has been permanently erased and replaced with a GDPR-compliant tombstone. "),o(),a(9,"p",29),r(10," Transaction details: "),o(),a(11,"pre",30),r(12),I(13,"json"),o()()()),i&2){let e=p();s(12),S(z(13,1,e.result))}}function nl(i,l){if(i&1&&(a(0,"mat-card",31)(1,"mat-card-header")(2,"mat-icon",19),r(3,"error"),o(),a(4,"mat-card-title"),r(5,"Erasure Failed"),o()(),a(6,"mat-card-content")(7,"p"),r(8),o(),a(9,"p",29),r(10,"Please try again or contact support if the issue persists."),o()()()),i&2){let e=p();s(8),S(e.error)}}var Ga=(()=>{class i{wallet;api;confirmed=!1;connecting=!1;loading=!1;copied=!1;result=null;error=null;themeService=C(be);darkMode=this.themeService.darkMode;constructor(e,t){this.wallet=e,this.api=t}connect(){return T(this,null,function*(){this.connecting=!0;try{yield this.wallet.connect()}catch(e){alert(e.message||"Wallet connection failed")}finally{this.connecting=!1}})}copyDid(){if(!this.wallet.address)return;let e=`did:ethr:${this.wallet.address}`;navigator.clipboard.writeText(e),this.copied=!0,setTimeout(()=>this.copied=!1,2e3)}erase(){if(!this.wallet.address||!this.confirmed)return;this.loading=!0,this.result=null,this.error=null;let e={did:`did:ethr:${this.wallet.address}`};this.api.eraseProfile(e).subscribe({next:t=>{this.result=t,this.loading=!1,this.confirmed=!1,sessionStorage.setItem("erasedDid",`did:ethr:${this.wallet.address}`),sessionStorage.setItem("erasedAt",new Date().toISOString()),this.wallet.disconnect()},error:t=>{this.error=t?.error?.message||t?.message||"Erasure request failed",this.loading=!1}})}static \u0275fac=function(t){return new(t||i)(u(ce),u(Le))};static \u0275cmp=E({type:i,selectors:[["app-gdpr"]],standalone:!0,features:[D],decls:24,vars:7,consts:[["connectPrompt",""],[1,"gdpr-container"],[1,"gdpr-header"],[1,"subtitle"],["appearance","outlined",1,"card","elevated"],["mat-card-avatar","",1,"header-icon"],[4,"ngIf","ngIfElse"],["class","card elevated warning-card","appearance","outlined",4,"ngIf"],["class","card elevated success-card","appearance","outlined",4,"ngIf"],["class","card elevated error-card","appearance","outlined",4,"ngIf"],[1,"connected-state"],[1,"did-display"],["mat-icon-button","","matTooltip","Copy DID",3,"click"],[1,"status","success"],["inline",""],[1,"muted"],["mat-raised-button","","color","primary",3,"click","disabled"],[4,"ngIf"],["appearance","outlined",1,"card","elevated","warning-card"],["color","warn","mat-card-avatar","",1,"header-icon"],[1,"warning-box"],["inline","","color","warn"],["color","warn",1,"confirmation-checkbox",3,"ngModelChange","ngModel"],[1,"actions"],["mat-raised-button","","color","warn",1,"erase-btn",3,"click","disabled"],["diameter","20",4,"ngIf"],["diameter","20"],["appearance","outlined",1,"card","elevated","success-card"],["color","primary","mat-card-avatar","",1,"header-icon"],[1,"small","muted"],[1,"result-pre"],["appearance","outlined",1,"card","elevated","error-card"]],template:function(t,n){if(t&1&&(a(0,"div",1)(1,"div",2)(2,"h1"),r(3,"GDPR \u2013 Right to Erasure"),o(),a(4,"p",3),r(5," Exercise your "),a(6,"strong"),r(7,"Right to be Forgotten"),o(),r(8," (GDPR Article 17)."),y(9,"br"),r(10," Permanently erase your decentralized identity profile and all associated credentials. "),o()(),a(11,"mat-card",4)(12,"mat-card-header")(13,"mat-icon",5),r(14,"account_balance_wallet"),o(),a(15,"mat-card-title"),r(16,"Identity Verification"),o()(),a(17,"mat-card-content"),h(18,Ys,14,2,"ng-container",6)(19,Js,6,3,"ng-template",null,0,Se),o()(),h(21,el,38,5,"mat-card",7)(22,tl,14,3,"mat-card",8)(23,nl,11,1,"mat-card",9),o()),t&2){let c=q(20);O("dark",n.darkMode()),s(18),m("ngIf",n.wallet.address)("ngIfElse",c),s(3),m("ngIf",n.wallet.address),s(),m("ngIf",n.result),s(),m("ngIf",n.error)}},dependencies:[ne,ue,it,we,Ce,Te,_e,fe,ge,he,Re,yn,$t,Xe,$e,rt,Ke,Je,Ye,Me,ke,ye,Fe],styles:["[_nghost-%COMP%]{display:block;min-height:100vh}.gdpr-container[_ngcontent-%COMP%]{padding:32px 40px 80px;max-width:960px;margin:0 auto;transition:background .4s ease}.gdpr-container.dark[_ngcontent-%COMP%]{background:#0f0f1a;color:#e2e8f0}.gdpr-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:48px}h1[_ngcontent-%COMP%]{font-size:clamp(1.3rem,4vw + 1rem,2.8rem);font-weight:800;background:linear-gradient(135deg,#6366f1,#a78bfa);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin:0 0 16px;letter-spacing:-.6px}.subtitle[_ngcontent-%COMP%]{font-size:1.15rem;color:var(--text-secondary, #94a3b8);max-width:760px;margin:0 auto;line-height:1.6}.card[_ngcontent-%COMP%]{background:var(--card-bg, white);border-radius:20px;margin-bottom:32px;border:1px solid var(--card-border, #e2e8f0);transition:all .3s cubic-bezier(.4,0,.2,1)}.gdpr-container.dark[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background:#1e293ba6;border-color:#2d2d44;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.elevated[_ngcontent-%COMP%]{box-shadow:0 10px 30px #00000017}.gdpr-container.dark[_ngcontent-%COMP%]   .elevated[_ngcontent-%COMP%]{box-shadow:0 12px 40px #00000073}.card[_ngcontent-%COMP%]:hover{transform:translateY(-6px);box-shadow:0 20px 50px #00000024}.gdpr-container.dark[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover{box-shadow:0 20px 60px #0000008c}mat-card-header[_ngcontent-%COMP%]{align-items:center;margin-bottom:24px}.header-icon[_ngcontent-%COMP%]{font-size:32px;width:52px;height:52px;display:flex;align-items:center;justify-content:center;background:var(--icon-bg, rgba(99, 102, 241, .12));border-radius:14px;color:#6366f1}.gdpr-container.dark[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{background:#6366f147;color:#a5b4fc}.did-display[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin:16px 0;padding:14px 18px;background:var(--code-bg, #f1f5f9);border-radius:14px;font-size:1rem}.gdpr-container.dark[_ngcontent-%COMP%]   .did-display[_ngcontent-%COMP%]{background:#1e293b99}.did-display[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{flex:1;color:#1d4ed8;font-family:Courier New,monospace}.gdpr-container.dark[_ngcontent-%COMP%]   .did-display[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{color:#c7d2fe}.status.success[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;background:var(--success-bg, #f0fdf4);border:1px solid #bbf7d0;color:var(--success-text, #166534);padding:14px;border-radius:12px;margin:16px 0}.gdpr-container.dark[_ngcontent-%COMP%]   .status.success[_ngcontent-%COMP%]{background:#22c55e2e;border-color:#22c55e73;color:#86efac}.warning-card[_ngcontent-%COMP%]{border-left:5px solid #f59e0b}.gdpr-container.dark[_ngcontent-%COMP%]   .warning-card[_ngcontent-%COMP%]{border-left-color:#fbbf24}.warning-box[_ngcontent-%COMP%]{display:flex;gap:16px;background:var(--warning-bg, #fffbeb);border:1px solid #fed7aa;padding:20px;border-radius:14px;margin-bottom:28px;font-size:1rem;color:var(--warning-text, #9a3412)}.gdpr-container.dark[_ngcontent-%COMP%]   .warning-box[_ngcontent-%COMP%]{background:#f59e0b26;border-color:#f59e0b73;color:#fcd34d}.warning-box[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:12px 0 0 24px;padding-left:0}.warning-box[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px}.confirmation-checkbox[_ngcontent-%COMP%]{display:block;margin:28px 0;padding:16px;background:var(--warning-bg, #fffbeb);border-radius:14px;border:1px solid #fed7aa;font-size:1.05rem}.gdpr-container.dark[_ngcontent-%COMP%]   .confirmation-checkbox[_ngcontent-%COMP%]{background:#f59e0b26;border-color:#f59e0b73;color:#fcd34d}.actions[_ngcontent-%COMP%]{text-align:right;margin-top:28px}.erase-btn[_ngcontent-%COMP%]{padding:14px 40px;font-size:1.1rem;font-weight:600;background:linear-gradient(135deg,#ef4444,#dc2626);transition:all .25s ease}.erase-btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 12px 32px #ef444466}.success-card[_ngcontent-%COMP%]{border-left:5px solid #16a34a}.gdpr-container.dark[_ngcontent-%COMP%]   .success-card[_ngcontent-%COMP%]{border-left-color:#22c55e}.error-card[_ngcontent-%COMP%]{border-left:5px solid #dc2626}.gdpr-container.dark[_ngcontent-%COMP%]   .error-card[_ngcontent-%COMP%]{border-left-color:#ef4444}.result-pre[_ngcontent-%COMP%]{background:var(--code-bg, #1e1e1e);color:#9cdcfe;padding:20px;border-radius:14px;overflow-x:auto;font-size:.95rem;margin-top:16px}.gdpr-container.dark[_ngcontent-%COMP%]   .result-pre[_ngcontent-%COMP%]{background:#0d1117;color:#c9d1d9}.muted[_ngcontent-%COMP%]{color:var(--text-secondary)}.small[_ngcontent-%COMP%]{font-size:.9rem}.gdpr-container.dark[_ngcontent-%COMP%]   .mat-mdc-form-field-label[_ngcontent-%COMP%], .gdpr-container.dark[_ngcontent-%COMP%]   .mat-mdc-form-field-hint[_ngcontent-%COMP%], .gdpr-container.dark[_ngcontent-%COMP%]   .mat-mdc-input-element[_ngcontent-%COMP%]::placeholder{color:#94a3b8!important;opacity:1!important}.gdpr-container.dark[_ngcontent-%COMP%]   .mat-mdc-form-field.mat-focused[_ngcontent-%COMP%]   .mat-mdc-form-field-label[_ngcontent-%COMP%]{color:#a5b4fc!important}.gdpr-container.dark[_ngcontent-%COMP%]   .mat-mdc-input-element[_ngcontent-%COMP%], .gdpr-container.dark[_ngcontent-%COMP%]   .mat-mdc-checkbox-label[_ngcontent-%COMP%], .gdpr-container.dark[_ngcontent-%COMP%]   .mat-mdc-checkbox-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#f1f5f9!important}.gdpr-container.dark[_ngcontent-%COMP%]   .mat-mdc-form-field-underline[_ngcontent-%COMP%], .gdpr-container.dark[_ngcontent-%COMP%]   .mat-mdc-form-field-ripple[_ngcontent-%COMP%], .gdpr-container.dark[_ngcontent-%COMP%]   .mat-mdc-checkbox-checked[_ngcontent-%COMP%]   .mat-mdc-checkbox-background[_ngcontent-%COMP%], .gdpr-container.dark[_ngcontent-%COMP%]   .mat-mdc-checkbox-indeterminate[_ngcontent-%COMP%]   .mat-mdc-checkbox-background[_ngcontent-%COMP%]{background-color:#6366f1!important}.gdpr-container.dark[_ngcontent-%COMP%]   .mat-mdc-form-field-disabled[_ngcontent-%COMP%]   .mat-mdc-form-field-label[_ngcontent-%COMP%], .gdpr-container.dark[_ngcontent-%COMP%]   .mat-mdc-form-field-disabled[_ngcontent-%COMP%]   .mat-mdc-input-element[_ngcontent-%COMP%]{color:#6b7280!important}@media (max-width: 960px){.gdpr-container[_ngcontent-%COMP%]{padding:24px 28px 60px}h1[_ngcontent-%COMP%]{font-size:clamp(1.8rem,4vw,2.4rem)}}@media (max-width: 600px){.gdpr-container[_ngcontent-%COMP%]{padding:20px 20px 48px}.card[_ngcontent-%COMP%]:hover{transform:none}.actions[_ngcontent-%COMP%]{text-align:center}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}mat-form-field[_ngcontent-%COMP%], .full-width[_ngcontent-%COMP%]{width:100%!important}.did-display[_ngcontent-%COMP%], .warning-box[_ngcontent-%COMP%], .status.success[_ngcontent-%COMP%]{font-size:.95rem;padding:12px 14px}h1[_ngcontent-%COMP%]{font-size:clamp(1.6rem,6vw,2rem)}.subtitle[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 360px){button[_ngcontent-%COMP%], .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.8rem;padding:6px 10px}.badge[_ngcontent-%COMP%]{padding:2px 8px;font-size:.7rem}.consents-scroll-container[_ngcontent-%COMP%]{max-height:240px}h1[_ngcontent-%COMP%]{font-size:1.3rem}}"]})}return i})();var ol=[[["caption"]],[["colgroup"],["col"]],"*"],al=["caption","colgroup, col","*"];function rl(i,l){i&1&&B(0,2)}function cl(i,l){i&1&&(a(0,"thead",0),Ge(1,1),o(),a(2,"tbody",0),Ge(3,2)(4,3),o(),a(5,"tfoot",0),Ge(6,4),o())}function sl(i,l){i&1&&Ge(0,1)(1,2)(2,3)(3,4)}var dt=new ae("CDK_TABLE");var _i=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(t){return new(t||i)(u(Ue))}}static{this.\u0275dir=V({type:i,selectors:[["","cdkCellDef",""]],standalone:!0})}}return i})(),bi=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(t){return new(t||i)(u(Ue))}}static{this.\u0275dir=V({type:i,selectors:[["","cdkHeaderCellDef",""]],standalone:!0})}}return i})(),$a=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(t){return new(t||i)(u(Ue))}}static{this.\u0275dir=V({type:i,selectors:[["","cdkFooterCellDef",""]],standalone:!0})}}return i})(),Mn=(()=>{class i{get name(){return this._name}set name(e){this._setNameInput(e)}get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){e!==this._stickyEnd&&(this._stickyEnd=e,this._hasStickyChanged=!0)}constructor(e){this._table=e,this._hasStickyChanged=!1,this._sticky=!1,this._stickyEnd=!1}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static{this.\u0275fac=function(t){return new(t||i)(u(dt,8))}}static{this.\u0275dir=V({type:i,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,n,c){if(t&1&&(K(c,_i,5),K(c,bi,5),K(c,$a,5)),t&2){let d;F(d=A())&&(n.cell=d.first),F(d=A())&&(n.headerCell=d.first),F(d=A())&&(n.footerCell=d.first)}},inputs:{name:[w.None,"cdkColumnDef","name"],sticky:[w.HasDecoratorInputTransform,"sticky","sticky",R],stickyEnd:[w.HasDecoratorInputTransform,"stickyEnd","stickyEnd",R]},standalone:!0,features:[G([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:i}]),se]})}}return i})(),ui=class{constructor(l,e){e.nativeElement.classList.add(...l._columnCssClassName)}},Ya=(()=>{class i extends ui{constructor(e,t){super(e,t)}static{this.\u0275fac=function(t){return new(t||i)(u(Mn),u(W))}}static{this.\u0275dir=V({type:i,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],standalone:!0,features:[J]})}}return i})();var Ka=(()=>{class i extends ui{constructor(e,t){super(e,t);let n=e._table?._getCellRole();n&&t.nativeElement.setAttribute("role",n)}static{this.\u0275fac=function(t){return new(t||i)(u(Mn),u(W))}}static{this.\u0275dir=V({type:i,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],standalone:!0,features:[J]})}}return i})(),hi=class{constructor(){this.tasks=[],this.endTasks=[]}},gi=new ae("_COALESCED_STYLE_SCHEDULER"),Qi=(()=>{class i{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new Pe}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new hi,this._getScheduleObservable().pipe(le(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){let e=this._currentSchedule;this._currentSchedule=new hi;for(let t of e.tasks)t();for(let t of e.endTasks)t()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?ao(Promise.resolve(void 0)):this._ngZone.onStable.pipe(He(1))}static{this.\u0275fac=function(t){return new(t||i)(uo(pe))}}static{this.\u0275prov=mt({token:i,factory:i.\u0275fac})}}return i})();var $i=(()=>{class i{constructor(e,t){this.template=e,this._differs=t}ngOnChanges(e){if(!this._columnsDiffer){let t=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(t).create(),this._columnsDiffer.diff(t)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof Tn?e.headerCell.template:this instanceof Yi?e.footerCell.template:e.cell.template}static{this.\u0275fac=function(t){return new(t||i)(u(Ue),u(dn))}}static{this.\u0275dir=V({type:i,features:[pt]})}}return i})(),Tn=(()=>{class i extends $i{get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}constructor(e,t,n){super(e,t),this._table=n,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}static{this.\u0275fac=function(t){return new(t||i)(u(Ue),u(dn),u(dt,8))}}static{this.\u0275dir=V({type:i,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[w.None,"cdkHeaderRowDef","columns"],sticky:[w.HasDecoratorInputTransform,"cdkHeaderRowDefSticky","sticky",R]},standalone:!0,features:[se,J,pt]})}}return i})(),Yi=(()=>{class i extends $i{get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}constructor(e,t,n){super(e,t),this._table=n,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}static{this.\u0275fac=function(t){return new(t||i)(u(Ue),u(dn),u(dt,8))}}static{this.\u0275dir=V({type:i,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[w.None,"cdkFooterRowDef","columns"],sticky:[w.HasDecoratorInputTransform,"cdkFooterRowDefSticky","sticky",R]},standalone:!0,features:[se,J,pt]})}}return i})(),xi=(()=>{class i extends $i{constructor(e,t,n){super(e,t),this._table=n}static{this.\u0275fac=function(t){return new(t||i)(u(Ue),u(dn),u(dt,8))}}static{this.\u0275dir=V({type:i,selectors:[["","cdkRowDef",""]],inputs:{columns:[w.None,"cdkRowDefColumns","columns"],when:[w.None,"cdkRowDefWhen","when"]},standalone:!0,features:[J]})}}return i})(),an=(()=>{class i{static{this.mostRecentCellOutlet=null}constructor(e){this._viewContainer=e,i.mostRecentCellOutlet=this}ngOnDestroy(){i.mostRecentCellOutlet===this&&(i.mostRecentCellOutlet=null)}static{this.\u0275fac=function(t){return new(t||i)(u(ut))}}static{this.\u0275dir=V({type:i,selectors:[["","cdkCellOutlet",""]],standalone:!0})}}return i})(),Ki=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=E({type:i,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],standalone:!0,features:[D],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,n){t&1&&Ge(0,0)},dependencies:[an],encapsulation:2})}}return i})();var Ji=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=E({type:i,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],standalone:!0,features:[D],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,n){t&1&&Ge(0,0)},dependencies:[an],encapsulation:2})}}return i})(),Ja=(()=>{class i{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}static{this.\u0275fac=function(t){return new(t||i)(u(Ue))}}static{this.\u0275dir=V({type:i,selectors:[["ng-template","cdkNoDataRow",""]],standalone:!0})}}return i})(),qa=["top","bottom","left","right"],qi=class{constructor(l,e,t,n,c=!0,d=!0,g){this._isNativeHtmlTable=l,this._stickCellCss=e,this.direction=t,this._coalescedStyleScheduler=n,this._isBrowser=c,this._needsPositionStickyOnElement=d,this._positionListener=g,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(l,e){let t=[];for(let n of l)if(n.nodeType===n.ELEMENT_NODE){t.push(n);for(let c=0;c<n.children.length;c++)t.push(n.children[c])}this._coalescedStyleScheduler.schedule(()=>{for(let n of t)this._removeStickyStyle(n,e)})}updateStickyColumns(l,e,t,n=!0){if(!l.length||!this._isBrowser||!(e.some(c=>c)||t.some(c=>c))){this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]}));return}this._coalescedStyleScheduler.schedule(()=>{let c=l[0],d=c.children.length,g=this._getCellWidths(c,n),x=this._getStickyStartColumnPositions(g,e),N=this._getStickyEndColumnPositions(g,t),v=e.lastIndexOf(!0),$=t.indexOf(!0),H=this.direction==="rtl",ie=H?"right":"left",wi=H?"left":"right";for(let Pn of l)for(let Ze=0;Ze<d;Ze++){let oo=Pn.children[Ze];e[Ze]&&this._addStickyStyle(oo,ie,x[Ze],Ze===v),t[Ze]&&this._addStickyStyle(oo,wi,N[Ze],Ze===$)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:v===-1?[]:g.slice(0,v+1).map((Pn,Ze)=>e[Ze]?Pn:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:$===-1?[]:g.slice($).map((Pn,Ze)=>t[Ze+$]?Pn:null).reverse()}))})}stickRows(l,e,t){this._isBrowser&&this._coalescedStyleScheduler.schedule(()=>{let n=t==="bottom"?l.slice().reverse():l,c=t==="bottom"?e.slice().reverse():e,d=[],g=[],x=[];for(let v=0,$=0;v<n.length;v++){if(!c[v])continue;d[v]=$;let H=n[v];x[v]=this._isNativeHtmlTable?Array.from(H.children):[H];let ie=H.getBoundingClientRect().height;$+=ie,g[v]=ie}let N=c.lastIndexOf(!0);for(let v=0;v<n.length;v++){if(!c[v])continue;let $=d[v],H=v===N;for(let ie of x[v])this._addStickyStyle(ie,t,$,H)}t==="top"?this._positionListener?.stickyHeaderRowsUpdated({sizes:g,offsets:d,elements:x}):this._positionListener?.stickyFooterRowsUpdated({sizes:g,offsets:d,elements:x})})}updateStickyFooterContainer(l,e){this._isNativeHtmlTable&&this._coalescedStyleScheduler.schedule(()=>{let t=l.querySelector("tfoot");t&&(e.some(n=>!n)?this._removeStickyStyle(t,["bottom"]):this._addStickyStyle(t,"bottom",0,!1))})}_removeStickyStyle(l,e){for(let n of e)l.style[n]="",l.classList.remove(this._borderCellCss[n]);qa.some(n=>e.indexOf(n)===-1&&l.style[n])?l.style.zIndex=this._getCalculatedZIndex(l):(l.style.zIndex="",this._needsPositionStickyOnElement&&(l.style.position=""),l.classList.remove(this._stickCellCss))}_addStickyStyle(l,e,t,n){l.classList.add(this._stickCellCss),n&&l.classList.add(this._borderCellCss[e]),l.style[e]=`${t}px`,l.style.zIndex=this._getCalculatedZIndex(l),this._needsPositionStickyOnElement&&(l.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(l){let e={top:100,bottom:10,left:1,right:1},t=0;for(let n of qa)l.style[n]&&(t+=e[n]);return t?`${t}`:""}_getCellWidths(l,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;let t=[],n=l.children;for(let c=0;c<n.length;c++){let d=n[c];t.push(d.getBoundingClientRect().width)}return this._cachedCellWidths=t,t}_getStickyStartColumnPositions(l,e){let t=[],n=0;for(let c=0;c<l.length;c++)e[c]&&(t[c]=n,n+=l[c]);return t}_getStickyEndColumnPositions(l,e){let t=[],n=0;for(let c=l.length;c>0;c--)e[c]&&(t[c]=n,n+=l[c]);return t}};var fi=new ae("CDK_SPL");var Xi=(()=>{class i{constructor(e,t){this.viewContainer=e,this.elementRef=t;let n=C(dt);n._rowOutlet=this,n._outletAssigned()}static{this.\u0275fac=function(t){return new(t||i)(u(ut),u(W))}}static{this.\u0275dir=V({type:i,selectors:[["","rowOutlet",""]],standalone:!0})}}return i})(),Zi=(()=>{class i{constructor(e,t){this.viewContainer=e,this.elementRef=t;let n=C(dt);n._headerRowOutlet=this,n._outletAssigned()}static{this.\u0275fac=function(t){return new(t||i)(u(ut),u(W))}}static{this.\u0275dir=V({type:i,selectors:[["","headerRowOutlet",""]],standalone:!0})}}return i})(),eo=(()=>{class i{constructor(e,t){this.viewContainer=e,this.elementRef=t;let n=C(dt);n._footerRowOutlet=this,n._outletAssigned()}static{this.\u0275fac=function(t){return new(t||i)(u(ut),u(W))}}static{this.\u0275dir=V({type:i,selectors:[["","footerRowOutlet",""]],standalone:!0})}}return i})(),to=(()=>{class i{constructor(e,t){this.viewContainer=e,this.elementRef=t;let n=C(dt);n._noDataRowOutlet=this,n._outletAssigned()}static{this.\u0275fac=function(t){return new(t||i)(u(ut),u(W))}}static{this.\u0275dir=V({type:i,selectors:[["","noDataRowOutlet",""]],standalone:!0})}}return i})();var no=(()=>{class i{_getCellRole(){if(this._cellRoleInternal===void 0){let e=this._elementRef.nativeElement.getAttribute("role"),t=e==="grid"||e==="treegrid"?"gridcell":"cell";this._cellRoleInternal=this._isNativeHtmlTable&&t==="cell"?null:t}return this._cellRoleInternal}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=e,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=e,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(e,t,n,c,d,g,x,N,v,$,H,ie){this._differs=e,this._changeDetectorRef=t,this._elementRef=n,this._dir=d,this._platform=x,this._viewRepeater=N,this._coalescedStyleScheduler=v,this._viewportRuler=$,this._stickyPositioningListener=H,this._ngZone=ie,this._onDestroy=new Pe,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._hasAllOutlets=!1,this._hasInitialized=!1,this._cellRoleInternal=void 0,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new Y,this.viewChange=new Fn({start:0,end:Number.MAX_VALUE}),c||n.nativeElement.setAttribute("role","table"),this._document=g,this._isServer=!x.isBrowser,this._isNativeHtmlTable=n.nativeElement.nodeName==="TABLE"}ngOnInit(){this._setupStickyStyler(),this._dataDiffer=this._differs.find([]).create((e,t)=>this.trackBy?this.trackBy(t.dataIndex,t.data):t),this._viewportRuler.change().pipe(le(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),Qn(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();let e=this._dataDiffer.diff(this._renderRows);if(!e){this._updateNoDataRow(),this.contentChanged.next();return}let t=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,t,(n,c,d)=>this._getEmbeddedViewArgs(n.item,d),n=>n.item.data,n=>{n.operation===aa.INSERTED&&n.context&&this._renderCellTemplateForItem(n.record.item.rowDef,n.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(n=>{let c=t.get(n.currentIndex);c.context.$implicit=n.item.data}),this._updateNoDataRow(),this._ngZone&&pe.isInAngularZone()?this._ngZone.onStable.pipe(He(1),le(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){let e=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){let n=Qa(this._headerRowOutlet,"thead");n&&(n.style.display=e.length?"":"none")}let t=this._headerRowDefs.map(n=>n.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,t,"top"),this._headerRowDefs.forEach(n=>n.resetStickyChanged())}updateStickyFooterRowStyles(){let e=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){let n=Qa(this._footerRowOutlet,"tfoot");n&&(n.style.display=e.length?"":"none")}let t=this._footerRowDefs.map(n=>n.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,t,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,t),this._footerRowDefs.forEach(n=>n.resetStickyChanged())}updateStickyColumnStyles(){let e=this._getRenderedRows(this._headerRowOutlet),t=this._getRenderedRows(this._rowOutlet),n=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...t,...n],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((c,d)=>{this._addStickyColumnStyles([c],this._headerRowDefs[d])}),this._rowDefs.forEach(c=>{let d=[];for(let g=0;g<t.length;g++)this._renderRows[g].rowDef===c&&d.push(t[g]);this._addStickyColumnStyles(d,c)}),n.forEach((c,d)=>{this._addStickyColumnStyles([c],this._footerRowDefs[d])}),Array.from(this._columnDefsByName.values()).forEach(c=>c.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs(),!this._headerRowDefs.length&&!this._footerRowDefs.length&&this._rowDefs.length;let t=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||t,this._forceRecalculateCellWidths=t,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){let e=[],t=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let n=0;n<this._data.length;n++){let c=this._data[n],d=this._getRenderRowsForData(c,n,t.get(c));this._cachedRenderRowsMap.has(c)||this._cachedRenderRowsMap.set(c,new WeakMap);for(let g=0;g<d.length;g++){let x=d[g],N=this._cachedRenderRowsMap.get(x.data);N.has(x.rowDef)?N.get(x.rowDef).push(x):N.set(x.rowDef,[x]),e.push(x)}}return e}_getRenderRowsForData(e,t,n){return this._getRowDefs(e,t).map(d=>{let g=n&&n.has(d)?n.get(d):[];if(g.length){let x=g.shift();return x.dataIndex=t,x}else return{data:e,rowDef:d,dataIndex:t}})}_cacheColumnDefs(){this._columnDefsByName.clear(),pi(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(t=>{this._columnDefsByName.has(t.name),this._columnDefsByName.set(t.name,t)})}_cacheRowDefs(){this._headerRowDefs=pi(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=pi(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=pi(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);let e=this._rowDefs.filter(t=>!t.when);!this.multiTemplateDataRows&&e.length>1,this._defaultRowDef=e[0]}_renderUpdatedColumns(){let e=(d,g)=>d||!!g.getColumnsDiff(),t=this._rowDefs.reduce(e,!1);t&&this._forceRenderDataRows();let n=this._headerRowDefs.reduce(e,!1);n&&this._forceRenderHeaderRows();let c=this._footerRowDefs.reduce(e,!1);return c&&this._forceRenderFooterRows(),t||n||c}_switchDataSource(e){this._data=[],Qn(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;Qn(this.dataSource)?e=this.dataSource.connect(this):ro(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=St(this.dataSource)),this._renderChangeSubscription=e.pipe(le(this._onDestroy)).subscribe(t=>{this._data=t||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,t)=>this._renderRow(this._headerRowOutlet,e,t)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,t)=>this._renderRow(this._footerRowOutlet,e,t)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,t){let n=Array.from(t.columns||[]).map(g=>{let x=this._columnDefsByName.get(g);return x}),c=n.map(g=>g.sticky),d=n.map(g=>g.stickyEnd);this._stickyStyler.updateStickyColumns(e,c,d,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){let t=[];for(let n=0;n<e.viewContainer.length;n++){let c=e.viewContainer.get(n);t.push(c.rootNodes[0])}return t}_getRowDefs(e,t){if(this._rowDefs.length==1)return[this._rowDefs[0]];let n=[];if(this.multiTemplateDataRows)n=this._rowDefs.filter(c=>!c.when||c.when(t,e));else{let c=this._rowDefs.find(d=>d.when&&d.when(t,e))||this._defaultRowDef;c&&n.push(c)}return n.length,n}_getEmbeddedViewArgs(e,t){let n=e.rowDef,c={$implicit:e.data};return{templateRef:n.template,context:c,index:t}}_renderRow(e,t,n,c={}){let d=e.viewContainer.createEmbeddedView(t.template,c,n);return this._renderCellTemplateForItem(t,c),d}_renderCellTemplateForItem(e,t){for(let n of this._getCellTemplates(e))an.mostRecentCellOutlet&&an.mostRecentCellOutlet._viewContainer.createEmbeddedView(n,t);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){let e=this._rowOutlet.viewContainer;for(let t=0,n=e.length;t<n;t++){let d=e.get(t).context;d.count=n,d.first=t===0,d.last=t===n-1,d.even=t%2===0,d.odd=!d.even,this.multiTemplateDataRows?(d.dataIndex=this._renderRows[t].dataIndex,d.renderIndex=t):d.index=this._renderRows[t].dataIndex}}_getCellTemplates(e){return!e||!e.columns?[]:Array.from(e.columns,t=>{let n=this._columnDefsByName.get(t);return e.extractCellTemplate(n)})}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){let e=(t,n)=>t||n.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){let e=this._dir?this._dir.value:"ltr";this._stickyStyler=new qi(this._isNativeHtmlTable,this.stickyCssClass,e,this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:St()).pipe(le(this._onDestroy)).subscribe(t=>{this._stickyStyler.direction=t,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(t=>!t._table||t._table===this)}_updateNoDataRow(){let e=this._customNoDataRow||this._noDataRow;if(!e)return;let t=this._rowOutlet.viewContainer.length===0;if(t===this._isShowingNoDataRow)return;let n=this._noDataRowOutlet.viewContainer;if(t){let c=n.createEmbeddedView(e.templateRef),d=c.rootNodes[0];c.rootNodes.length===1&&d?.nodeType===this._document.ELEMENT_NODE&&(d.setAttribute("role","row"),d.classList.add(e._contentClassName))}else n.clear();this._isShowingNoDataRow=t,this._changeDetectorRef.markForCheck()}static{this.\u0275fac=function(t){return new(t||i)(u(dn),u(U),u(W),Dt("role"),u(jt,8),u(nt),u(Nt),u(In),u(gi),u(_n),u(fi,12),u(pe,8))}}static{this.\u0275cmp=E({type:i,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,n,c){if(t&1&&(K(c,Ja,5),K(c,Mn,5),K(c,xi,5),K(c,Tn,5),K(c,Yi,5)),t&2){let d;F(d=A())&&(n._noDataRow=d.first),F(d=A())&&(n._contentColumnDefs=d),F(d=A())&&(n._contentRowDefs=d),F(d=A())&&(n._contentHeaderRowDefs=d),F(d=A())&&(n._contentFooterRowDefs=d)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(t,n){t&2&&O("cdk-table-fixed-layout",n.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[w.HasDecoratorInputTransform,"multiTemplateDataRows","multiTemplateDataRows",R],fixedLayout:[w.HasDecoratorInputTransform,"fixedLayout","fixedLayout",R]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],standalone:!0,features:[G([{provide:dt,useExisting:i},{provide:In,useClass:$n},{provide:gi,useClass:Qi},{provide:fi,useValue:null}]),se,D],ngContentSelectors:al,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,n){t&1&&(X(ol),B(0),B(1,1),h(2,rl,1,0)(3,cl,7,0)(4,sl,4,0)),t&2&&(s(2),ve(2,n._isServer?2:-1),s(),ve(3,n._isNativeHtmlTable?3:4))},dependencies:[Zi,Xi,to,eo],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}}return i})();function pi(i,l){return i.concat(Array.from(l))}function Qa(i,l){let e=l.toUpperCase(),t=i.viewContainer.element.nativeElement;for(;t;){let n=t.nodeType===1?t.nodeName:null;if(n===e)return t;if(n==="TABLE")break;t=t.parentNode}return null}var Xa=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=me({type:i})}static{this.\u0275inj=de({imports:[ca]})}}return i})();var ll=[[["caption"]],[["colgroup"],["col"]],"*"],dl=["caption","colgroup, col","*"];function ml(i,l){i&1&&B(0,2)}function pl(i,l){i&1&&(a(0,"thead",0),Ge(1,1),o(),a(2,"tbody",2),Ge(3,3)(4,4),o(),a(5,"tfoot",0),Ge(6,5),o())}function ul(i,l){i&1&&Ge(0,1)(1,3)(2,4)(3,5)}var Za=(()=>{class i extends no{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=Ie(i)))(n||i)}})()}static{this.\u0275cmp=E({type:i,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(t,n){t&2&&O("mdc-table-fixed-layout",n.fixedLayout)},exportAs:["matTable"],standalone:!0,features:[G([{provide:no,useExisting:i},{provide:dt,useExisting:i},{provide:gi,useClass:Qi},{provide:In,useClass:$n},{provide:fi,useValue:null}]),J,D],ngContentSelectors:dl,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["role","rowgroup",1,"mdc-data-table__content"],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,n){t&1&&(X(ll),B(0),B(1,1),h(2,ml,1,0)(3,pl,7,0)(4,ul,4,0)),t&2&&(s(2),ve(2,n._isServer?2:-1),s(),ve(3,n._isNativeHtmlTable?3:4))},dependencies:[Zi,Xi,to,eo],styles:[".mat-mdc-table-sticky{position:sticky !important}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color)}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-header-headline-font, Roboto, sans-serif);line-height:var(--mat-table-header-headline-line-height);font-size:var(--mat-table-header-headline-size, 14px);font-weight:var(--mat-table-header-headline-weight, 500)}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, Roboto, sans-serif);line-height:var(--mat-table-row-item-label-text-line-height);font-size:var(--mat-table-row-item-label-text-size, 14px);font-weight:var(--mat-table-row-item-label-text-weight)}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-footer-supporting-text-font, Roboto, sans-serif);line-height:var(--mat-table-footer-supporting-text-line-height);font-size:var(--mat-table-footer-supporting-text-size, 14px);font-weight:var(--mat-table-footer-supporting-text-weight);letter-spacing:var(--mat-table-footer-supporting-text-tracking)}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking);font-weight:inherit;line-height:inherit}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking);line-height:inherit}.mdc-data-table__row:last-child .mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking)}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2})}}return i})(),er=(()=>{class i extends _i{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=Ie(i)))(n||i)}})()}static{this.\u0275dir=V({type:i,selectors:[["","matCellDef",""]],standalone:!0,features:[G([{provide:_i,useExisting:i}]),J]})}}return i})(),tr=(()=>{class i extends bi{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=Ie(i)))(n||i)}})()}static{this.\u0275dir=V({type:i,selectors:[["","matHeaderCellDef",""]],standalone:!0,features:[G([{provide:bi,useExisting:i}]),J]})}}return i})();var nr=(()=>{class i extends Mn{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=Ie(i)))(n||i)}})()}static{this.\u0275dir=V({type:i,selectors:[["","matColumnDef",""]],inputs:{name:[w.None,"matColumnDef","name"]},standalone:!0,features:[G([{provide:Mn,useExisting:i},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:i}]),J]})}}return i})(),ir=(()=>{class i extends Ya{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=Ie(i)))(n||i)}})()}static{this.\u0275dir=V({type:i,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],standalone:!0,features:[J]})}}return i})();var or=(()=>{class i extends Ka{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=Ie(i)))(n||i)}})()}static{this.\u0275dir=V({type:i,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],standalone:!0,features:[J]})}}return i})();var ar=(()=>{class i extends Tn{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=Ie(i)))(n||i)}})()}static{this.\u0275dir=V({type:i,selectors:[["","matHeaderRowDef",""]],inputs:{columns:[w.None,"matHeaderRowDef","columns"],sticky:[w.HasDecoratorInputTransform,"matHeaderRowDefSticky","sticky",R]},standalone:!0,features:[G([{provide:Tn,useExisting:i}]),se,J]})}}return i})();var rr=(()=>{class i extends xi{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=Ie(i)))(n||i)}})()}static{this.\u0275dir=V({type:i,selectors:[["","matRowDef",""]],inputs:{columns:[w.None,"matRowDefColumns","columns"],when:[w.None,"matRowDefWhen","when"]},standalone:!0,features:[G([{provide:xi,useExisting:i}]),J]})}}return i})(),cr=(()=>{class i extends Ki{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=Ie(i)))(n||i)}})()}static{this.\u0275cmp=E({type:i,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],standalone:!0,features:[G([{provide:Ki,useExisting:i}]),J,D],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,n){t&1&&Ge(0,0)},dependencies:[an],encapsulation:2})}}return i})();var sr=(()=>{class i extends Ji{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=Ie(i)))(n||i)}})()}static{this.\u0275cmp=E({type:i,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],standalone:!0,features:[G([{provide:Ji,useExisting:i}]),J,D],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,n){t&1&&Ge(0,0)},dependencies:[an],encapsulation:2})}}return i})();var lr=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=me({type:i})}static{this.\u0275inj=de({imports:[Q,Xa,Q]})}}return i})();function gl(i,l){if(i&1){let e=k();L(0),a(1,"div",8)(2,"div",9)(3,"strong"),r(4,"Subject DID"),o(),a(5,"code"),r(6),I(7,"slice"),I(8,"slice"),o(),a(9,"button",10),b("click",function(){f(e);let n=p();return _(n.copyDid())}),a(10,"mat-icon"),r(11),o()()(),a(12,"div",11)(13,"mat-icon"),r(14,"check_circle"),o(),r(15," Wallet connected \u2014 disclosures loaded "),o()(),j()}if(i&2){let e=p();s(6),Ee("did:ethr:",tt(7,3,e.wallet.address,0,8),"\u2026",We(8,7,e.wallet.address,-6),""),s(5),S(e.copied?"check_circle":"content_copy")}}function fl(i,l){i&1&&(a(0,"mat-icon"),r(1,"wallet"),o())}function _l(i,l){i&1&&y(0,"mat-spinner",18)}function bl(i,l){if(i&1){let e=k();a(0,"div",12)(1,"mat-icon",13),r(2,"wallet"),o(),a(3,"h3"),r(4,"Wallet Required"),o(),a(5,"p",14),r(6," Connect your wallet to view your full disclosure history. "),o(),a(7,"button",15),b("click",function(){f(e);let n=p();return _(n.connect())}),h(8,fl,2,0,"mat-icon",16)(9,_l,1,0,"mat-spinner",17),r(10),o()()}if(i&2){let e=p();s(7),m("disabled",e.connecting),s(),m("ngIf",!e.connecting),s(),m("ngIf",e.connecting),s(),M(" ",e.connecting?"Connecting...":"Connect Wallet"," ")}}function xl(i,l){if(i&1&&(a(0,"div",31),r(1),o()),i&2){let e=p(2);s(),Ee(" ",e.total," ",e.total===1?"record":"records"," ")}}function vl(i,l){i&1&&(a(0,"div",32),y(1,"mat-spinner",33),a(2,"div",34)(3,"h3"),r(4,"Loading history..."),o(),a(5,"p",14),r(6,"Fetching your disclosure records"),o()()())}function Cl(i,l){i&1&&(a(0,"div",35)(1,"mat-icon",36),r(2,"privacy_tip"),o(),a(3,"h3"),r(4,"No disclosures yet"),o(),a(5,"p",14),r(6," Your data remains private \u2014 no verifiers have accessed it. "),o()())}function wl(i,l){i&1&&(a(0,"th",49),r(1,"Verifier"),o())}function yl(i,l){if(i&1&&(a(0,"td",50)(1,"code",51),r(2),o()()),i&2){let e=l.$implicit;s(2),S(e.verifier_did||"Unknown")}}function kl(i,l){i&1&&(a(0,"th",49),r(1,"Claim"),o())}function Ml(i,l){if(i&1&&(a(0,"td",50),r(1),o()),i&2){let e=l.$implicit;s(),S(e.claim_id||"\u2014")}}function Pl(i,l){i&1&&(a(0,"th",49),r(1,"Context"),o())}function Ol(i,l){if(i&1&&(a(0,"td",50)(1,"span",52),r(2),o()()),i&2){let e=l.$implicit;s(2),S(e.context||"\u2014")}}function Sl(i,l){i&1&&(a(0,"th",49),r(1,"Purpose"),o())}function Il(i,l){if(i&1&&(a(0,"td",50)(1,"span",53),r(2),o()()),i&2){let e=l.$implicit;s(2),S(e.purpose||"General")}}function El(i,l){i&1&&(a(0,"th",49),r(1,"Consent"),o())}function Dl(i,l){if(i&1&&(a(0,"td",50)(1,"mat-icon",54),r(2),o()()),i&2){let e=l.$implicit;s(),wo("matTooltip","Consent given: ",e.consent?"Yes":"No",""),m("color",e.consent?"primary":"warn"),s(),M(" ",e.consent?"check_circle":"cancel"," ")}}function Tl(i,l){i&1&&(a(0,"th",49),r(1,"Date"),o())}function Rl(i,l){if(i&1&&(a(0,"td",50),r(1),I(2,"date"),o()),i&2){let e=l.$implicit;s(),M(" ",We(2,1,e.disclosed_at,"mediumDate")," ")}}function Fl(i,l){i&1&&y(0,"tr",55)}function Al(i,l){i&1&&y(0,"tr",56)}function Vl(i,l){if(i&1&&(a(0,"div",37)(1,"table",38),L(2,39),h(3,wl,2,0,"th",40)(4,yl,3,1,"td",41),j(),L(5,42),h(6,kl,2,0,"th",40)(7,Ml,2,1,"td",41),j(),L(8,43),h(9,Pl,2,0,"th",40)(10,Ol,3,1,"td",41),j(),L(11,44),h(12,Sl,2,0,"th",40)(13,Il,3,1,"td",41),j(),L(14,45),h(15,El,2,0,"th",40)(16,Dl,3,4,"td",41),j(),L(17,46),h(18,Tl,2,0,"th",40)(19,Rl,3,4,"td",41),j(),h(20,Fl,1,0,"tr",47)(21,Al,1,0,"tr",48),o()()),i&2){let e=p(2);s(),m("dataSource",e.disclosures),s(19),m("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),s(),m("matRowDefColumns",e.displayedColumns)}}function Bl(i,l){if(i&1){let e=k();a(0,"div",57)(1,"button",58),b("click",function(){f(e);let n=p(2);return _(n.prevPage())}),a(2,"mat-icon"),r(3,"chevron_left"),o()(),a(4,"span",59),r(5),o(),a(6,"button",58),b("click",function(){f(e);let n=p(2);return _(n.nextPage())}),a(7,"mat-icon"),r(8,"chevron_right"),o()()()}if(i&2){let e=p(2);s(),m("disabled",e.offset===0),s(4),yo(" ",e.offset+1," \u2013 ",e.Math.min(e.offset+e.limit,e.total)," of ",e.total," "),s(),m("disabled",e.offset+e.limit>=e.total)}}function zl(i,l){if(i&1){let e=k();a(0,"div",60)(1,"button",61),b("click",function(){f(e);let n=p(2);return _(n.exportDisclosures())}),a(2,"mat-icon"),r(3,"download"),o(),r(4," Export Full Report (JSON) "),o()()}}function Nl(i,l){if(i&1){let e=k();a(0,"mat-card",19)(1,"mat-card-header")(2,"mat-icon",5),r(3,"history"),o(),a(4,"mat-card-title"),r(5,"Disclosure Records"),o(),h(6,xl,2,2,"div",20),o(),a(7,"mat-card-content")(8,"div",21)(9,"mat-form-field",22)(10,"mat-label"),r(11,"Filter by Context"),o(),a(12,"input",23),te("ngModelChange",function(n){f(e);let c=p();return ee(c.contextFilterValue,n)||(c.contextFilterValue=n),_(n)}),o()(),a(13,"button",24),b("click",function(){f(e);let n=p();return _(n.applyFilter())}),r(14," Apply Filter "),o(),a(15,"button",25),b("click",function(){f(e);let n=p();return _(n.clearFilter())}),r(16," Clear "),o()(),h(17,vl,7,0,"div",26)(18,Cl,7,0,"div",27)(19,Vl,22,4,"div",28)(20,Bl,9,5,"div",29)(21,zl,5,0,"div",30),o()()}if(i&2){let e=p();s(6),m("ngIf",e.total>0),s(6),Z("ngModel",e.contextFilterValue),s(5),m("ngIf",e.loading),s(),m("ngIf",!e.loading&&e.disclosures.length===0),s(),m("ngIf",!e.loading&&e.disclosures.length>0),s(),m("ngIf",e.total>e.limit),s(),m("ngIf",e.total>0)}}var dr=(()=>{class i{wallet;api;disclosures=[];displayedColumns=["verifier","claim","context","purpose","consent","date"];contextFilter=P("");contextFilterValue="";limit=25;offset=0;total=0;loading=!1;connecting=!1;copied=!1;Math=Math;themeService=C(be);darkMode=this.themeService.darkMode;constructor(e,t){this.wallet=e,this.api=t}ngOnInit(){this.wallet.address$.subscribe(e=>{e?(this.resetPaging(),this.loadDisclosures()):this.disclosures=[]})}connect(){return T(this,null,function*(){this.connecting=!0;try{yield this.wallet.connect()}catch(e){alert(e.message||"Wallet connection failed")}finally{this.connecting=!1}})}copyDid(){if(!this.wallet.address)return;let e=`did:ethr:${this.wallet.address}`;navigator.clipboard.writeText(e),this.copied=!0,setTimeout(()=>this.copied=!1,2e3)}resetPaging(){this.offset=0,this.total=0}applyFilter(){this.contextFilter.set(this.contextFilterValue),this.offset=0,this.loadDisclosures()}clearFilter(){this.contextFilter.set(""),this.contextFilterValue="",this.offset=0,this.loadDisclosures()}loadDisclosures(){if(!this.wallet.address)return;this.loading=!0;let e=`did:ethr:${this.wallet.address}`,t=this.contextFilter().trim()||void 0;this.api.getDisclosuresBySubject(e,this.limit,this.offset,t).subscribe({next:n=>{this.disclosures=n.rows||n.disclosures||[],this.total=n.totalDisclosures||n.total||this.disclosures.length,this.loading=!1}})}nextPage(){this.offset+this.limit<this.total&&(this.offset+=this.limit,this.loadDisclosures())}prevPage(){this.offset>0&&(this.offset-=this.limit,this.loadDisclosures())}exportDisclosures(){if(!this.wallet.address)return;let e=`did:ethr:${this.wallet.address}`;this.api.exportDisclosures(e).subscribe({next:t=>{let n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),c=window.URL.createObjectURL(n),d=document.createElement("a");d.href=c,d.download=`disclosure-report-${this.wallet.address?.substring(0,8)}-${Date.now()}.json`,d.click(),window.URL.revokeObjectURL(c)},error:()=>alert("Failed to export disclosures")})}static \u0275fac=function(t){return new(t||i)(u(ce),u(Le))};static \u0275cmp=E({type:i,selectors:[["app-disclosures"]],standalone:!0,features:[D],decls:17,vars:5,consts:[["connectPrompt",""],[1,"disclosures-page"],[1,"page-header"],[1,"subtitle"],["appearance","outlined",1,"wallet-card","glass-card"],["mat-card-avatar","",1,"header-icon"],[4,"ngIf","ngIfElse"],["class","table-card glass-card","appearance","outlined",4,"ngIf"],[1,"connected-state"],[1,"did-display"],["mat-icon-button","","matTooltip","Copy DID",3,"click"],[1,"status-pill","success"],[1,"connect-prompt"],[1,"prompt-icon"],[1,"muted"],["mat-raised-button","","color","primary",3,"click","disabled"],[4,"ngIf"],["diameter","20",4,"ngIf"],["diameter","20"],["appearance","outlined",1,"table-card","glass-card"],["class","record-badge",4,"ngIf"],[1,"filter-bar"],["appearance","outline",1,"filter-input"],["matInput","","placeholder","e.g. profile, kyc, identity",3,"ngModelChange","ngModel"],["mat-raised-button","","color","primary",1,"filter-btn",3,"click"],["mat-stroked-button","",1,"clear-btn",3,"click"],["class","loading-state",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","table-scroll",4,"ngIf"],["class","pagination",4,"ngIf"],["class","export-area",4,"ngIf"],[1,"record-badge"],[1,"loading-state"],["diameter","56"],[1,"state-text"],[1,"empty-state"],[1,"empty-icon"],[1,"table-scroll"],["mat-table","",1,"disclosure-table",3,"dataSource"],["matColumnDef","verifier"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","claim"],["matColumnDef","context"],["matColumnDef","purpose"],["matColumnDef","consent"],["matColumnDef","date"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[1,"verifier-did"],[1,"context-badge"],[1,"purpose"],[3,"color","matTooltip"],["mat-header-row",""],["mat-row",""],[1,"pagination"],["mat-icon-button","",3,"click","disabled"],[1,"page-info"],[1,"export-area"],["mat-raised-button","","color","accent",1,"export-btn",3,"click"]],template:function(t,n){if(t&1&&(a(0,"div",1)(1,"div",2)(2,"h1"),r(3,"Disclosure History"),o(),a(4,"p",3),r(5," Track every time your data was shared \u2014 who, when, why, and with what consent. "),o()(),a(6,"mat-card",4)(7,"mat-card-header")(8,"mat-icon",5),r(9,"shield"),o(),a(10,"mat-card-title"),r(11,"Your Identity"),o()(),a(12,"mat-card-content"),h(13,gl,16,10,"ng-container",6)(14,bl,11,4,"ng-template",null,0,Se),o()(),h(16,Nl,22,7,"mat-card",7),o()),t&2){let c=q(15);O("dark",n.darkMode()),s(13),m("ngIf",n.wallet.address)("ngIfElse",c),s(3),m("ngIf",n.wallet.address)}},dependencies:[ne,ue,ot,pn,we,De,Ce,Te,_e,fe,ge,he,Re,lr,Za,tr,ar,nr,er,rr,ir,or,cr,sr,Me,ke,Xe,$e,rt,Ke,Je,Ye,ye,Fe,Be,Ve,Ae,Ne,ze],styles:["[_nghost-%COMP%]{display:block;min-height:100vh}.disclosures-page[_ngcontent-%COMP%]{padding:clamp(24px,4vw,48px) clamp(16px,5vw,64px);max-width:1200px;margin:0 auto;transition:background .6s ease}.disclosures-page.dark[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#0f0f1a,#0a0a14);color:#e2e8f0}.page-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:clamp(32px,6vw,64px)}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:clamp(2.2rem,5.5vw,3.8rem);font-weight:800;background:linear-gradient(135deg,#6366f1,#a78bfa);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin:0 0 8px}.subtitle[_ngcontent-%COMP%]{font-size:1.15rem;color:#94a3b8;max-width:720px;margin:0 auto;line-height:1.6}.wallet-card[_ngcontent-%COMP%]{border-radius:24px;background:#ffffffc7;-webkit-backdrop-filter:blur(16px) saturate(180%);backdrop-filter:blur(16px) saturate(180%);border:1px solid rgba(226,232,240,.4);margin-bottom:32px}.disclosures-page.dark[_ngcontent-%COMP%]   .wallet-card[_ngcontent-%COMP%]{background:#1e293b7a;border-color:#64748b4d}.header-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6366f1,#a78bfa);color:#fff;border-radius:14px}.connected-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;padding:16px 0}.did-display[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:14px 18px;background:#e2e8f066;border-radius:14px}.disclosures-page.dark[_ngcontent-%COMP%]   .did-display[_ngcontent-%COMP%]{background:#1e293b8c}.did-display[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-family:JetBrains Mono,monospace;color:#1d4ed8;font-size:1rem}.disclosures-page.dark[_ngcontent-%COMP%]   .did-display[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{color:#c7d2fe}.status-pill[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:10px 16px;border-radius:999px;font-size:.95rem}.status-pill.success[_ngcontent-%COMP%]{background:#22c55e26;color:#166534}.disclosures-page.dark[_ngcontent-%COMP%]   .status-pill.success[_ngcontent-%COMP%]{background:#22c55e40;color:#86efac}.connect-prompt[_ngcontent-%COMP%]{text-align:center;padding:48px 24px;color:#94a3b8}.prompt-icon[_ngcontent-%COMP%]{font-size:64px;height:64px;width:64px;margin-bottom:16px;opacity:.7}.table-card[_ngcontent-%COMP%]{border-radius:24px;background:#ffffffc7;-webkit-backdrop-filter:blur(16px) saturate(180%);backdrop-filter:blur(16px) saturate(180%);border:1px solid rgba(226,232,240,.4);overflow:hidden}.disclosures-page.dark[_ngcontent-%COMP%]   .table-card[_ngcontent-%COMP%]{background:#1e293b7a;border-color:#64748b4d}.filter-bar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;margin-bottom:24px;flex-wrap:wrap}.filter-input[_ngcontent-%COMP%]{flex:1;min-width:240px}.filter-btn[_ngcontent-%COMP%], .clear-btn[_ngcontent-%COMP%]{height:56px}.table-scroll[_ngcontent-%COMP%]{max-height:520px;overflow-y:auto;overflow-x:auto;border-radius:12px}.disclosure-table[_ngcontent-%COMP%]{width:100%}.disclosure-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#e2e8f080;color:#1e293b;font-weight:600;position:sticky;top:0;z-index:2;padding:14px 16px}.disclosures-page.dark[_ngcontent-%COMP%]   .disclosure-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#1e293bcc;color:#f1f5f9}.disclosure-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:16px;vertical-align:middle;border-bottom:1px solid rgba(226,232,240,.3)}.disclosures-page.dark[_ngcontent-%COMP%]   .disclosure-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-color:#64748b4d}.verifier-did[_ngcontent-%COMP%]{font-family:JetBrains Mono,monospace;color:#1d4ed8}.disclosures-page.dark[_ngcontent-%COMP%]   .verifier-did[_ngcontent-%COMP%]{color:#c7d2fe}.context-badge[_ngcontent-%COMP%], .purpose[_ngcontent-%COMP%]{padding:6px 14px;border-radius:999px;font-size:.85rem;font-weight:500}.context-badge[_ngcontent-%COMP%]{background:#6366f11a;color:#6366f1}.disclosures-page.dark[_ngcontent-%COMP%]   .context-badge[_ngcontent-%COMP%]{background:#6366f133;color:#a5b4fc}.purpose[_ngcontent-%COMP%]{background:#6366f114;color:#4f46e5}.disclosures-page.dark[_ngcontent-%COMP%]   .purpose[_ngcontent-%COMP%]{background:#6366f126;color:#c7d2fe}.pagination[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;justify-content:center;margin-top:24px;padding:16px}.page-info[_ngcontent-%COMP%]{font-weight:500;color:#64748b}.disclosures-page.dark[_ngcontent-%COMP%]   .page-info[_ngcontent-%COMP%]{color:#94a3b8}.export-area[_ngcontent-%COMP%]{text-align:right;margin-top:32px}.export-btn[_ngcontent-%COMP%]{height:56px;font-size:1rem}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:20px;padding:100px 0}.state-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;color:#1e293b}.disclosures-page.dark[_ngcontent-%COMP%]   .state-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#f1f5f9}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:100px 32px}.empty-icon[_ngcontent-%COMP%]{font-size:96px;height:96px;width:96px;color:#94a3b8;margin-bottom:24px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#1e293b;margin:0 0 12px}.disclosures-page.dark[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#f1f5f9}.disclosures-page.dark[_ngcontent-%COMP%]   .mat-mdc-form-field-label[_ngcontent-%COMP%], .disclosures-page.dark[_ngcontent-%COMP%]   .mat-mdc-form-field-hint[_ngcontent-%COMP%], .disclosures-page.dark[_ngcontent-%COMP%]   .mat-mdc-input-element[_ngcontent-%COMP%]::placeholder{color:#94a3b8!important;opacity:1!important}.disclosures-page.dark[_ngcontent-%COMP%]   .mat-mdc-form-field.mat-focused[_ngcontent-%COMP%]   .mat-mdc-form-field-label[_ngcontent-%COMP%]{color:#a5b4fc!important}.disclosures-page.dark[_ngcontent-%COMP%]   .mat-mdc-input-element[_ngcontent-%COMP%]{color:#f1f5f9!important}@media (max-width: 960px){.disclosures-page[_ngcontent-%COMP%]{padding:32px 32px 80px}.filter-bar[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.filter-input[_ngcontent-%COMP%]{width:100%}}@media (max-width: 600px){.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.4rem}.table-scroll[_ngcontent-%COMP%]{max-height:400px}}"]})}return i})();function Ll(i,l){i&1&&(a(0,"mat-icon"),r(1,"wallet"),o())}function jl(i,l){i&1&&y(0,"mat-spinner",12)}function Hl(i,l){if(i&1){let e=k();L(0),a(1,"mat-card",5)(2,"mat-card-content",6)(3,"mat-icon",7),r(4,"account_balance_wallet"),o(),a(5,"h2"),r(6,"Wallet Connection Required"),o(),a(7,"p",8),r(8," Connect your wallet to access verification tools for DIDs, VCs, and on-chain identity state. "),o(),a(9,"button",9),b("click",function(){f(e);let n=p();return _(n.connectWallet())}),h(10,Ll,2,0,"mat-icon",10)(11,jl,1,0,"mat-spinner",11),a(12,"span"),r(13),o()()()(),j()}if(i&2){let e=p();s(9),m("disabled",e.connecting),s(),m("ngIf",!e.connecting),s(),m("ngIf",e.connecting),s(2),S(e.connecting?"Connecting...":"Connect Wallet")}}function Wl(i,l){i&1&&(a(0,"mat-icon"),r(1,"travel_explore"),o())}function Ul(i,l){i&1&&y(0,"mat-spinner",12)}function Gl(i,l){i&1&&(a(0,"mat-icon"),r(1,"security"),o())}function ql(i,l){i&1&&y(0,"mat-spinner",12)}function Ql(i,l){if(i&1&&(a(0,"mat-card",30)(1,"mat-card-header")(2,"mat-icon",31),r(3),o(),a(4,"mat-card-title"),r(5,"Result"),o(),a(6,"mat-card-subtitle"),r(7),o()(),a(8,"mat-card-content")(9,"pre",32),r(10),I(11,"json"),o()()()),i&2){let e=p(2);s(2),m("color",e.isSuccessResult()?"primary":"warn"),s(),M(" ",e.isSuccessResult()?"task_alt":"warning"," "),s(4),M(" ",e.currentTool==="resolve"?"DID Resolution":"Credential Verification"," "),s(3),S(z(11,4,e.result))}}function $l(i,l){i&1&&(a(0,"mat-card",33)(1,"mat-icon",34),r(2,"analytics"),o(),a(3,"h3"),r(4,"No operation performed yet"),o(),a(5,"p",8),r(6," Use the tools above to resolve a DID or verify a credential. "),o()())}function Yl(i,l){if(i&1){let e=k();a(0,"mat-tab-group",13)(1,"mat-tab",14)(2,"div",15)(3,"mat-card",16)(4,"mat-card-header")(5,"mat-icon",17),r(6,"search"),o(),a(7,"mat-card-title"),r(8,"Resolve Decentralized Identifier"),o()(),a(9,"mat-card-content")(10,"p",18),r(11," Enter a full DID (e.g., 0x...) to retrieve its current document and profile state from the resolver. "),o(),a(12,"mat-form-field",19)(13,"mat-label"),r(14,"DID to Resolve"),o(),a(15,"input",20),te("ngModelChange",function(n){f(e);let c=p();return ee(c.did,n)||(c.did=n),_(n)}),o(),a(16,"mat-icon",21),r(17,"badge"),o(),a(18,"mat-hint"),r(19,"Same as wallet address"),o()(),a(20,"div",22)(21,"button",9),b("click",function(){f(e);let n=p();return _(n.resolve())}),h(22,Wl,2,0,"mat-icon",10)(23,Ul,1,0,"mat-spinner",11),a(24,"span"),r(25),o()()()()()()(),a(26,"mat-tab",23)(27,"div",15)(28,"mat-card",16)(29,"mat-card-header")(30,"mat-icon",17),r(31,"verified"),o(),a(32,"mat-card-title"),r(33,"Verify Verifiable Credential"),o()(),a(34,"mat-card-content")(35,"p",18),r(36," Paste a full Verifiable Credential (VC) JSON to cryptographically verify its signature, on-chain anchoring, and GDPR consent rules. "),o(),a(37,"div",24)(38,"mat-icon",25),r(39,"lightbulb"),o(),a(40,"div")(41,"strong"),r(42,"How to get the full VC for verification:"),o(),a(43,"ol")(44,"li"),r(45,"Go to "),a(46,"strong"),r(47,"Credentials \u2192 Issue Credential"),o()(),a(48,"li"),r(49,"Issue any credential (e.g., identity.email in any context)"),o(),a(50,"li"),r(51,"After success, copy the "),a(52,"strong"),r(53,"gatewayUrl"),o(),r(54," from the result panel"),o(),a(55,"li"),r(56,"Open that URL in a new browser tab"),o(),a(57,"li"),r(58,"Copy the entire JSON displayed there \u2014 this is the "),a(59,"em"),r(60,"full signed VC"),o()(),a(61,"li"),r(62,"Paste it here and click Verify"),o()(),y(63,"br"),a(64,"strong"),r(65,"Note:"),o(),r(66," The backend response contains metadata (cid, txHash, etc.), but the "),a(67,"em"),r(68,"actual VC"),o(),r(69," is stored on IPFS and retrieved via the gateway URL. "),o()(),a(70,"mat-form-field",19)(71,"mat-label"),r(72,"VC JSON"),o(),a(73,"textarea",26),te("ngModelChange",function(n){f(e);let c=p();return ee(c.verifyPayload,n)||(c.verifyPayload=n),_(n)}),o(),a(74,"mat-icon",21),r(75,"code"),o(),a(76,"mat-hint"),r(77,"Full VC from IPFS gateway (includes proof and pimv.claimId)"),o()(),a(78,"div",22)(79,"button",27),b("click",function(){f(e);let n=p();return _(n.verify())}),h(80,Gl,2,0,"mat-icon",10)(81,ql,1,0,"mat-spinner",11),a(82,"span"),r(83),o()()()()()()()(),h(84,Ql,12,6,"mat-card",28)(85,$l,7,0,"mat-card",29)}if(i&2){let e=p();s(15),Z("ngModel",e.did),s(6),m("disabled",!e.did.trim()||e.resolving),s(),m("ngIf",!e.resolving),s(),m("ngIf",e.resolving),s(2),S(e.resolving?"Resolving...":"Resolve DID"),s(48),Z("ngModel",e.verifyPayload),s(6),m("disabled",!e.verifyPayload.trim()||e.verifying),s(),m("ngIf",!e.verifying),s(),m("ngIf",e.verifying),s(2),S(e.verifying?"Verifying...":"Verify Credential"),s(),m("ngIf",e.result),s(),m("ngIf",!e.result&&!e.resolving&&!e.verifying)}}var mr=(()=>{class i{api;did="";verifyPayload="";result=null;cid="";resolving=!1;verifying=!1;currentTool=null;connecting=!1;wallet=C(ce);themeService=C(be);darkMode=this.themeService.darkMode;constructor(e){this.api=e}connectWallet(){return T(this,null,function*(){this.connecting=!0;try{yield this.wallet.connect()}catch(e){alert(e.message||"Wallet connection failed")}finally{this.connecting=!1}})}resolve(){if(!this.did.trim()){alert("Please enter a valid DID");return}this.resolving=!0,this.result=null,this.currentTool="resolve",this.api.resolveDID(this.did.trim()).subscribe({next:e=>{this.result=e,this.resolving=!1},error:e=>{this.result=e.error||{error:"Resolution failed",details:e.message||e},this.resolving=!1}})}verify(){if(!this.verifyPayload.trim()){alert("Please paste a valid VC JSON");return}let e;try{e=JSON.parse(this.verifyPayload)}catch{alert("Invalid JSON format");return}this.cid.trim()&&(e.cid=this.cid.trim()),this.verifying=!0,this.result=null,this.currentTool="verify",this.api.validateRawVC(e).subscribe({next:t=>{this.result=t,this.verifying=!1},error:t=>{this.result=t.error||{error:"Validation failed",details:t.message},this.verifying=!1}})}isSuccessResult(){return this.result&&!this.result.error}static \u0275fac=function(t){return new(t||i)(u(Le))};static \u0275cmp=E({type:i,selectors:[["app-advanced"]],standalone:!0,features:[D],decls:9,vars:4,consts:[["mainContent",""],[1,"advanced-container"],[1,"advanced-header"],[1,"subtitle"],[4,"ngIf","ngIfElse"],["appearance","outlined",1,"card","elevated","connect-card"],[1,"connect-content"],[1,"wallet-icon"],[1,"muted"],["mat-raised-button","","color","primary",3,"click","disabled"],[4,"ngIf"],["diameter","20",4,"ngIf"],["diameter","20"],["animationDuration","300ms",1,"tools-tabs"],["label","Resolve DID"],[1,"tab-content"],["appearance","outlined",1,"card","elevated"],["mat-card-avatar","",1,"header-icon"],[1,"hint"],["appearance","outline",1,"full-width"],["matInput","","placeholder","0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266",3,"ngModelChange","ngModel"],["matSuffix",""],[1,"actions"],["label","Verify Credential"],[1,"hint-box"],["inline",""],["matInput","","rows","14","placeholder",`{
  "@context": ["https://www.w3.org/2018/credentials/v1"],
  "type": ["VerifiableCredential"],
  "issuer": "did:ethr:0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266",
  "issuanceDate": "2025-12-24T...",
  "credentialSubject": { ... },
  "proof": { ... },
  "pimv": { "context": "personal", "claimId": "identity.email", ... }
}`,3,"ngModelChange","ngModel"],["mat-raised-button","","color","accent",3,"click","disabled"],["class","card elevated result-card","appearance","outlined",4,"ngIf"],["class","card elevated empty-state","appearance","outlined",4,"ngIf"],["appearance","outlined",1,"card","elevated","result-card"],["mat-card-avatar","",1,"header-icon",3,"color"],[1,"result-pre"],["appearance","outlined",1,"card","elevated","empty-state"],[1,"empty-icon"]],template:function(t,n){if(t&1&&(a(0,"div",1)(1,"div",2)(2,"h1"),r(3,"Advanced Identity Tools"),o(),a(4,"p",3),r(5," Expert-level diagnostic and verification tools for DIDs, VCs, and on-chain identity state. Use with caution \u2014 intended for developers and auditors. "),o()(),h(6,Hl,14,4,"ng-container",4)(7,Yl,86,12,"ng-template",null,0,Se),o()),t&2){let c=q(8);O("dark",n.darkMode()),s(6),m("ngIf",!n.wallet.address)("ngIfElse",c)}},dependencies:[ne,ue,it,we,De,Ce,Te,_e,fe,ge,he,Be,Ve,Ae,Qe,xn,Ne,ze,Xe,$e,rt,Ke,Je,vn,Ye,ti,Zn,ei,ye,Me,ke],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;min-height:100vh}.advanced-container[_ngcontent-%COMP%]{padding:32px 40px 80px;max-width:960px;margin:0 auto;transition:background .4s ease}.advanced-container.dark[_ngcontent-%COMP%]{background:#0f0f1a;color:#e2e8f0}.advanced-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:48px}h1[_ngcontent-%COMP%]{font-size:2.8rem;font-weight:800;background:linear-gradient(135deg,#6366f1,#a78bfa);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin:0 0 16px;letter-spacing:-.6px}.subtitle[_ngcontent-%COMP%]{font-size:1.15rem;color:var(--text-secondary, #94a3b8);max-width:760px;margin:0 auto;line-height:1.6}.card[_ngcontent-%COMP%]{background:var(--card-bg, white);border-radius:20px;margin-bottom:32px;border:1px solid var(--card-border, #e2e8f0);transition:all .3s cubic-bezier(.4,0,.2,1)}.advanced-container.dark[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background:#1e293ba6;border-color:#2d2d44;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.elevated[_ngcontent-%COMP%]{box-shadow:0 10px 30px #00000017}.advanced-container.dark[_ngcontent-%COMP%]   .elevated[_ngcontent-%COMP%]{box-shadow:0 12px 40px #00000073}.card[_ngcontent-%COMP%]:hover{transform:translateY(-6px);box-shadow:0 20px 50px #00000024}.advanced-container.dark[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover{box-shadow:0 20px 60px #0000008c}mat-card-header[_ngcontent-%COMP%]{align-items:center;margin-bottom:24px}.header-icon[_ngcontent-%COMP%]{font-size:32px;width:52px;height:52px;display:flex;align-items:center;justify-content:center;background:var(--icon-bg, rgba(99, 102, 241, .12));border-radius:14px;color:#6366f1}.advanced-container.dark[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{background:#6366f147;color:#a5b4fc}.connect-card[_ngcontent-%COMP%]{max-width:520px;margin:80px auto;text-align:center}.connect-content[_ngcontent-%COMP%]{padding:48px 32px}.wallet-icon[_ngcontent-%COMP%]{font-size:72px;width:72px;height:72px;color:#6366f1;margin-bottom:32px}.connect-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 20px;font-size:1.8rem;font-weight:700;color:var(--text-primary)}.advanced-container.dark[_ngcontent-%COMP%]   .connect-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#f1f5f9}.tab-content[_ngcontent-%COMP%]{padding:32px 0}.tools-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-body-content{padding:0}.full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.hint[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.95rem;margin-bottom:24px;line-height:1.5}.hint-box[_ngcontent-%COMP%]{display:flex;gap:16px;background:var(--hint-bg, #f0f9ff);border:1px solid #bae6fd;padding:20px;border-radius:14px;margin:20px 0 28px;font-size:.98rem;color:var(--hint-text, #0c4a6e);align-items:flex-start}.advanced-container.dark[_ngcontent-%COMP%]   .hint-box[_ngcontent-%COMP%]{background:#0e4a6e26;border-color:#0e4a6e73;color:#bae6fd}.hint-box[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#0288d1;margin-top:4px;flex-shrink:0}.advanced-container.dark[_ngcontent-%COMP%]   .hint-box[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#7dd3fc}.hint-box[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{margin:12px 0 0;padding-left:24px}.hint-box[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:var(--code-bg, #e0f2fe);padding:2px 6px;border-radius:6px;font-size:.92rem}.advanced-container.dark[_ngcontent-%COMP%]   .hint-box[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:#1e293b99}.actions[_ngcontent-%COMP%]{text-align:right;margin-top:28px}.result-card[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{background:var(--code-bg, #1e1e1e);color:#9cdcfe;padding:20px;border-radius:14px;overflow-x:auto;font-size:.95rem;margin:0}.advanced-container.dark[_ngcontent-%COMP%]   .result-card[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{background:#0d1117;color:#c9d1d9}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:80px 32px}.empty-icon[_ngcontent-%COMP%]{font-size:80px;width:100px;height:100px;color:var(--text-secondary);margin-bottom:24px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--text-primary);margin:0 0 16px;font-size:1.6rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:560px;margin:0 auto;font-size:1.05rem}.muted[_ngcontent-%COMP%]{color:var(--text-secondary)}.advanced-container.dark[_ngcontent-%COMP%]   .mat-mdc-form-field-label[_ngcontent-%COMP%], .advanced-container.dark[_ngcontent-%COMP%]   .mat-mdc-form-field-hint[_ngcontent-%COMP%], .advanced-container.dark[_ngcontent-%COMP%]   .mat-mdc-input-element[_ngcontent-%COMP%]::placeholder{color:#94a3b8!important;opacity:1!important}.advanced-container.dark[_ngcontent-%COMP%]   .mat-mdc-form-field.mat-focused[_ngcontent-%COMP%]   .mat-mdc-form-field-label[_ngcontent-%COMP%]{color:#a5b4fc!important}.advanced-container.dark[_ngcontent-%COMP%]   .mat-mdc-input-element[_ngcontent-%COMP%], .advanced-container.dark[_ngcontent-%COMP%]   textarea.mat-mdc-input-element[_ngcontent-%COMP%]{color:#f1f5f9!important}.advanced-container.dark[_ngcontent-%COMP%]   .mat-mdc-form-field-underline[_ngcontent-%COMP%], .advanced-container.dark[_ngcontent-%COMP%]   .mat-mdc-form-field-ripple[_ngcontent-%COMP%]{background-color:#6366f1!important}.advanced-container.dark[_ngcontent-%COMP%]   .mat-mdc-form-field-disabled[_ngcontent-%COMP%]   .mat-mdc-form-field-label[_ngcontent-%COMP%], .advanced-container.dark[_ngcontent-%COMP%]   .mat-mdc-form-field-disabled[_ngcontent-%COMP%]   .mat-mdc-input-element[_ngcontent-%COMP%]{color:#6b7280!important}@media (max-width: 960px){.advanced-container[_ngcontent-%COMP%]{padding:24px 28px 64px}.advanced-header[_ngcontent-%COMP%]{margin-bottom:40px}h1[_ngcontent-%COMP%]{font-size:clamp(1.8rem,3vw + 1rem,2.4rem)}.subtitle[_ngcontent-%COMP%]{font-size:1.05rem;max-width:620px}.card[_ngcontent-%COMP%]{border-radius:18px}.connect-card[_ngcontent-%COMP%]{margin:60px auto}.connect-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.6rem}.wallet-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px}.hint-box[_ngcontent-%COMP%]{gap:12px;padding:16px}.empty-state[_ngcontent-%COMP%]{padding:64px 24px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.4rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;max-width:480px}}@media (max-width: 480px){.advanced-container[_ngcontent-%COMP%]{padding:16px 16px 48px}.advanced-header[_ngcontent-%COMP%]{margin-bottom:28px}h1[_ngcontent-%COMP%]{font-size:clamp(1.4rem,4vw + 1rem,2rem);text-align:center}.subtitle[_ngcontent-%COMP%]{font-size:1rem;text-align:center;line-height:1.5;max-width:100%}.card[_ngcontent-%COMP%]{border-radius:16px}.card[_ngcontent-%COMP%]:hover{transform:none}.connect-card[_ngcontent-%COMP%]{margin:40px auto}.connect-content[_ngcontent-%COMP%]{padding:32px 20px}.wallet-icon[_ngcontent-%COMP%]{font-size:56px;width:56px;height:56px;margin-bottom:24px}.connect-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.4rem}.actions[_ngcontent-%COMP%]{text-align:center}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{width:100%;justify-content:center}.result-card[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{font-size:.9rem;padding:16px}.hint-box[_ngcontent-%COMP%]{flex-direction:column;gap:10px;padding:16px}.hint-box[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{padding-left:20px;margin-top:8px}.empty-state[_ngcontent-%COMP%]{padding:48px 16px}.empty-icon[_ngcontent-%COMP%]{font-size:64px;width:80px;height:80px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem;max-width:400px}.hint[_ngcontent-%COMP%]{margin-bottom:16px}}@media (max-width: 320px){h1[_ngcontent-%COMP%]{font-size:1.3rem}.subtitle[_ngcontent-%COMP%]{font-size:.9rem}.connect-content[_ngcontent-%COMP%]{padding:24px 14px}.connect-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.2rem}.wallet-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px}.hint-box[_ngcontent-%COMP%]{padding:12px;font-size:.9rem}.hint-box[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-size:.85rem}.result-card[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{font-size:.85rem;padding:12px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.15rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{padding:10px 14px;font-size:.9rem}}']})}return i})();function Kl(i,l){i&1&&(a(0,"mat-icon"),r(1,"wallet"),o())}function Jl(i,l){i&1&&y(0,"mat-spinner",13)}function Xl(i,l){if(i&1){let e=k();L(0),a(1,"mat-card",6)(2,"mat-card-content",7)(3,"mat-icon",8),r(4,"account_balance_wallet"),o(),a(5,"h2"),r(6,"Wallet Connection Required"),o(),a(7,"p",9),r(8," Connect your wallet to create secure, purpose-bound credential verification requests. "),o(),a(9,"button",10),b("click",function(){f(e);let n=p();return _(n.connectWallet())}),h(10,Kl,2,0,"mat-icon",11)(11,Jl,1,0,"mat-spinner",12),a(12,"span"),r(13),o()()()(),j()}if(i&2){let e=p();s(9),m("disabled",e.connecting),s(),m("ngIf",!e.connecting),s(),m("ngIf",e.connecting),s(2),S(e.connecting?"Connecting...":"Connect Wallet")}}function Zl(i,l){i&1&&(a(0,"mat-error"),r(1," Invalid DID format. Expected: "),a(2,"code"),r(3,"did:ethr:0x<40 hex chars>"),o()())}function ed(i,l){i&1&&(a(0,"mat-error"),r(1," Invalid DID format. Expected: "),a(2,"code"),r(3,"did:ethr:0x<40 hex chars>"),o()())}function td(i,l){if(i&1&&(a(0,"mat-option",36),r(1),I(2,"titlecase"),o()),i&2){let e=l.$implicit;m("value",e),s(),M(" ",z(2,2,e)," ")}}function nd(i,l){i&1&&(a(0,"mat-error"),r(1," Context is required "),o())}function id(i,l){i&1&&(a(0,"span",41),r(1," Latest "),o())}function od(i,l){if(i&1&&(a(0,"span",42),r(1),o()),i&2){let e=p().$implicit,t=p(2);s(),M(" \u2022 ",t.getRelativeTime(e.issued_at)," ")}}function ad(i,l){if(i&1&&(a(0,"mat-option",36)(1,"div",37)(2,"span",38),r(3),h(4,id,2,0,"span",39),o(),a(5,"small",9),r(6),y(7,"br"),r(8),h(9,od,2,1,"span",40),o()()()),i&2){let e=l.$implicit,t=p(2);m("value",e.purpose),s(3),M("",e.purpose," "),s(),m("ngIf",t.isLatest(e)),s(2),M(" Claim ID: ",e.claim_id," "),s(2),M(" Context: ",e.context," "),s(),m("ngIf",e.issued_at)}}function rd(i,l){i&1&&(a(0,"mat-hint",43),r(1," Select a context first to see relevant purpose suggestions "),o())}function cd(i,l){if(i&1&&(a(0,"mat-hint",44),r(1," No previous purposes found for "),a(2,"strong"),r(3),I(4,"titlecase"),o(),r(5,"."),y(6,"br"),r(7," A consented VC must be issued first in this context by the issuer. "),o()),i&2){let e,t=p(2);s(3),S(z(4,1,(e=t.form.get("context"))==null?null:e.value))}}function sd(i,l){if(i&1&&(a(0,"mat-option",36),r(1),o()),i&2){let e=l.$implicit;m("value",e),s(),M(" ",e," ")}}function ld(i,l){i&1&&(a(0,"mat-option",51),r(1," No claims available "),o())}function dd(i,l){i&1&&(a(0,"mat-error"),r(1," Claim ID is required "),o())}function md(i,l){i&1&&(a(0,"mat-hint"),r(1," No credentials found in this context "),o())}function pd(i,l){i&1&&(a(0,"mat-error"),r(1," CID is required "),o())}function ud(i,l){if(i&1){let e=k();a(0,"div",45)(1,"mat-form-field",46)(2,"mat-label"),r(3,"Claim ID"),o(),a(4,"mat-select",47),h(5,sd,2,2,"mat-option",22)(6,ld,2,0,"mat-option",48),o(),h(7,dd,2,0,"mat-error",11)(8,md,2,0,"mat-hint",11),o(),a(9,"mat-form-field",46)(10,"mat-label"),r(11,"Content Identifier (CID)"),o(),y(12,"input",49),h(13,pd,2,0,"mat-error",11),o(),a(14,"button",50),b("click",function(){let n=f(e).index,c=p(2);return _(c.removeCredential(n))}),a(15,"mat-icon"),r(16,"delete_outline"),o()()()}if(i&2){let e,t,n,c=l.$implicit,d=l.index,g=p(2);m("formGroupName",d),s(5),m("ngForOf",g.filteredClaimIdsByContext()),s(),m("ngIf",g.filteredClaimIdsByContext().length===0),s(),m("ngIf",(e=c.get("claimId"))==null?null:e.hasError("required")),s(),m("ngIf",((t=g.form.get("context"))==null?null:t.value)&&g.filteredClaimIdsByContext().length===0),s(5),m("ngIf",(n=c.get("cid"))==null?null:n.hasError("required"))}}function hd(i,l){i&1&&y(0,"mat-spinner",13)}function gd(i,l){i&1&&(a(0,"span"),r(1,"Request & Verify"),o())}function fd(i,l){i&1&&(a(0,"span"),r(1,"Processing..."),o())}function _d(i,l){if(i&1&&(a(0,"div",52)(1,"h3"),r(2,"Request Successful"),o(),a(3,"pre"),r(4),I(5,"json"),o()()),i&2){let e=p(2);s(4),S(z(5,1,e.result))}}function bd(i,l){if(i&1&&(a(0,"div",53)(1,"h3"),r(2,"Error"),o(),a(3,"p"),r(4),o()()),i&2){let e=p(2);s(4),S(e.error)}}function xd(i,l){i&1&&(a(0,"div",9),y(1,"mat-spinner",57),r(2," Loading audit trail\u2026 "),o())}function vd(i,l){if(i&1&&(a(0,"div",58),r(1),o()),i&2){let e=p(3);s(),M(" ",e.auditError," ")}}function Cd(i,l){i&1&&(a(0,"div",9),r(1," No disclosures recorded yet for this verifier DID. "),o())}function wd(i,l){if(i&1&&(a(0,"div",61)(1,"div",62)(2,"strong"),r(3,"Subject:"),o(),y(4,"br"),a(5,"code"),r(6),o()(),a(7,"div",62)(8,"strong"),r(9,"Claim:"),o(),y(10,"br"),r(11),o(),a(12,"div",62)(13,"strong"),r(14,"Purpose:"),o(),y(15,"br"),r(16),o(),a(17,"div",62)(18,"strong"),r(19,"Context:"),o(),y(20,"br"),r(21),o(),a(22,"div",62)(23,"strong"),r(24,"Disclosed:"),o(),y(25,"br"),r(26),o(),a(27,"mat-icon",63),r(28," verified "),o()()),i&2){let e=l.$implicit,t=p(4);s(6),S(e.subject_did),s(5),M(" ",e.claim_id," "),s(5),M(" ",e.purpose," "),s(5),M(" ",e.context," "),s(5),M(" ",t.getRelativeTime(e.disclosed_at)," ")}}function yd(i,l){if(i&1&&(a(0,"div"),y(1,"mat-divider",59),h(2,wd,29,5,"div",60),o()),i&2){let e=p(3);s(2),m("ngForOf",e.verifierAudit)}}function kd(i,l){if(i&1&&(a(0,"mat-card",54)(1,"mat-card-header")(2,"mat-icon",15),r(3,"policy"),o(),a(4,"mat-card-title"),r(5,"Verifier Disclosure Audit Trail"),o(),a(6,"mat-card-subtitle"),r(7," GDPR accountability \u2014 disclosures you have received as a verifier "),o()(),a(8,"mat-card-content"),h(9,xd,3,0,"div",55)(10,vd,2,1,"div",56)(11,Cd,2,0,"div",55)(12,yd,3,1,"div",11),o()()),i&2){let e=p(2);s(9),m("ngIf",e.auditLoading),s(),m("ngIf",e.auditError),s(),m("ngIf",!e.auditLoading&&e.verifierAudit.length===0),s(),m("ngIf",e.verifierAudit.length>0)}}function Md(i,l){if(i&1){let e=k();a(0,"mat-card",14)(1,"mat-card-header")(2,"mat-icon",15),r(3,"verified_user"),o(),a(4,"mat-card-title"),r(5,"Credential Verification Request"),o(),a(6,"mat-card-subtitle"),r(7," Request verifiable credentials with explicit purpose and consent tracking. "),o()(),a(8,"mat-card-content")(9,"form",16),b("ngSubmit",function(){f(e);let n=p();return _(n.submit())}),a(10,"mat-form-field",17)(11,"mat-label"),r(12,"Subject DID"),o(),y(13,"input",18),h(14,Zl,4,0,"mat-error",11),o(),a(15,"mat-form-field",17)(16,"mat-label"),r(17,"Verifier DID (your DID)"),o(),y(18,"input",19),h(19,ed,4,0,"mat-error",11),o(),a(20,"mat-form-field",17)(21,"mat-label"),r(22,"Disclosure Context"),o(),a(23,"mat-select",20)(24,"mat-option",21),r(25,"-- Select context --"),o(),h(26,td,3,4,"mat-option",22),o(),h(27,nd,2,0,"mat-error",11),o(),a(28,"mat-form-field",17)(29,"mat-label"),r(30,"Purpose of Disclosure"),o(),y(31,"input",23),a(32,"mat-autocomplete",null,1),h(34,ad,10,6,"mat-option",22),o(),h(35,rd,2,0,"mat-hint",24)(36,cd,8,3,"mat-hint",25),o(),a(37,"mat-checkbox",26),r(38," I confirm this request is lawful, necessary, and respects data minimization principles. "),o(),y(39,"mat-divider",27),a(40,"h3"),r(41,"Requested Credentials"),o(),a(42,"div",28),h(43,ud,17,6,"div",29),o(),a(44,"button",30),b("click",function(){f(e);let n=p();return _(n.addCredential())}),a(45,"mat-icon"),r(46,"add"),o(),r(47," Add Credential "),o(),a(48,"div",31)(49,"button",32),h(50,hd,1,0,"mat-spinner",12)(51,gd,2,0,"span",11)(52,fd,2,0,"span",11),o()()(),h(53,_d,6,3,"div",33)(54,bd,5,1,"div",34),o()(),h(55,kd,13,4,"mat-card",35)}if(i&2){let e,t,n,c,d,g,x,N=q(33),v=p();s(9),m("formGroup",v.form),s(5),m("ngIf",(e=v.form.get("subject"))==null?null:e.hasError("pattern")),s(5),m("ngIf",(t=v.form.get("verifierDid"))==null?null:t.hasError("pattern")),s(7),m("ngForOf",v.contexts()),s(),m("ngIf",(n=v.form.get("context"))==null?null:n.hasError("required")),s(4),m("matAutocomplete",N),s(3),m("ngForOf",v.filteredSuggestedPurposes()),s(),m("ngIf",!((c=v.form.get("context"))!=null&&c.value)),s(),m("ngIf",((d=v.form.get("context"))==null?null:d.value)&&v.filteredSuggestedPurposes().length===0&&!(!((d=v.form.get("purpose"))==null||d.value==null)&&d.value.trim())),s(7),m("ngForOf",v.credentialsArray.controls),s(),m("disabled",!((g=v.form.get("context"))!=null&&g.value)||v.filteredClaimIdsByContext().length===0),s(5),m("disabled",v.form.invalid||v.isSubmitting||v.credentialsArray.length===0),s(),m("ngIf",v.isSubmitting),s(),m("ngIf",!v.isSubmitting),s(),m("ngIf",v.isSubmitting),s(),m("ngIf",v.result),s(),m("ngIf",v.error),s(),m("ngIf",(x=v.form.get("verifierDid"))==null?null:x.valid)}}var ur=(()=>{class i{fb=C(Ho);api=C(Le);wallet=C(ce);themeService=C(be);contextService=C(Qt);cdr=C(U);form;isSubmitting=!1;result=null;error=null;connecting=!1;purposeValue="";verifierAudit=[];auditLoading=!1;auditError=null;suggestedClaims=P([]);contexts=P([]);selectedContext=P("");darkMode=this.themeService.darkMode;normalizeContext(e){return e?.toLowerCase()?.trim()?.replace(/\s+/g,"-")||""}filteredSuggestedPurposes=Rt(()=>{let e=this.purposeValue?.toLowerCase().trim()||"",t=this.selectedContext()?.toLowerCase()||"",n=[...this.suggestedClaims()];return t&&(n=n.filter(c=>(c.context||"").toLowerCase()===t)),e?n.filter(c=>(c.purpose||"").toLowerCase().includes(e)):n});getRelativeTime(e){if(!e)return"recent";let t=new Date(e),c=new Date().getTime()-t.getTime(),d=Math.floor(c/(1e3*60*60*24));if(d<1){let g=Math.floor(c/36e5);return g<1?"just now":`${g}h ago`}return d<7?`${d}d ago`:d<30?`${Math.floor(d/7)}w ago`:"Older"}isLatest(e){if(!e.issued_at)return!1;let n=this.filteredSuggestedPurposes().filter(d=>d.issued_at).map(d=>new Date(d.issued_at).getTime());if(n.length===0)return!1;let c=Math.max(...n);return new Date(e.issued_at).getTime()===c}filteredClaimIdsByContext=Rt(()=>{let e=this.selectedContext(),t=this.normalizeContext(e);return this.suggestedClaims().filter(n=>!t||this.normalizeContext(n.context||"")===t).map(n=>n.claim_id)});get credentialsArray(){return this.form.get("credentials")}constructor(){this.form=this.fb.group({subject:["",[ft.required,ft.pattern(pr)]],verifierDid:["",[ft.required,ft.pattern(pr)]],context:["",ft.required],purpose:["",ft.required],consent:[!1,ft.requiredTrue],credentials:this.fb.array([])}),this.wallet.address$.subscribe(e=>{e&&(this.form.patchValue({subject:`did:ethr:${e}`}),this.loadSuggestions())}),this.contextService.contexts$.subscribe(e=>{this.contexts.set(e.sort())}),this.form.get("context")?.valueChanges.subscribe(e=>{let t=e||"";this.selectedContext.set(t);let n=this.normalizeContext(t);n!==t&&n&&this.form.patchValue({context:n},{emitEvent:!1}),this.cdr.detectChanges()}),this.form.get("purpose")?.valueChanges.subscribe(()=>{this.cdr.detectChanges()}),this.form.get("verifierDid")?.valueChanges.subscribe(e=>{e?.startsWith("did:")?this.loadVerifierAuditTrail():this.verifierAudit=[],this.cdr.detectChanges()})}connectWallet(){return T(this,null,function*(){this.connecting=!0;try{yield this.wallet.connect()}catch(e){alert(e.message||"Wallet connection failed")}finally{this.connecting=!1}})}loadSuggestions(){let e=this.wallet.address;if(!e)return;let t=`did:ethr:${e}`;this.api.getSuggestableClaims(t).subscribe({next:n=>{this.suggestedClaims.set(n.suggestableClaims||[]),this.cdr.detectChanges()},error:n=>console.error("Failed to load suggestions:",n)})}addCredential(){this.credentialsArray.push(this.fb.group({claimId:["",ft.required],cid:["",ft.required]}))}removeCredential(e){this.credentialsArray.removeAt(e)}submit(){return T(this,null,function*(){if(this.form.invalid){this.form.markAllAsTouched();return}this.isSubmitting=!0,this.result=null,this.error=null;let e={subject:this.form.value.subject,verifierDid:this.form.value.verifierDid,purpose:this.form.value.purpose,context:this.form.value.context,consent:this.form.value.consent,credentials:this.credentialsArray.value};try{this.result=yield this.api.verifyVC(e).toPromise()}catch(t){this.error=t.error?.error||t.message||"Verification failed",console.error("Verification error:",t)}finally{this.isSubmitting=!1}})}loadVerifierAuditTrail(){let e=this.form.get("verifierDid")?.value;e&&(this.auditLoading=!0,this.auditError=null,this.api.getDisclosuresByVerifier(e).subscribe({next:t=>{this.verifierAudit=t.disclosures||[],this.auditLoading=!1,this.cdr.detectChanges()},error:t=>{console.error("Verifier audit error:",t),this.auditError="Failed to load verifier audit trail",this.auditLoading=!1}}))}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=E({type:i,selectors:[["app-verifier"]],standalone:!0,features:[D],decls:9,vars:4,consts:[["mainContent",""],["purposeAuto","matAutocomplete"],[1,"verifier-container"],[1,"verifier-header"],[1,"subtitle"],[4,"ngIf","ngIfElse"],["appearance","outlined",1,"card","elevated","connect-card"],[1,"connect-content"],[1,"wallet-icon"],[1,"muted"],["mat-raised-button","","color","primary",3,"click","disabled"],[4,"ngIf"],["diameter","20",4,"ngIf"],["diameter","20"],[1,"card","elevated","verifier-card"],["mat-card-avatar",""],[3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","formControlName","subject","placeholder","did:ethr:0x..."],["matInput","","formControlName","verifierDid","placeholder","did:ethr:0x..."],["formControlName","context"],["value",""],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","purpose","placeholder","e.g., KYC verification, age check, address confirmation",3,"matAutocomplete"],["class","subtle-context-hint",4,"ngIf"],["class","subtle-context-hint warn-hint",4,"ngIf"],["formControlName","consent","color","primary",1,"consent-checkbox"],[1,"my-5"],["formArrayName","credentials"],["class","credential-row",3,"formGroupName",4,"ngFor","ngForOf"],["mat-stroked-button","","color","primary","type","button","matTooltip","Select context first",1,"add-btn","mt-3",3,"click","disabled"],[1,"actions"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["class","result success mt-5",4,"ngIf"],["class","result error mt-5",4,"ngIf"],["class","card elevated mt-6",4,"ngIf"],[3,"value"],[1,"purpose-option"],[1,"purpose-text"],["class","recency-badge",4,"ngIf"],["class","recency",4,"ngIf"],[1,"recency-badge"],[1,"recency"],[1,"subtle-context-hint"],[1,"subtle-context-hint","warn-hint"],[1,"credential-row",3,"formGroupName"],["appearance","outline",1,"cred-field"],["formControlName","claimId"],["disabled","",4,"ngIf"],["matInput","","formControlName","cid","placeholder","Qm..."],["mat-icon-button","","color","warn","matTooltip","Remove this credential",3,"click"],["disabled",""],[1,"result","success","mt-5"],[1,"result","error","mt-5"],[1,"card","elevated","mt-6"],["class","muted",4,"ngIf"],["class","result error",4,"ngIf"],["diameter","24"],[1,"result","error"],[1,"my-3"],["class","credential-row",4,"ngFor","ngForOf"],[1,"credential-row"],[1,"cred-field"],["color","primary","matTooltip","Consent recorded"]],template:function(t,n){if(t&1&&(a(0,"div",2)(1,"div",3)(2,"h1"),r(3,"Verify Credentials"),o(),a(4,"p",4),r(5," Securely request and verify subject credentials with explicit purpose and GDPR-compliant consent. "),o()(),h(6,Xl,14,4,"ng-container",5)(7,Md,56,18,"ng-template",null,0,Se),o()),t&2){let c=q(8);O("dark",n.darkMode()),s(6),m("ngIf",!n.wallet.address)("ngIfElse",c)}},dependencies:[ne,Ft,ue,it,At,Hn,jn,De,Ce,Ln,zo,jo,No,Lo,Xe,$e,rt,Ke,Je,vn,Ye,Be,Ve,Ae,Qe,Xn,Ne,ze,ge,he,Re,yn,$t,_e,fe,Me,ke,bn,Jn,mi,di,bt,Dn,Zt,Ut,Wt,ye,Fe],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;min-height:100vh}.verifier-container[_ngcontent-%COMP%]{padding:32px 40px 80px;max-width:960px;margin:0 auto;transition:background .4s ease}.verifier-container.dark[_ngcontent-%COMP%]{background:#0f0f1a;color:#e2e8f0}.verifier-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:48px}h1[_ngcontent-%COMP%]{font-size:clamp(1.3rem,4vw + 1rem,2.8rem);font-weight:800;background:linear-gradient(135deg,#6366f1,#a78bfa);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin:0 0 16px;letter-spacing:-.6px}.subtitle[_ngcontent-%COMP%]{font-size:1.15rem;color:var(--text-secondary, #94a3b8);max-width:760px;margin:0 auto;line-height:1.6}.card[_ngcontent-%COMP%]{background:var(--card-bg, white);border-radius:20px;margin-bottom:32px;border:1px solid var(--card-border, #e2e8f0);transition:all .3s cubic-bezier(.4,0,.2,1)}.verifier-container.dark[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background:#1e293ba6;border-color:#2d2d44;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.elevated[_ngcontent-%COMP%]{box-shadow:0 10px 30px #00000017}.verifier-container.dark[_ngcontent-%COMP%]   .elevated[_ngcontent-%COMP%]{box-shadow:0 12px 40px #00000073}.card[_ngcontent-%COMP%]:hover{transform:translateY(-6px);box-shadow:0 20px 50px #00000024}.verifier-container.dark[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover{box-shadow:0 20px 60px #0000008c}.connect-card[_ngcontent-%COMP%]{max-width:520px;margin:80px auto;text-align:center}.connect-content[_ngcontent-%COMP%]{padding:48px 32px}.wallet-icon[_ngcontent-%COMP%]{font-size:72px;width:72px;height:72px;color:#6366f1;margin-bottom:32px}.connect-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 20px;font-size:1.8rem;font-weight:700;color:var(--text-primary)}.verifier-container.dark[_ngcontent-%COMP%]   .connect-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#f1f5f9}.full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.credential-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;margin-bottom:20px;padding:12px;border-radius:12px;background:var(--row-bg, rgba(0, 0, 0, .02))}.verifier-container.dark[_ngcontent-%COMP%]   .credential-row[_ngcontent-%COMP%]{background:#ffffff0a}.cred-field[_ngcontent-%COMP%]{flex:1}.add-btn[_ngcontent-%COMP%]{margin-bottom:28px}.actions[_ngcontent-%COMP%]{text-align:right;margin-top:28px}.result[_ngcontent-%COMP%]{margin-top:32px;padding:20px;border-radius:14px;font-size:.95rem}.success[_ngcontent-%COMP%]{background:var(--success-bg, #f0fdf4);border:1px solid #bbf7d0;color:var(--success-text, #166534)}.verifier-container.dark[_ngcontent-%COMP%]   .success[_ngcontent-%COMP%]{background:#22c55e2e;border-color:#22c55e73;color:#86efac}.error[_ngcontent-%COMP%]{background:var(--error-bg, #fef2f2);border:1px solid #fecaca;color:#991b1b}.verifier-container.dark[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{background:#ef444426;border-color:#ef444473;color:#fca5a5}.purpose-option[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:8px 0}.purpose-text[_ngcontent-%COMP%]{font-weight:500;color:#1e293b}.consent-container.dark[_ngcontent-%COMP%]   .purpose-text[_ngcontent-%COMP%]{color:#e2e8f0}.purpose-option[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{opacity:.7;font-size:.82rem;margin-top:2px}.recency[_ngcontent-%COMP%]{color:#6366f1;font-style:italic}.consent-container.dark[_ngcontent-%COMP%]   .recency[_ngcontent-%COMP%]{color:#a5b4fc}.recency-badge[_ngcontent-%COMP%]{font-size:.8rem;background:#e0f2fe;color:#0369a1;padding:2px 6px;border-radius:999px;margin-left:8px;vertical-align:middle}.consent-container.dark[_ngcontent-%COMP%]   .recency-badge[_ngcontent-%COMP%]{background:#0e7490;color:#e0f2fe}.muted[_ngcontent-%COMP%]{color:var(--text-secondary)}.verifier-container.dark[_ngcontent-%COMP%]   .mat-mdc-form-field-label[_ngcontent-%COMP%], .verifier-container.dark[_ngcontent-%COMP%]   .mat-mdc-form-field-hint[_ngcontent-%COMP%], .verifier-container.dark[_ngcontent-%COMP%]   .mat-mdc-input-element[_ngcontent-%COMP%]::placeholder, .verifier-container.dark[_ngcontent-%COMP%]   .mat-mdc-checkbox-label[_ngcontent-%COMP%], .verifier-container.dark[_ngcontent-%COMP%]   .mat-mdc-checkbox-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#94a3b8!important;opacity:1!important}.verifier-container.dark[_ngcontent-%COMP%]   .mat-mdc-form-field.mat-focused[_ngcontent-%COMP%]   .mat-mdc-form-field-label[_ngcontent-%COMP%]{color:#a5b4fc!important}.verifier-container.dark[_ngcontent-%COMP%]   .mat-mdc-input-element[_ngcontent-%COMP%]{color:#f1f5f9!important}.verifier-container.dark[_ngcontent-%COMP%]   .mat-mdc-checkbox-checked[_ngcontent-%COMP%]   .mat-mdc-checkbox-background[_ngcontent-%COMP%], .verifier-container.dark[_ngcontent-%COMP%]   .mat-mdc-checkbox-indeterminate[_ngcontent-%COMP%]   .mat-mdc-checkbox-background[_ngcontent-%COMP%], .verifier-container.dark[_ngcontent-%COMP%]   .mat-mdc-form-field-underline[_ngcontent-%COMP%], .verifier-container.dark[_ngcontent-%COMP%]   .mat-mdc-form-field-ripple[_ngcontent-%COMP%]{background-color:#6366f1!important}.verifier-container.dark[_ngcontent-%COMP%]   .mat-mdc-form-field-disabled[_ngcontent-%COMP%]   .mat-mdc-form-field-label[_ngcontent-%COMP%], .verifier-container.dark[_ngcontent-%COMP%]   .mat-mdc-form-field-disabled[_ngcontent-%COMP%]   .mat-mdc-input-element[_ngcontent-%COMP%]{color:#6b7280!important}@media (max-width: 960px){.verifier-container[_ngcontent-%COMP%]{padding:24px 28px 64px}.verifier-header[_ngcontent-%COMP%]{margin-bottom:40px}h1[_ngcontent-%COMP%]{font-size:clamp(1.5rem,3vw + 1rem,2.4rem)}.subtitle[_ngcontent-%COMP%]{font-size:1.05rem;max-width:620px}.card[_ngcontent-%COMP%]{border-radius:18px}.connect-card[_ngcontent-%COMP%]{margin:60px auto}.wallet-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px}.connect-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.6rem}}@media (max-width: 480px){.verifier-container[_ngcontent-%COMP%]{padding:16px 16px 48px}.verifier-header[_ngcontent-%COMP%]{margin-bottom:28px}h1[_ngcontent-%COMP%]{font-size:clamp(1.3rem,4vw + 1rem,2rem);text-align:center}.subtitle[_ngcontent-%COMP%]{font-size:1rem;line-height:1.5;text-align:center;max-width:100%}.card[_ngcontent-%COMP%]{border-radius:16px}.card[_ngcontent-%COMP%]:hover{transform:none}.connect-card[_ngcontent-%COMP%]{margin:40px auto}.connect-content[_ngcontent-%COMP%]{padding:32px 20px}.wallet-icon[_ngcontent-%COMP%]{font-size:56px;width:56px;height:56px;margin-bottom:24px}.connect-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.4rem}.credential-row[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:12px;padding:10px 12px}.actions[_ngcontent-%COMP%]{text-align:center}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%], .add-btn[_ngcontent-%COMP%]{width:100%;justify-content:center}.result[_ngcontent-%COMP%]{font-size:.9rem;padding:16px}}@media (max-width: 320px){h1[_ngcontent-%COMP%]{font-size:1.2rem;letter-spacing:-.4px}.subtitle[_ngcontent-%COMP%]{font-size:.9rem}.connect-content[_ngcontent-%COMP%]{padding:24px 14px}.wallet-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px}.connect-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.2rem}.credential-row[_ngcontent-%COMP%]{padding:8px 10px}.result[_ngcontent-%COMP%]{font-size:.85rem;padding:12px}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%], .add-btn[_ngcontent-%COMP%]{padding:10px 14px;font-size:.9rem}}.subtle-context-hint[_ngcontent-%COMP%]{font-size:.85rem;color:#757575;margin-top:8px;margin-bottom:16px;opacity:.8;display:block}mat-option[_ngcontent-%COMP%]{line-height:1.4}mat-option[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{opacity:.7;font-size:.85em;margin-left:8px}']})}return i})(),pr=/^did:ethr:0x[a-fA-F0-9]{40}$/;var Pd=["button"],Od=["*"];function Sd(i,l){if(i&1&&y(0,"mat-pseudo-checkbox",3),i&2){let e=p();m("disabled",e.disabled)}}function Id(i,l){if(i&1&&y(0,"mat-pseudo-checkbox",3),i&2){let e=p();m("disabled",e.disabled)}}var hr=new ae("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS",{providedIn:"root",factory:Ed});function Ed(){return{hideSingleSelectionIndicator:!1,hideMultipleSelectionIndicator:!1}}var gr=new ae("MatButtonToggleGroup"),Dd={provide:Bt,useExisting:st(()=>io),multi:!0},fr=0,vi=class{constructor(l,e){this.source=l,this.value=e}},io=(()=>{class i{get name(){return this._name}set name(e){this._name=e,this._markButtonsForCheck()}get value(){let e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e.map(t=>t.value):e[0]?e[0].value:void 0}set value(e){this._setSelectionByValue(e),this.valueChange.emit(this.value)}get selected(){let e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e:e[0]||null}get multiple(){return this._multiple}set multiple(e){this._multiple=e,this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._markButtonsForCheck()}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._markButtonsForCheck()}get hideMultipleSelectionIndicator(){return this._hideMultipleSelectionIndicator}set hideMultipleSelectionIndicator(e){this._hideMultipleSelectionIndicator=e,this._markButtonsForCheck()}constructor(e,t){this._changeDetector=e,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name=`mat-button-toggle-group-${fr++}`,this.valueChange=new Y,this.change=new Y,this.appearance=t&&t.appearance?t.appearance:"standard",this.hideSingleSelectionIndicator=t?.hideSingleSelectionIndicator??!1,this.hideMultipleSelectionIndicator=t?.hideMultipleSelectionIndicator??!1}ngOnInit(){this._selectionModel=new ra(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(e=>e.checked))}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_emitChangeEvent(e){let t=new vi(e,this.value);this._rawValue=t.value,this._controlValueAccessorChangeFn(t.value),this.change.emit(t)}_syncButtonToggle(e,t,n=!1,c=!1){!this.multiple&&this.selected&&!e.checked&&(this.selected.checked=!1),this._selectionModel?t?this._selectionModel.select(e):this._selectionModel.deselect(e):c=!0,c?Promise.resolve().then(()=>this._updateModelValue(e,n)):this._updateModelValue(e,n)}_isSelected(e){return this._selectionModel&&this._selectionModel.isSelected(e)}_isPrechecked(e){return typeof this._rawValue>"u"?!1:this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(t=>e.value!=null&&t===e.value):e.value===this._rawValue}_setSelectionByValue(e){this._rawValue=e,this._buttonToggles&&(this.multiple&&e?(Array.isArray(e),this._clearSelection(),e.forEach(t=>this._selectValue(t))):(this._clearSelection(),this._selectValue(e)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(e=>e.checked=!1)}_selectValue(e){let t=this._buttonToggles.find(n=>n.value!=null&&n.value===e);t&&(t.checked=!0,this._selectionModel.select(t))}_updateModelValue(e,t){t&&this._emitChangeEvent(e),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(e=>e._markForCheck())}static{this.\u0275fac=function(t){return new(t||i)(u(U),u(hr,8))}}static{this.\u0275dir=V({type:i,selectors:[["mat-button-toggle-group"]],contentQueries:function(t,n,c){if(t&1&&K(c,Ci,5),t&2){let d;F(d=A())&&(n._buttonToggles=d)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(t,n){t&2&&(re("aria-disabled",n.disabled),O("mat-button-toggle-vertical",n.vertical)("mat-button-toggle-group-appearance-standard",n.appearance==="standard"))},inputs:{appearance:"appearance",name:"name",vertical:[w.HasDecoratorInputTransform,"vertical","vertical",R],value:"value",multiple:[w.HasDecoratorInputTransform,"multiple","multiple",R],disabled:[w.HasDecoratorInputTransform,"disabled","disabled",R],hideSingleSelectionIndicator:[w.HasDecoratorInputTransform,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",R],hideMultipleSelectionIndicator:[w.HasDecoratorInputTransform,"hideMultipleSelectionIndicator","hideMultipleSelectionIndicator",R]},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],standalone:!0,features:[G([Dd,{provide:gr,useExisting:i}]),se]})}}return i})(),Ci=(()=>{class i{get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(e){this._appearance=e}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(e){e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(e){this._disabled=e}constructor(e,t,n,c,d,g){this._changeDetectorRef=t,this._elementRef=n,this._focusMonitor=c,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new Y;let x=Number(d);this.tabIndex=x||x===0?x:null,this.buttonToggleGroup=e,this.appearance=g&&g.appearance?g.appearance:"standard"}ngOnInit(){let e=this.buttonToggleGroup;this.id=this.id||`mat-button-toggle-${fr++}`,e&&(e._isPrechecked(this)?this.checked=!0:e._isSelected(this)!==this._checked&&e._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){let e=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),e&&e._isSelected(this)&&e._syncButtonToggle(this,!1,!1,!0)}focus(e){this._buttonElement.nativeElement.focus(e)}_onButtonClick(){let e=this._isSingleSelector()?!0:!this._checked;e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new vi(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this._isSingleSelector()?this.buttonToggleGroup.name:this.name||null}_isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}static{this.\u0275fac=function(t){return new(t||i)(u(gr,8),u(U),u(W),u(wt),Dt("tabindex"),u(hr,8))}}static{this.\u0275cmp=E({type:i,selectors:[["mat-button-toggle"]],viewQuery:function(t,n){if(t&1&&Oe(Pd,5),t&2){let c;F(c=A())&&(n._buttonElement=c.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(t,n){t&1&&b("focus",function(){return n.focus()}),t&2&&(re("aria-label",null)("aria-labelledby",null)("id",n.id)("name",null),O("mat-button-toggle-standalone",!n.buttonToggleGroup)("mat-button-toggle-checked",n.checked)("mat-button-toggle-disabled",n.disabled)("mat-button-toggle-appearance-standard",n.appearance==="standard"))},inputs:{ariaLabel:[w.None,"aria-label","ariaLabel"],ariaLabelledby:[w.None,"aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",disableRipple:[w.HasDecoratorInputTransform,"disableRipple","disableRipple",R],appearance:"appearance",checked:[w.HasDecoratorInputTransform,"checked","checked",R],disabled:[w.HasDecoratorInputTransform,"disabled","disabled",R]},outputs:{change:"change"},exportAs:["matButtonToggle"],standalone:!0,features:[se,D],ngContentSelectors:Od,decls:8,vars:11,consts:[["button",""],["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"click","id","disabled"],[1,"mat-button-toggle-label-content"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(t,n){if(t&1){let c=k();X(),a(0,"button",1,0),b("click",function(){return f(c),_(n._onButtonClick())}),a(2,"span",2),h(3,Sd,1,1,"mat-pseudo-checkbox",3)(4,Id,1,1,"mat-pseudo-checkbox",3),B(5),o()(),y(6,"span",4)(7,"span",5)}if(t&2){let c=q(1);m("id",n.buttonId)("disabled",n.disabled||null),re("tabindex",n.disabled?-1:n.tabIndex)("aria-pressed",n.checked)("name",n._getButtonName())("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledby),s(3),ve(3,n.buttonToggleGroup&&n.checked&&!n.buttonToggleGroup.multiple&&!n.buttonToggleGroup.hideSingleSelectionIndicator?3:-1),s(),ve(4,n.buttonToggleGroup&&n.checked&&n.buttonToggleGroup.multiple&&!n.buttonToggleGroup.hideMultipleSelectionIndicator?4:-1),s(3),m("matRippleTrigger",c)("matRippleDisabled",n.disableRipple||n.disabled)}},dependencies:[yt,Xo],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:var(--mat-standard-button-toggle-shape);border:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard .mat-pseudo-checkbox,.mat-button-toggle-group-appearance-standard .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var( --mat-standard-button-toggle-selected-state-text-color )}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-label-text-font);font-size:var(--mat-legacy-button-toggle-label-text-size);line-height:var(--mat-legacy-button-toggle-label-text-line-height);font-weight:var(--mat-legacy-button-toggle-label-text-weight);letter-spacing:var(--mat-legacy-button-toggle-label-text-tracking);--mat-minimal-pseudo-checkbox-selected-checkmark-color: var( --mat-legacy-button-toggle-selected-state-text-color )}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle .mat-pseudo-checkbox{margin-right:12px}[dir=rtl] .mat-button-toggle .mat-pseudo-checkbox{margin-right:0;margin-left:12px}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color);--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var( --mat-legacy-button-toggle-disabled-state-text-color )}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard{color:var(--mat-standard-button-toggle-text-color);background-color:var(--mat-standard-button-toggle-background-color);font-family:var(--mat-standard-button-toggle-label-text-font);font-size:var(--mat-standard-button-toggle-label-text-size);line-height:var(--mat-standard-button-toggle-label-text-line-height);font-weight:var(--mat-standard-button-toggle-label-text-weight);letter-spacing:var(--mat-standard-button-toggle-label-text-tracking)}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color)}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color);background-color:var(--mat-standard-button-toggle-selected-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var( --mat-standard-button-toggle-disabled-selected-state-text-color )}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color)}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity)}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity)}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard{--mat-focus-indicator-border-radius:var(--mat-standard-button-toggle-shape)}.mat-button-toggle-group-appearance-standard .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-standard-button-toggle-shape);border-bottom-right-radius:var(--mat-standard-button-toggle-shape)}.mat-button-toggle-group-appearance-standard .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-left-radius:var(--mat-standard-button-toggle-shape);border-bottom-left-radius:var(--mat-standard-button-toggle-shape)}"],encapsulation:2,changeDetection:0})}}return i})(),_r=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=me({type:i})}static{this.\u0275inj=de({imports:[Q,Un,Ci,Q]})}}return i})();function Rd(i,l){if(i&1&&(a(0,"div",23)(1,"mat-icon",24),r(2,"check_circle"),o(),r(3," Using custom RPC: "),a(4,"code"),r(5),o()()),i&2){let e=p();s(5),S(e.customRpcUrl())}}function Fd(i,l){i&1&&(a(0,"div",25)(1,"mat-icon"),r(2,"info"),o(),r(3," Using default: "),a(4,"code"),r(5,"http://127.0.0.1:8545"),o()())}function Ad(i,l){i&1&&(a(0,"mat-icon"),r(1,"wallet"),o())}function Vd(i,l){i&1&&y(0,"mat-spinner",29)}function Bd(i,l){if(i&1){let e=k();a(0,"div",26)(1,"h3"),r(2,"1. Connect Your Wallet"),o(),a(3,"p",13),r(4," Link your Ethereum wallet to access your decentralized identity vault. "),o(),a(5,"button",27),b("click",function(){f(e);let n=p();return _(n.connectWallet())}),h(6,Ad,2,0,"mat-icon",19)(7,Vd,1,0,"mat-spinner",28),r(8),o()()}if(i&2){let e=p();s(5),m("disabled",e.connecting()),s(),m("ngIf",!e.connecting()),s(),m("ngIf",e.connecting()),s(),M(" ",e.connecting()?"Connecting...":"Connect Wallet"," ")}}function zd(i,l){if(i&1&&(a(0,"div",39),r(1),o()),i&2){let e=p(3);s(),M(" ",e.roleDescription[e.selectedRole()]," ")}}function Nd(i,l){if(i&1){let e=k();a(0,"div",33)(1,"h3"),r(2,"2. Select Access Mode"),o(),a(3,"p",13),r(4,"Choose your role for this session"),o(),a(5,"mat-button-toggle-group",34),b("change",function(n){f(e);let c=p(2);return _(c.selectRole(n.value))}),a(6,"mat-button-toggle",35)(7,"mat-icon"),r(8,"person"),o(),a(9,"span"),r(10,"User"),o()(),a(11,"mat-button-toggle",36)(12,"mat-icon"),r(13,"admin_panel_settings"),o(),a(14,"span"),r(15,"Admin"),o()(),a(16,"mat-button-toggle",37)(17,"mat-icon"),r(18,"verified"),o(),a(19,"span"),r(20,"Verifier"),o()()(),h(21,zd,2,1,"div",38),o()}if(i&2){let e=p(2);s(5),m("value",e.selectedRole()),s(16),m("ngIf",e.selectedRole())}}function Ld(i,l){i&1&&(a(0,"mat-icon"),r(1,"draw"),o())}function jd(i,l){i&1&&y(0,"mat-spinner",29)}function Hd(i,l){if(i&1){let e=k();a(0,"div",40)(1,"h3"),r(2,"3. Authenticate"),o(),a(3,"div",41)(4,"div",42),r(5,"Connected Wallet"),o(),a(6,"div",43),r(7),I(8,"slice"),I(9,"slice"),o(),a(10,"div",44),r(11),o()(),a(12,"button",45),b("click",function(){f(e);let n=p(2);return _(n.signIn())}),h(13,Ld,2,0,"mat-icon",19)(14,jd,1,0,"mat-spinner",28),r(15),o(),a(16,"button",46),b("click",function(){f(e);let n=p(2);return _(n.wallet.disconnect())}),a(17,"mat-icon"),r(18,"swap_horiz"),o(),r(19," Switch Wallet "),o()()}if(i&2){let e=p().ngIf,t=p();s(7),Ee(" ",tt(8,7,e,0,8),"\u2026",We(9,11,e,-6)," "),s(4),S(e),s(),m("disabled",t.signing()),s(),m("ngIf",!t.signing()),s(),m("ngIf",t.signing()),s(),M(" ",t.signing()?"Signing...":"Sign & Login"," ")}}function Wd(i,l){i&1&&(a(0,"div",47)(1,"mat-icon"),r(2,"info"),o(),r(3," Please select an access mode to continue "),o())}function Ud(i,l){if(i&1&&(L(0),h(1,Nd,22,2,"div",30)(2,Hd,20,14,"div",31)(3,Wd,4,0,"div",32),j()),i&2){let e=p();s(),m("ngIf",!e.auth.isAuthenticated()),s(),m("ngIf",e.selectedRole()&&!e.auth.isAuthenticated()),s(),m("ngIf",!e.selectedRole()&&!e.auth.isAuthenticated())}}function Gd(i,l){if(i&1&&(a(0,"div",48)(1,"mat-icon"),r(2,"error_outline"),o(),r(3),o()),i&2){let e=p();s(3),M(" ",e.error()," ")}}var br=(()=>{class i{auth=C(Ht);wallet=C(ce);storage=C(li);cdr=C(U);router=C(un);route=C(Ro);snackBar=C(at);platformId=C(sn);connecting=P(!1);signing=P(!1);error=P(null);selectedRole=P(null);customRpcUrl=P("");themeService=C(be);darkMode=this.themeService.darkMode;roleDescription={USER:"Access your personal identity vault, create secured profiles and manage credentials.",ADMIN:"Access advanced identity tools and administrative features.",VERIFIER:"Access verifier dashboards and credential verification tools."};constructor(){this.auth.isAuthenticated()&&this.redirectByRole(this.auth.role())}ngOnInit(){return T(this,null,function*(){if(gt(this.platformId))try{let e=yield this.storage.getItem("custom_hardhat_rpc");e&&(this.customRpcUrl.set(e),this.wallet.setCustomRpc(e))}catch(e){console.warn("Failed to load custom RPC (browser-only):",e)}})}saveCustomRpc(){return T(this,null,function*(){if(!gt(this.platformId))return;let e=this.customRpcUrl().trim();if(e){if(!e.startsWith("http://")&&!e.startsWith("https://")){this.snackBar.open("RPC URL must start with http:// or https://","Close",{duration:5e3});return}try{yield this.storage.setItem("custom_hardhat_rpc",e),this.wallet.setCustomRpc(e),this.snackBar.open("Custom Hardhat RPC saved \u2014 will be used on next connect","Close",{duration:5e3})}catch{this.snackBar.open("Failed to save RPC URL","Close",{duration:5e3})}}else try{yield this.storage.removeItem("custom_hardhat_rpc"),this.wallet.setCustomRpc("http://127.0.0.1:8545"),this.snackBar.open("Reverted to default Hardhat RPC","Close",{duration:4e3})}catch(t){console.warn("Failed to clear custom RPC:",t)}})}connectWallet(){return T(this,null,function*(){this.connecting.set(!0),this.error.set(null);try{if(gt(this.platformId)){let t=yield this.storage.getItem("custom_hardhat_rpc");t?this.wallet.setCustomRpc(t):this.wallet.setCustomRpc("http://127.0.0.1:8545")}yield this.wallet.connect(),this.cdr.detectChanges();let e=yield It(this.wallet.address$);if(!e)throw new Error("Wallet connected but no address received");console.log("Wallet connected with address:",e),gt(this.platformId)&&((yield this.storage.initEncryption())?this.snackBar.open("Wallet connected & secure storage ready!","Close",{duration:4e3}):this.snackBar.open("Secure storage failed (signature issue). You can try again later.","Close",{duration:8e3,panelClass:["warn-snackbar"]})),this.selectedRole.set(null)}catch(e){console.error("Wallet connect failed:",e),this.error.set(e.message||"Failed to connect wallet"),this.snackBar.open(e.message||"Wallet connection failed","Close",{duration:5e3})}finally{this.connecting.set(!1)}})}signIn(){return T(this,null,function*(){let e=this.selectedRole();if(!e){this.error.set("Please select a login mode.");return}this.signing.set(!0),this.error.set(null);try{if(!this.wallet.address)throw new Error("Wallet not connected - please connect first");let t=!1,n=20;for(let c=0;c<n;c++){if(this.wallet.signer){t=!0;break}console.log(`Waiting for signer... attempt ${c+1}/${n}`),yield new Promise(d=>setTimeout(d,500))}if(!t)throw console.error("Signer failed to initialize after retries"),new Error("Wallet signer not ready - please logout, reconnect wallet and sign again");console.log("Signer ready! Proceeding with sign-in"),yield this.auth.login(e),this.redirectByRole(e)}catch(t){console.error("Sign-in failed:",t),this.error.set(t.message||"Authentication failed"),this.snackBar.open(t.message||"Sign-in failed - logout, reconnect wallet and try again","Close",{duration:9e3})}finally{this.signing.set(!1)}})}redirectByRole(e){let t=this.route.snapshot.queryParamMap.get("returnUrl");if(t&&this.isReturnUrlAllowed(e,t)){this.router.navigateByUrl(t);return}switch(e){case"ADMIN":this.router.navigateByUrl("/advanced");break;case"VERIFIER":this.router.navigateByUrl("/verifier");break;default:this.router.navigateByUrl("/vault")}}isReturnUrlAllowed(e,t){return e==="ADMIN"?t.startsWith("/advanced"):e==="VERIFIER"?t.startsWith("/verifier"):t.startsWith("/vault")||t.startsWith("/credentials")||t.startsWith("/contexts")||t.startsWith("/consent")||t.startsWith("/disclosures")||t.startsWith("/gdpr")}selectRole(e){this.selectedRole.set(e),this.error.set(null)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=E({type:i,selectors:[["app-login"]],standalone:!0,features:[D],decls:40,vars:12,consts:[[1,"login-page"],[1,"bg-overlay"],[1,"login-wrapper"],["appearance","outlined",1,"login-card","glass-card"],[1,"card-header"],[1,"header-icon-wrapper"],["width","72","height","72","viewBox","0 0 32 32","fill","none","xmlns","http://www.w3.org/2000/svg",1,"custom-shield"],["d","M16 2C8.5 2 3 7.5 3 15C3 25 16 30 16 30C16 30 29 25 29 15C29 7.5 23.5 2 16 2Z","fill","#6366f1","stroke","#4f46e5","stroke-width","3.5","stroke-linecap","round"],["cx","16","cy","16","r","7.5","fill","none","stroke","#ffffff","stroke-width","3.5"],["x","14","y","19","width","4","height","9","rx","2","fill","#ffffff"],["cx","16","cy","16","r","3","fill","#ffffff","opacity","0.4"],[1,"card-content"],[1,"step-section","rpc-section"],[1,"step-desc"],["appearance","outline",1,"full-width","rpc-input"],["matInput","","placeholder","http://127.0.0.1:8545",3,"ngModelChange","blur","ngModel"],["class","status-pill",4,"ngIf"],["class","status-pill neutral",4,"ngIf"],["class","step-section",4,"ngIf"],[4,"ngIf"],["class","error-message",4,"ngIf"],[1,"card-footer"],[1,"session-note"],[1,"status-pill"],["color","primary"],[1,"status-pill","neutral"],[1,"step-section"],["mat-flat-button","","color","primary",1,"action-btn","connect-btn",3,"click","disabled"],["diameter","24",4,"ngIf"],["diameter","24"],["class","step-section role-section",4,"ngIf"],["class","step-section sign-section",4,"ngIf"],["class","hint-box",4,"ngIf"],[1,"step-section","role-section"],["exclusive","",1,"role-group",3,"change","value"],["value","USER",1,"role-btn"],["value","ADMIN",1,"role-btn"],["value","VERIFIER",1,"role-btn"],["class","role-description",4,"ngIf"],[1,"role-description"],[1,"step-section","sign-section"],[1,"wallet-info-card"],[1,"wallet-label"],[1,"wallet-address"],[1,"full-address"],["mat-flat-button","","color","primary",1,"action-btn","sign-btn",3,"click","disabled"],["mat-stroked-button","",1,"switch-wallet-btn",3,"click"],[1,"hint-box"],[1,"error-message"]],template:function(t,n){t&1&&(a(0,"div",0),y(1,"div",1),a(2,"div",2)(3,"mat-card",3)(4,"mat-card-header",4)(5,"div",5),et(),a(6,"svg",6),y(7,"path",7)(8,"circle",8)(9,"rect",9)(10,"circle",10),o()(),Et(),a(11,"mat-card-title"),r(12,"PIMV Identity Vault"),o(),a(13,"mat-card-subtitle"),r(14,"Secure \u2022 Decentralized \u2022 Self-Sovereign"),o()(),a(15,"mat-card-content",11)(16,"div",12)(17,"h3"),r(18,"Optional: Local Development RPC"),o(),a(19,"p",13),r(20," For local testing with Hardhat \u2014 enter your node URL (default: "),a(21,"code"),r(22,"http://127.0.0.1:8545"),o(),r(23,") "),o(),a(24,"mat-form-field",14)(25,"mat-label"),r(26,"Hardhat RPC URL"),o(),a(27,"input",15),te("ngModelChange",function(d){return ee(n.customRpcUrl,d)||(n.customRpcUrl=d),d}),b("blur",function(){return n.saveCustomRpc()}),o(),a(28,"mat-hint"),r(29,"Leave blank to use default local node"),o()(),h(30,Rd,6,1,"div",16)(31,Fd,6,0,"div",17),o(),h(32,Bd,9,4,"div",18),I(33,"async"),h(34,Ud,4,3,"ng-container",19),I(35,"async"),h(36,Gd,4,1,"div",20),o(),a(37,"mat-card-actions",21)(38,"p",22),r(39," Role selection is stored only for this browser session "),o()()()()()),t&2&&(O("dark",n.darkMode()),s(27),Z("ngModel",n.customRpcUrl),s(3),m("ngIf",n.customRpcUrl()),s(),m("ngIf",!n.customRpcUrl()),s(),m("ngIf",!z(33,8,n.wallet.address$)),s(2),m("ngIf",z(35,10,n.wallet.address$)),s(2),m("ngIf",n.error()))},dependencies:[ne,ue,mn,ot,we,De,Ce,Te,Xe,$e,ha,Ke,Je,vn,Ye,ge,he,Me,ke,_e,fe,bn,_r,io,Ci,vt,Be,Ve,Ae,Qe,Ne,ze],styles:["[_nghost-%COMP%]{display:block;height:100vh;overflow:hidden}.login-page[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;min-height:100vh;padding:32px 16px;background:linear-gradient(135deg,#667eea,#764ba2);transition:background .6s ease}.login-page.dark[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0f172a,#1e293b)}.bg-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:radial-gradient(circle at 30% 70%,rgba(99,102,241,.18),transparent 70%);pointer-events:none}.login-wrapper[_ngcontent-%COMP%]{position:relative;z-index:2;width:100%;max-width:540px;max-height:95vh;overflow-y:auto;-webkit-overflow-scrolling:touch;padding:20px 0}.glass-card[_ngcontent-%COMP%]{background:#ffffffe0;-webkit-backdrop-filter:blur(28px) saturate(180%);backdrop-filter:blur(28px) saturate(180%);border:1px solid rgba(255,255,255,.35);border-radius:32px;box-shadow:0 30px 90px #00000040;overflow:hidden;transition:all .4s ease}.login-page.dark[_ngcontent-%COMP%]   .glass-card[_ngcontent-%COMP%]{background:#1e293bc7;border-color:#64748b73;box-shadow:0 40px 100px #0009}.card-header[_ngcontent-%COMP%]{text-align:center;padding:56px 40px 40px;background:linear-gradient(135deg,#6366f126,#a78bfa1a)}.login-page.dark[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6366f138,#a78bfa26)}.header-icon-wrapper[_ngcontent-%COMP%]{width:96px;height:96px;margin:0 auto 24px;background:linear-gradient(135deg,#6366f1,#a78bfa);border-radius:28px;display:flex;align-items:center;justify-content:center;box-shadow:0 12px 40px #6366f180;transition:transform .3s ease}.header-icon-wrapper[_ngcontent-%COMP%]:hover{transform:scale(1.08)}.custom-shield[_ngcontent-%COMP%]{width:68px;height:68px;filter:drop-shadow(0 4px 12px rgba(0,0,0,.4))}mat-card-title[_ngcontent-%COMP%]{font-size:clamp(2rem,5.5vw,2.8rem);font-weight:800;background:linear-gradient(90deg,#6366f1,#a78bfa);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin:0 0 8px}mat-card-subtitle[_ngcontent-%COMP%]{font-size:1.15rem;color:#64748b;margin:0}.login-page.dark[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{color:#94a3b8}.card-content[_ngcontent-%COMP%]{padding:40px 48px 56px}.step-section[_ngcontent-%COMP%]{text-align:center;margin-bottom:48px}h3[_ngcontent-%COMP%]{font-size:1.6rem;font-weight:700;margin:0 0 12px;color:#1e293b}.login-page.dark[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#f1f5f9}.step-desc[_ngcontent-%COMP%]{font-size:1.05rem;color:#64748b;margin-bottom:32px;line-height:1.6}.login-page.dark[_ngcontent-%COMP%]   .step-desc[_ngcontent-%COMP%]{color:#cbd5e1}.rpc-section[_ngcontent-%COMP%]{background:#6366f10f;border-radius:20px;padding:28px 32px;margin-bottom:40px}.login-page.dark[_ngcontent-%COMP%]   .rpc-section[_ngcontent-%COMP%]{background:#6366f12e}.rpc-input[_ngcontent-%COMP%]{margin:24px 0}.action-btn[_ngcontent-%COMP%]{min-width:280px;height:60px;font-size:1.12rem;font-weight:600;border-radius:16px;margin:32px auto 20px;display:block;transition:all .3s ease;box-shadow:0 8px 24px #6366f159}.action-btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 16px 40px #6366f173}.connect-btn[_ngcontent-%COMP%], .sign-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6366f1,#a78bfa)!important}.switch-wallet-btn[_ngcontent-%COMP%]{margin-top:16px;color:#64748b;font-weight:500}.login-page.dark[_ngcontent-%COMP%]   .switch-wallet-btn[_ngcontent-%COMP%]{color:#94a3b8}.wallet-info-card[_ngcontent-%COMP%]{background:#e2e8f073;border-radius:16px;padding:20px;margin:32px auto;max-width:420px;text-align:center;border:1px solid rgba(226,232,240,.8)}.login-page.dark[_ngcontent-%COMP%]   .wallet-info-card[_ngcontent-%COMP%]{background:#1e293b99;border-color:#64748b80}.wallet-label[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:#64748b;margin-bottom:8px}.login-page.dark[_ngcontent-%COMP%]   .wallet-label[_ngcontent-%COMP%]{color:#94a3b8}.wallet-address[_ngcontent-%COMP%]{font-family:JetBrains Mono,monospace;font-size:1.15rem;color:#1d4ed8;font-weight:500;margin-bottom:4px}.login-page.dark[_ngcontent-%COMP%]   .wallet-address[_ngcontent-%COMP%]{color:#c7d2fe}.full-address[_ngcontent-%COMP%]{font-size:.85rem;color:#64748b;word-break:break-all;opacity:.8}.login-page.dark[_ngcontent-%COMP%]   .full-address[_ngcontent-%COMP%]{color:#94a3b8}.role-group[_ngcontent-%COMP%]{width:100%;max-width:460px;margin:32px auto;background:#ffffff1a;border-radius:20px;padding:10px;display:flex}.login-page.dark[_ngcontent-%COMP%]   .role-group[_ngcontent-%COMP%]{background:#1e293b80}  .role-btn{flex:1;border-radius:14px!important;padding:18px 16px!important;height:auto!important;font-weight:600;transition:all .3s ease}  .role-btn.mat-button-toggle-checked{background:linear-gradient(135deg,#6366f1,#a78bfa)!important;color:#fff!important;box-shadow:0 6px 20px #6366f166}  .role-btn mat-icon{margin-right:12px;font-size:26px;height:26px;width:26px}.role-description[_ngcontent-%COMP%]{margin-top:24px;padding:16px 24px;background:#6366f11a;border-radius:16px;font-size:1rem;line-height:1.6;color:#1e293b}.login-page.dark[_ngcontent-%COMP%]   .role-description[_ngcontent-%COMP%]{background:#6366f133;color:#e2e8f0}.status-pill[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:12px;margin:20px auto 0;padding:12px 24px;border-radius:999px;font-weight:500;font-size:.95rem;max-width:fit-content}.status-pill[color=primary][_ngcontent-%COMP%]{background:#6366f126;color:#1e40af}.status-pill.neutral[_ngcontent-%COMP%]{background:#64748b26;color:#475569}.login-page.dark[_ngcontent-%COMP%]   .status-pill.neutral[_ngcontent-%COMP%]{background:#64748b40;color:#cbd5e1}.hint-box[_ngcontent-%COMP%]{margin:32px 0;padding:16px 24px;background:#6366f11a;border-radius:16px;display:flex;align-items:center;justify-content:center;gap:12px;color:#4f46e5;font-weight:500}.login-page.dark[_ngcontent-%COMP%]   .hint-box[_ngcontent-%COMP%]{background:#6366f133;color:#a5b4fc}.error-message[_ngcontent-%COMP%]{margin:32px 0;padding:16px 24px;background:#ef444426;color:#c62828;border-radius:16px;display:flex;align-items:center;justify-content:center;gap:12px;font-weight:500}.login-page.dark[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{background:#ef444438;color:#fca5a5}.card-footer[_ngcontent-%COMP%]{padding:32px 40px;text-align:center;background:#00000008}.login-page.dark[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{background:#ffffff0a}.session-note[_ngcontent-%COMP%]{margin:0;font-size:.9rem;color:#64748b}.login-page.dark[_ngcontent-%COMP%]   .session-note[_ngcontent-%COMP%]{color:#94a3b8}@media (max-width: 600px){.card-content[_ngcontent-%COMP%]{padding:32px 28px 64px}.action-btn[_ngcontent-%COMP%]{width:100%;min-width:unset}.role-group[_ngcontent-%COMP%]{flex-direction:column}  .role-btn{margin:8px 0}}@media (max-width: 420px){.card-header[_ngcontent-%COMP%]{padding:48px 24px 32px}}"]})}return i})();var xr=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:br},{path:"gdpr",component:Ga},{path:"vault",component:Aa,canActivate:[Ot("USER")]},{path:"credentials",component:Wa,canActivate:[Ot("USER")]},{path:"contexts",component:Va,canActivate:[Ot("USER")]},{path:"consent",component:Ha,canActivate:[Ot("USER")]},{path:"disclosures",component:dr,canActivate:[Ot("USER")]},{path:"advanced",component:mr,canActivate:[Ot("ADMIN")]},{path:"verifier",component:ur,canActivate:[Ot("VERIFIER")]},{path:"profile",loadComponent:()=>import("./chunk-YVFMMSCQ.js").then(i=>i.ProfileComponent),canActivate:[Ot("USER","ADMIN","VERIFIER")],children:[{path:"",redirectTo:"overview",pathMatch:"full"},{path:"overview",loadComponent:()=>import("./chunk-SLMWZBZO.js").then(i=>i.ProfileOverviewComponent)},{path:"edit",loadComponent:()=>import("./chunk-JRWKWUN6.js").then(i=>i.ProfileEditComponent)},{path:"privacy",loadComponent:()=>import("./chunk-NXK7CVXH.js").then(i=>i.ProfilePrivacyComponent)}]},{path:"**",redirectTo:"/login"}];Eo(Ta,{providers:[Vo(xr),To(),Mi(So()),Mi(Oo([fa])),go(we,Hn),ga()]}).catch(i=>console.error("Bootstrap failed:",i));
